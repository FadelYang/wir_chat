function aA(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Sv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Nw={exports:{}},Ad={},Ow={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nl=Symbol.for("react.element"),lA=Symbol.for("react.portal"),uA=Symbol.for("react.fragment"),cA=Symbol.for("react.strict_mode"),dA=Symbol.for("react.profiler"),fA=Symbol.for("react.provider"),hA=Symbol.for("react.context"),pA=Symbol.for("react.forward_ref"),mA=Symbol.for("react.suspense"),gA=Symbol.for("react.memo"),yA=Symbol.for("react.lazy"),Iv=Symbol.iterator;function _A(e){return e===null||typeof e!="object"?null:(e=Iv&&e[Iv]||e["@@iterator"],typeof e=="function"?e:null)}var Lw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mw=Object.assign,Fw={};function ks(e,t,n){this.props=e,this.context=t,this.refs=Fw,this.updater=n||Lw}ks.prototype.isReactComponent={};ks.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ks.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Vw(){}Vw.prototype=ks.prototype;function ng(e,t,n){this.props=e,this.context=t,this.refs=Fw,this.updater=n||Lw}var rg=ng.prototype=new Vw;rg.constructor=ng;Mw(rg,ks.prototype);rg.isPureReactComponent=!0;var Tv=Array.isArray,$w=Object.prototype.hasOwnProperty,ig={current:null},Uw={key:!0,ref:!0,__self:!0,__source:!0};function zw(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)$w.call(t,r)&&!Uw.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Nl,type:e,key:o,ref:s,props:i,_owner:ig.current}}function vA(e,t){return{$$typeof:Nl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function og(e){return typeof e=="object"&&e!==null&&e.$$typeof===Nl}function EA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var xv=/\/+/g;function Wf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?EA(""+e.key):t.toString(36)}function rc(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Nl:case lA:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Wf(s,0):r,Tv(i)?(n="",e!=null&&(n=e.replace(xv,"$&/")+"/"),rc(i,t,n,"",function(u){return u})):i!=null&&(og(i)&&(i=vA(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(xv,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Tv(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+Wf(o,a);s+=rc(o,t,n,l,i)}else if(l=_A(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+Wf(o,a++),s+=rc(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Iu(e,t,n){if(e==null)return e;var r=[],i=0;return rc(e,r,"","",function(o){return t.call(n,o,i++)}),r}function wA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Bt={current:null},ic={transition:null},SA={ReactCurrentDispatcher:Bt,ReactCurrentBatchConfig:ic,ReactCurrentOwner:ig};function jw(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:Iu,forEach:function(e,t,n){Iu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Iu(e,function(){t++}),t},toArray:function(e){return Iu(e,function(t){return t})||[]},only:function(e){if(!og(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ge.Component=ks;ge.Fragment=uA;ge.Profiler=dA;ge.PureComponent=ng;ge.StrictMode=cA;ge.Suspense=mA;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SA;ge.act=jw;ge.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Mw({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=ig.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)$w.call(t,l)&&!Uw.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Nl,type:e.type,key:i,ref:o,props:r,_owner:s}};ge.createContext=function(e){return e={$$typeof:hA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:fA,_context:e},e.Consumer=e};ge.createElement=zw;ge.createFactory=function(e){var t=zw.bind(null,e);return t.type=e,t};ge.createRef=function(){return{current:null}};ge.forwardRef=function(e){return{$$typeof:pA,render:e}};ge.isValidElement=og;ge.lazy=function(e){return{$$typeof:yA,_payload:{_status:-1,_result:e},_init:wA}};ge.memo=function(e,t){return{$$typeof:gA,type:e,compare:t===void 0?null:t}};ge.startTransition=function(e){var t=ic.transition;ic.transition={};try{e()}finally{ic.transition=t}};ge.unstable_act=jw;ge.useCallback=function(e,t){return Bt.current.useCallback(e,t)};ge.useContext=function(e){return Bt.current.useContext(e)};ge.useDebugValue=function(){};ge.useDeferredValue=function(e){return Bt.current.useDeferredValue(e)};ge.useEffect=function(e,t){return Bt.current.useEffect(e,t)};ge.useId=function(){return Bt.current.useId()};ge.useImperativeHandle=function(e,t,n){return Bt.current.useImperativeHandle(e,t,n)};ge.useInsertionEffect=function(e,t){return Bt.current.useInsertionEffect(e,t)};ge.useLayoutEffect=function(e,t){return Bt.current.useLayoutEffect(e,t)};ge.useMemo=function(e,t){return Bt.current.useMemo(e,t)};ge.useReducer=function(e,t,n){return Bt.current.useReducer(e,t,n)};ge.useRef=function(e){return Bt.current.useRef(e)};ge.useState=function(e){return Bt.current.useState(e)};ge.useSyncExternalStore=function(e,t,n){return Bt.current.useSyncExternalStore(e,t,n)};ge.useTransition=function(){return Bt.current.useTransition()};ge.version="18.3.1";Ow.exports=ge;var S=Ow.exports;const De=Dw(S),fp=aA({__proto__:null,default:De},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IA=S,TA=Symbol.for("react.element"),xA=Symbol.for("react.fragment"),CA=Object.prototype.hasOwnProperty,RA=IA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bA={key:!0,ref:!0,__self:!0,__source:!0};function Bw(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)CA.call(t,r)&&!bA.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:TA,type:e,key:o,ref:s,props:i,_owner:RA.current}}Ad.Fragment=xA;Ad.jsx=Bw;Ad.jsxs=Bw;Nw.exports=Ad;var D=Nw.exports,Hw={exports:{}},pn={},Gw={exports:{}},qw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,W){var N=z.length;z.push(W);e:for(;0<N;){var de=N-1>>>1,ue=z[de];if(0<i(ue,W))z[de]=W,z[N]=ue,N=de;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var W=z[0],N=z.pop();if(N!==W){z[0]=N;e:for(var de=0,ue=z.length,O=ue>>>1;de<O;){var ye=2*(de+1)-1,Ue=z[ye],Ce=ye+1,ht=z[Ce];if(0>i(Ue,N))Ce<ue&&0>i(ht,Ue)?(z[de]=ht,z[Ce]=N,de=Ce):(z[de]=Ue,z[ye]=N,de=ye);else if(Ce<ue&&0>i(ht,N))z[de]=ht,z[Ce]=N,de=Ce;else break e}}return W}function i(z,W){var N=z.sortIndex-W.sortIndex;return N!==0?N:z.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],d=1,f=null,p=3,h=!1,m=!1,_=!1,T=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(z){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=z)r(u),W.sortIndex=W.expirationTime,t(l,W);else break;W=n(u)}}function M(z){if(_=!1,w(z),!m)if(n(l)!==null)m=!0,re(F);else{var W=n(u);W!==null&&ne(M,W.startTime-z)}}function F(z,W){m=!1,_&&(_=!1,y(x),x=-1),h=!0;var N=p;try{for(w(W),f=n(l);f!==null&&(!(f.expirationTime>W)||z&&!A());){var de=f.callback;if(typeof de=="function"){f.callback=null,p=f.priorityLevel;var ue=de(f.expirationTime<=W);W=e.unstable_now(),typeof ue=="function"?f.callback=ue:f===n(l)&&r(l),w(W)}else r(l);f=n(l)}if(f!==null)var O=!0;else{var ye=n(u);ye!==null&&ne(M,ye.startTime-W),O=!1}return O}finally{f=null,p=N,h=!1}}var P=!1,b=null,x=-1,C=5,I=-1;function A(){return!(e.unstable_now()-I<C)}function L(){if(b!==null){var z=e.unstable_now();I=z;var W=!0;try{W=b(!0,z)}finally{W?k():(P=!1,b=null)}}else P=!1}var k;if(typeof E=="function")k=function(){E(L)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,Z=Y.port2;Y.port1.onmessage=L,k=function(){Z.postMessage(null)}}else k=function(){T(L,0)};function re(z){b=z,P||(P=!0,k())}function ne(z,W){x=T(function(){z(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){m||h||(m=!0,re(F))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(z){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var N=p;p=W;try{return z()}finally{p=N}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,W){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var N=p;p=z;try{return W()}finally{p=N}},e.unstable_scheduleCallback=function(z,W,N){var de=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?de+N:de):N=de,z){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=N+ue,z={id:d++,callback:W,priorityLevel:z,startTime:N,expirationTime:ue,sortIndex:-1},N>de?(z.sortIndex=N,t(u,z),n(l)===null&&z===n(u)&&(_?(y(x),x=-1):_=!0,ne(M,N-de))):(z.sortIndex=ue,t(l,z),m||h||(m=!0,re(F))),z},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(z){var W=p;return function(){var N=p;p=W;try{return z.apply(this,arguments)}finally{p=N}}}})(qw);Gw.exports=qw;var AA=Gw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kA=S,fn=AA;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ww=new Set,tl={};function wo(e,t){fs(e,t),fs(e+"Capture",t)}function fs(e,t){for(tl[e]=t,e=0;e<t.length;e++)Ww.add(t[e])}var br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hp=Object.prototype.hasOwnProperty,PA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cv={},Rv={};function DA(e){return hp.call(Rv,e)?!0:hp.call(Cv,e)?!1:PA.test(e)?Rv[e]=!0:(Cv[e]=!0,!1)}function NA(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function OA(e,t,n,r){if(t===null||typeof t>"u"||NA(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ht(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Et[e]=new Ht(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Et[t]=new Ht(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Et[e]=new Ht(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Et[e]=new Ht(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Et[e]=new Ht(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Et[e]=new Ht(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Et[e]=new Ht(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Et[e]=new Ht(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Et[e]=new Ht(e,5,!1,e.toLowerCase(),null,!1,!1)});var sg=/[\-:]([a-z])/g;function ag(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sg,ag);Et[t]=new Ht(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sg,ag);Et[t]=new Ht(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sg,ag);Et[t]=new Ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Et[e]=new Ht(e,1,!1,e.toLowerCase(),null,!1,!1)});Et.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Et[e]=new Ht(e,1,!1,e.toLowerCase(),null,!0,!0)});function lg(e,t,n,r){var i=Et.hasOwnProperty(t)?Et[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(OA(t,n,i,r)&&(n=null),r||i===null?DA(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Mr=kA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tu=Symbol.for("react.element"),Uo=Symbol.for("react.portal"),zo=Symbol.for("react.fragment"),ug=Symbol.for("react.strict_mode"),pp=Symbol.for("react.profiler"),Kw=Symbol.for("react.provider"),Xw=Symbol.for("react.context"),cg=Symbol.for("react.forward_ref"),mp=Symbol.for("react.suspense"),gp=Symbol.for("react.suspense_list"),dg=Symbol.for("react.memo"),Xr=Symbol.for("react.lazy"),Qw=Symbol.for("react.offscreen"),bv=Symbol.iterator;function pa(e){return e===null||typeof e!="object"?null:(e=bv&&e[bv]||e["@@iterator"],typeof e=="function"?e:null)}var qe=Object.assign,Kf;function Ra(e){if(Kf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Kf=t&&t[1]||""}return`
`+Kf+e}var Xf=!1;function Qf(e,t){if(!e||Xf)return"";Xf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{Xf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ra(e):""}function LA(e){switch(e.tag){case 5:return Ra(e.type);case 16:return Ra("Lazy");case 13:return Ra("Suspense");case 19:return Ra("SuspenseList");case 0:case 2:case 15:return e=Qf(e.type,!1),e;case 11:return e=Qf(e.type.render,!1),e;case 1:return e=Qf(e.type,!0),e;default:return""}}function yp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zo:return"Fragment";case Uo:return"Portal";case pp:return"Profiler";case ug:return"StrictMode";case mp:return"Suspense";case gp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Xw:return(e.displayName||"Context")+".Consumer";case Kw:return(e._context.displayName||"Context")+".Provider";case cg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case dg:return t=e.displayName||null,t!==null?t:yp(e.type)||"Memo";case Xr:t=e._payload,e=e._init;try{return yp(e(t))}catch{}}return null}function MA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yp(t);case 8:return t===ug?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Si(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function FA(e){var t=Yw(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xu(e){e._valueTracker||(e._valueTracker=FA(e))}function Jw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Yw(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function kc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _p(e,t){var n=t.checked;return qe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Av(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Si(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Zw(e,t){t=t.checked,t!=null&&lg(e,"checked",t,!1)}function vp(e,t){Zw(e,t);var n=Si(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ep(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ep(e,t.type,Si(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function kv(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ep(e,t,n){(t!=="number"||kc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ba=Array.isArray;function Zo(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Si(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function wp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return qe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pv(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(G(92));if(ba(n)){if(1<n.length)throw Error(G(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Si(n)}}function eS(e,t){var n=Si(t.value),r=Si(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Dv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function tS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?tS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Cu,nS=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Cu=Cu||document.createElement("div"),Cu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Cu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function nl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ma={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VA=["Webkit","ms","Moz","O"];Object.keys(Ma).forEach(function(e){VA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ma[t]=Ma[e]})});function rS(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ma.hasOwnProperty(e)&&Ma[e]?(""+t).trim():t+"px"}function iS(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=rS(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var $A=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ip(e,t){if(t){if($A[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function Tp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xp=null;function fg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cp=null,es=null,ts=null;function Nv(e){if(e=Ml(e)){if(typeof Cp!="function")throw Error(G(280));var t=e.stateNode;t&&(t=Od(t),Cp(e.stateNode,e.type,t))}}function oS(e){es?ts?ts.push(e):ts=[e]:es=e}function sS(){if(es){var e=es,t=ts;if(ts=es=null,Nv(e),t)for(e=0;e<t.length;e++)Nv(t[e])}}function aS(e,t){return e(t)}function lS(){}var Yf=!1;function uS(e,t,n){if(Yf)return e(t,n);Yf=!0;try{return aS(e,t,n)}finally{Yf=!1,(es!==null||ts!==null)&&(lS(),sS())}}function rl(e,t){var n=e.stateNode;if(n===null)return null;var r=Od(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(G(231,t,typeof n));return n}var Rp=!1;if(br)try{var ma={};Object.defineProperty(ma,"passive",{get:function(){Rp=!0}}),window.addEventListener("test",ma,ma),window.removeEventListener("test",ma,ma)}catch{Rp=!1}function UA(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Fa=!1,Pc=null,Dc=!1,bp=null,zA={onError:function(e){Fa=!0,Pc=e}};function jA(e,t,n,r,i,o,s,a,l){Fa=!1,Pc=null,UA.apply(zA,arguments)}function BA(e,t,n,r,i,o,s,a,l){if(jA.apply(this,arguments),Fa){if(Fa){var u=Pc;Fa=!1,Pc=null}else throw Error(G(198));Dc||(Dc=!0,bp=u)}}function So(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function cS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ov(e){if(So(e)!==e)throw Error(G(188))}function HA(e){var t=e.alternate;if(!t){if(t=So(e),t===null)throw Error(G(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ov(i),e;if(o===r)return Ov(i),t;o=o.sibling}throw Error(G(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?e:t}function dS(e){return e=HA(e),e!==null?fS(e):null}function fS(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fS(e);if(t!==null)return t;e=e.sibling}return null}var hS=fn.unstable_scheduleCallback,Lv=fn.unstable_cancelCallback,GA=fn.unstable_shouldYield,qA=fn.unstable_requestPaint,Ye=fn.unstable_now,WA=fn.unstable_getCurrentPriorityLevel,hg=fn.unstable_ImmediatePriority,pS=fn.unstable_UserBlockingPriority,Nc=fn.unstable_NormalPriority,KA=fn.unstable_LowPriority,mS=fn.unstable_IdlePriority,kd=null,Zn=null;function XA(e){if(Zn&&typeof Zn.onCommitFiberRoot=="function")try{Zn.onCommitFiberRoot(kd,e,void 0,(e.current.flags&128)===128)}catch{}}var Fn=Math.clz32?Math.clz32:JA,QA=Math.log,YA=Math.LN2;function JA(e){return e>>>=0,e===0?32:31-(QA(e)/YA|0)|0}var Ru=64,bu=4194304;function Aa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Oc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Aa(a):(o&=s,o!==0&&(r=Aa(o)))}else s=n&~i,s!==0?r=Aa(s):o!==0&&(r=Aa(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Fn(t),i=1<<n,r|=e[n],t&=~i;return r}function ZA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ek(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Fn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=ZA(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function Ap(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gS(){var e=Ru;return Ru<<=1,!(Ru&4194240)&&(Ru=64),e}function Jf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ol(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Fn(t),e[t]=n}function tk(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Fn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function pg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Fn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ke=0;function yS(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _S,mg,vS,ES,wS,kp=!1,Au=[],ai=null,li=null,ui=null,il=new Map,ol=new Map,Yr=[],nk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mv(e,t){switch(e){case"focusin":case"focusout":ai=null;break;case"dragenter":case"dragleave":li=null;break;case"mouseover":case"mouseout":ui=null;break;case"pointerover":case"pointerout":il.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(t.pointerId)}}function ga(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Ml(t),t!==null&&mg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function rk(e,t,n,r,i){switch(t){case"focusin":return ai=ga(ai,e,t,n,r,i),!0;case"dragenter":return li=ga(li,e,t,n,r,i),!0;case"mouseover":return ui=ga(ui,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return il.set(o,ga(il.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ol.set(o,ga(ol.get(o)||null,e,t,n,r,i)),!0}return!1}function SS(e){var t=Ji(e.target);if(t!==null){var n=So(t);if(n!==null){if(t=n.tag,t===13){if(t=cS(n),t!==null){e.blockedOn=t,wS(e.priority,function(){vS(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);xp=r,n.target.dispatchEvent(r),xp=null}else return t=Ml(n),t!==null&&mg(t),e.blockedOn=n,!1;t.shift()}return!0}function Fv(e,t,n){oc(e)&&n.delete(t)}function ik(){kp=!1,ai!==null&&oc(ai)&&(ai=null),li!==null&&oc(li)&&(li=null),ui!==null&&oc(ui)&&(ui=null),il.forEach(Fv),ol.forEach(Fv)}function ya(e,t){e.blockedOn===t&&(e.blockedOn=null,kp||(kp=!0,fn.unstable_scheduleCallback(fn.unstable_NormalPriority,ik)))}function sl(e){function t(i){return ya(i,e)}if(0<Au.length){ya(Au[0],e);for(var n=1;n<Au.length;n++){var r=Au[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ai!==null&&ya(ai,e),li!==null&&ya(li,e),ui!==null&&ya(ui,e),il.forEach(t),ol.forEach(t),n=0;n<Yr.length;n++)r=Yr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Yr.length&&(n=Yr[0],n.blockedOn===null);)SS(n),n.blockedOn===null&&Yr.shift()}var ns=Mr.ReactCurrentBatchConfig,Lc=!0;function ok(e,t,n,r){var i=ke,o=ns.transition;ns.transition=null;try{ke=1,gg(e,t,n,r)}finally{ke=i,ns.transition=o}}function sk(e,t,n,r){var i=ke,o=ns.transition;ns.transition=null;try{ke=4,gg(e,t,n,r)}finally{ke=i,ns.transition=o}}function gg(e,t,n,r){if(Lc){var i=Pp(e,t,n,r);if(i===null)lh(e,t,r,Mc,n),Mv(e,r);else if(rk(i,e,t,n,r))r.stopPropagation();else if(Mv(e,r),t&4&&-1<nk.indexOf(e)){for(;i!==null;){var o=Ml(i);if(o!==null&&_S(o),o=Pp(e,t,n,r),o===null&&lh(e,t,r,Mc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else lh(e,t,r,null,n)}}var Mc=null;function Pp(e,t,n,r){if(Mc=null,e=fg(r),e=Ji(e),e!==null)if(t=So(e),t===null)e=null;else if(n=t.tag,n===13){if(e=cS(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Mc=e,null}function IS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(WA()){case hg:return 1;case pS:return 4;case Nc:case KA:return 16;case mS:return 536870912;default:return 16}default:return 16}}var ri=null,yg=null,sc=null;function TS(){if(sc)return sc;var e,t=yg,n=t.length,r,i="value"in ri?ri.value:ri.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return sc=i.slice(e,1<r?1-r:void 0)}function ac(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ku(){return!0}function Vv(){return!1}function mn(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ku:Vv,this.isPropagationStopped=Vv,this}return qe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ku)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ku)},persist:function(){},isPersistent:ku}),t}var Ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_g=mn(Ps),Ll=qe({},Ps,{view:0,detail:0}),ak=mn(Ll),Zf,eh,_a,Pd=qe({},Ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_a&&(_a&&e.type==="mousemove"?(Zf=e.screenX-_a.screenX,eh=e.screenY-_a.screenY):eh=Zf=0,_a=e),Zf)},movementY:function(e){return"movementY"in e?e.movementY:eh}}),$v=mn(Pd),lk=qe({},Pd,{dataTransfer:0}),uk=mn(lk),ck=qe({},Ll,{relatedTarget:0}),th=mn(ck),dk=qe({},Ps,{animationName:0,elapsedTime:0,pseudoElement:0}),fk=mn(dk),hk=qe({},Ps,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pk=mn(hk),mk=qe({},Ps,{data:0}),Uv=mn(mk),gk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_k={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vk(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_k[e])?!!t[e]:!1}function vg(){return vk}var Ek=qe({},Ll,{key:function(e){if(e.key){var t=gk[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ac(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vg,charCode:function(e){return e.type==="keypress"?ac(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ac(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wk=mn(Ek),Sk=qe({},Pd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zv=mn(Sk),Ik=qe({},Ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vg}),Tk=mn(Ik),xk=qe({},Ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ck=mn(xk),Rk=qe({},Pd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bk=mn(Rk),Ak=[9,13,27,32],Eg=br&&"CompositionEvent"in window,Va=null;br&&"documentMode"in document&&(Va=document.documentMode);var kk=br&&"TextEvent"in window&&!Va,xS=br&&(!Eg||Va&&8<Va&&11>=Va),jv=" ",Bv=!1;function CS(e,t){switch(e){case"keyup":return Ak.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jo=!1;function Pk(e,t){switch(e){case"compositionend":return RS(t);case"keypress":return t.which!==32?null:(Bv=!0,jv);case"textInput":return e=t.data,e===jv&&Bv?null:e;default:return null}}function Dk(e,t){if(jo)return e==="compositionend"||!Eg&&CS(e,t)?(e=TS(),sc=yg=ri=null,jo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xS&&t.locale!=="ko"?null:t.data;default:return null}}var Nk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Nk[e.type]:t==="textarea"}function bS(e,t,n,r){oS(r),t=Fc(t,"onChange"),0<t.length&&(n=new _g("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $a=null,al=null;function Ok(e){$S(e,0)}function Dd(e){var t=Go(e);if(Jw(t))return e}function Lk(e,t){if(e==="change")return t}var AS=!1;if(br){var nh;if(br){var rh="oninput"in document;if(!rh){var Gv=document.createElement("div");Gv.setAttribute("oninput","return;"),rh=typeof Gv.oninput=="function"}nh=rh}else nh=!1;AS=nh&&(!document.documentMode||9<document.documentMode)}function qv(){$a&&($a.detachEvent("onpropertychange",kS),al=$a=null)}function kS(e){if(e.propertyName==="value"&&Dd(al)){var t=[];bS(t,al,e,fg(e)),uS(Ok,t)}}function Mk(e,t,n){e==="focusin"?(qv(),$a=t,al=n,$a.attachEvent("onpropertychange",kS)):e==="focusout"&&qv()}function Fk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Dd(al)}function Vk(e,t){if(e==="click")return Dd(t)}function $k(e,t){if(e==="input"||e==="change")return Dd(t)}function Uk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zn=typeof Object.is=="function"?Object.is:Uk;function ll(e,t){if(zn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!hp.call(t,i)||!zn(e[i],t[i]))return!1}return!0}function Wv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kv(e,t){var n=Wv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wv(n)}}function PS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?PS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function DS(){for(var e=window,t=kc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=kc(e.document)}return t}function wg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zk(e){var t=DS(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&PS(n.ownerDocument.documentElement,n)){if(r!==null&&wg(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Kv(n,o);var s=Kv(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jk=br&&"documentMode"in document&&11>=document.documentMode,Bo=null,Dp=null,Ua=null,Np=!1;function Xv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Np||Bo==null||Bo!==kc(r)||(r=Bo,"selectionStart"in r&&wg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ua&&ll(Ua,r)||(Ua=r,r=Fc(Dp,"onSelect"),0<r.length&&(t=new _g("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Bo)))}function Pu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ho={animationend:Pu("Animation","AnimationEnd"),animationiteration:Pu("Animation","AnimationIteration"),animationstart:Pu("Animation","AnimationStart"),transitionend:Pu("Transition","TransitionEnd")},ih={},NS={};br&&(NS=document.createElement("div").style,"AnimationEvent"in window||(delete Ho.animationend.animation,delete Ho.animationiteration.animation,delete Ho.animationstart.animation),"TransitionEvent"in window||delete Ho.transitionend.transition);function Nd(e){if(ih[e])return ih[e];if(!Ho[e])return e;var t=Ho[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in NS)return ih[e]=t[n];return e}var OS=Nd("animationend"),LS=Nd("animationiteration"),MS=Nd("animationstart"),FS=Nd("transitionend"),VS=new Map,Qv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ni(e,t){VS.set(e,t),wo(t,[e])}for(var oh=0;oh<Qv.length;oh++){var sh=Qv[oh],Bk=sh.toLowerCase(),Hk=sh[0].toUpperCase()+sh.slice(1);Ni(Bk,"on"+Hk)}Ni(OS,"onAnimationEnd");Ni(LS,"onAnimationIteration");Ni(MS,"onAnimationStart");Ni("dblclick","onDoubleClick");Ni("focusin","onFocus");Ni("focusout","onBlur");Ni(FS,"onTransitionEnd");fs("onMouseEnter",["mouseout","mouseover"]);fs("onMouseLeave",["mouseout","mouseover"]);fs("onPointerEnter",["pointerout","pointerover"]);fs("onPointerLeave",["pointerout","pointerover"]);wo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wo("onBeforeInput",["compositionend","keypress","textInput","paste"]);wo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gk=new Set("cancel close invalid load scroll toggle".split(" ").concat(ka));function Yv(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,BA(r,t,void 0,e),e.currentTarget=null}function $S(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Yv(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Yv(i,a,u),o=l}}}if(Dc)throw e=bp,Dc=!1,bp=null,e}function Fe(e,t){var n=t[Vp];n===void 0&&(n=t[Vp]=new Set);var r=e+"__bubble";n.has(r)||(US(t,e,2,!1),n.add(r))}function ah(e,t,n){var r=0;t&&(r|=4),US(n,e,r,t)}var Du="_reactListening"+Math.random().toString(36).slice(2);function ul(e){if(!e[Du]){e[Du]=!0,Ww.forEach(function(n){n!=="selectionchange"&&(Gk.has(n)||ah(n,!1,e),ah(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Du]||(t[Du]=!0,ah("selectionchange",!1,t))}}function US(e,t,n,r){switch(IS(t)){case 1:var i=ok;break;case 4:i=sk;break;default:i=gg}n=i.bind(null,t,n,e),i=void 0,!Rp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function lh(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ji(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}uS(function(){var u=o,d=fg(n),f=[];e:{var p=VS.get(e);if(p!==void 0){var h=_g,m=e;switch(e){case"keypress":if(ac(n)===0)break e;case"keydown":case"keyup":h=wk;break;case"focusin":m="focus",h=th;break;case"focusout":m="blur",h=th;break;case"beforeblur":case"afterblur":h=th;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=$v;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=uk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Tk;break;case OS:case LS:case MS:h=fk;break;case FS:h=Ck;break;case"scroll":h=ak;break;case"wheel":h=bk;break;case"copy":case"cut":case"paste":h=pk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=zv}var _=(t&4)!==0,T=!_&&e==="scroll",y=_?p!==null?p+"Capture":null:p;_=[];for(var E=u,w;E!==null;){w=E;var M=w.stateNode;if(w.tag===5&&M!==null&&(w=M,y!==null&&(M=rl(E,y),M!=null&&_.push(cl(E,M,w)))),T)break;E=E.return}0<_.length&&(p=new h(p,m,null,n,d),f.push({event:p,listeners:_}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&n!==xp&&(m=n.relatedTarget||n.fromElement)&&(Ji(m)||m[Ar]))break e;if((h||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=u,m=m?Ji(m):null,m!==null&&(T=So(m),m!==T||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=u),h!==m)){if(_=$v,M="onMouseLeave",y="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(_=zv,M="onPointerLeave",y="onPointerEnter",E="pointer"),T=h==null?p:Go(h),w=m==null?p:Go(m),p=new _(M,E+"leave",h,n,d),p.target=T,p.relatedTarget=w,M=null,Ji(d)===u&&(_=new _(y,E+"enter",m,n,d),_.target=w,_.relatedTarget=T,M=_),T=M,h&&m)t:{for(_=h,y=m,E=0,w=_;w;w=No(w))E++;for(w=0,M=y;M;M=No(M))w++;for(;0<E-w;)_=No(_),E--;for(;0<w-E;)y=No(y),w--;for(;E--;){if(_===y||y!==null&&_===y.alternate)break t;_=No(_),y=No(y)}_=null}else _=null;h!==null&&Jv(f,p,h,_,!1),m!==null&&T!==null&&Jv(f,T,m,_,!0)}}e:{if(p=u?Go(u):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var F=Lk;else if(Hv(p))if(AS)F=$k;else{F=Fk;var P=Mk}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(F=Vk);if(F&&(F=F(e,u))){bS(f,F,n,d);break e}P&&P(e,p,u),e==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&Ep(p,"number",p.value)}switch(P=u?Go(u):window,e){case"focusin":(Hv(P)||P.contentEditable==="true")&&(Bo=P,Dp=u,Ua=null);break;case"focusout":Ua=Dp=Bo=null;break;case"mousedown":Np=!0;break;case"contextmenu":case"mouseup":case"dragend":Np=!1,Xv(f,n,d);break;case"selectionchange":if(jk)break;case"keydown":case"keyup":Xv(f,n,d)}var b;if(Eg)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else jo?CS(e,n)&&(x="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(xS&&n.locale!=="ko"&&(jo||x!=="onCompositionStart"?x==="onCompositionEnd"&&jo&&(b=TS()):(ri=d,yg="value"in ri?ri.value:ri.textContent,jo=!0)),P=Fc(u,x),0<P.length&&(x=new Uv(x,e,null,n,d),f.push({event:x,listeners:P}),b?x.data=b:(b=RS(n),b!==null&&(x.data=b)))),(b=kk?Pk(e,n):Dk(e,n))&&(u=Fc(u,"onBeforeInput"),0<u.length&&(d=new Uv("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=b))}$S(f,t)})}function cl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fc(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=rl(e,n),o!=null&&r.unshift(cl(e,o,i)),o=rl(e,t),o!=null&&r.push(cl(e,o,i))),e=e.return}return r}function No(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Jv(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=rl(n,o),l!=null&&s.unshift(cl(n,l,a))):i||(l=rl(n,o),l!=null&&s.push(cl(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var qk=/\r\n?/g,Wk=/\u0000|\uFFFD/g;function Zv(e){return(typeof e=="string"?e:""+e).replace(qk,`
`).replace(Wk,"")}function Nu(e,t,n){if(t=Zv(t),Zv(e)!==t&&n)throw Error(G(425))}function Vc(){}var Op=null,Lp=null;function Mp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fp=typeof setTimeout=="function"?setTimeout:void 0,Kk=typeof clearTimeout=="function"?clearTimeout:void 0,e0=typeof Promise=="function"?Promise:void 0,Xk=typeof queueMicrotask=="function"?queueMicrotask:typeof e0<"u"?function(e){return e0.resolve(null).then(e).catch(Qk)}:Fp;function Qk(e){setTimeout(function(){throw e})}function uh(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),sl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);sl(t)}function ci(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function t0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ds=Math.random().toString(36).slice(2),Jn="__reactFiber$"+Ds,dl="__reactProps$"+Ds,Ar="__reactContainer$"+Ds,Vp="__reactEvents$"+Ds,Yk="__reactListeners$"+Ds,Jk="__reactHandles$"+Ds;function Ji(e){var t=e[Jn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ar]||n[Jn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=t0(e);e!==null;){if(n=e[Jn])return n;e=t0(e)}return t}e=n,n=e.parentNode}return null}function Ml(e){return e=e[Jn]||e[Ar],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Go(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function Od(e){return e[dl]||null}var $p=[],qo=-1;function Oi(e){return{current:e}}function $e(e){0>qo||(e.current=$p[qo],$p[qo]=null,qo--)}function Le(e,t){qo++,$p[qo]=e.current,e.current=t}var Ii={},Ot=Oi(Ii),Xt=Oi(!1),ao=Ii;function hs(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Qt(e){return e=e.childContextTypes,e!=null}function $c(){$e(Xt),$e(Ot)}function n0(e,t,n){if(Ot.current!==Ii)throw Error(G(168));Le(Ot,t),Le(Xt,n)}function zS(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(G(108,MA(e)||"Unknown",i));return qe({},n,r)}function Uc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,ao=Ot.current,Le(Ot,e),Le(Xt,Xt.current),!0}function r0(e,t,n){var r=e.stateNode;if(!r)throw Error(G(169));n?(e=zS(e,t,ao),r.__reactInternalMemoizedMergedChildContext=e,$e(Xt),$e(Ot),Le(Ot,e)):$e(Xt),Le(Xt,n)}var yr=null,Ld=!1,ch=!1;function jS(e){yr===null?yr=[e]:yr.push(e)}function Zk(e){Ld=!0,jS(e)}function Li(){if(!ch&&yr!==null){ch=!0;var e=0,t=ke;try{var n=yr;for(ke=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}yr=null,Ld=!1}catch(i){throw yr!==null&&(yr=yr.slice(e+1)),hS(hg,Li),i}finally{ke=t,ch=!1}}return null}var Wo=[],Ko=0,zc=null,jc=0,_n=[],vn=0,lo=null,_r=1,vr="";function qi(e,t){Wo[Ko++]=jc,Wo[Ko++]=zc,zc=e,jc=t}function BS(e,t,n){_n[vn++]=_r,_n[vn++]=vr,_n[vn++]=lo,lo=e;var r=_r;e=vr;var i=32-Fn(r)-1;r&=~(1<<i),n+=1;var o=32-Fn(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,_r=1<<32-Fn(t)+i|n<<i|r,vr=o+e}else _r=1<<o|n<<i|r,vr=e}function Sg(e){e.return!==null&&(qi(e,1),BS(e,1,0))}function Ig(e){for(;e===zc;)zc=Wo[--Ko],Wo[Ko]=null,jc=Wo[--Ko],Wo[Ko]=null;for(;e===lo;)lo=_n[--vn],_n[vn]=null,vr=_n[--vn],_n[vn]=null,_r=_n[--vn],_n[vn]=null}var un=null,ln=null,ze=!1,Ln=null;function HS(e,t){var n=Sn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function i0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,un=e,ln=ci(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,un=e,ln=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=lo!==null?{id:_r,overflow:vr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Sn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,un=e,ln=null,!0):!1;default:return!1}}function Up(e){return(e.mode&1)!==0&&(e.flags&128)===0}function zp(e){if(ze){var t=ln;if(t){var n=t;if(!i0(e,t)){if(Up(e))throw Error(G(418));t=ci(n.nextSibling);var r=un;t&&i0(e,t)?HS(r,n):(e.flags=e.flags&-4097|2,ze=!1,un=e)}}else{if(Up(e))throw Error(G(418));e.flags=e.flags&-4097|2,ze=!1,un=e}}}function o0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;un=e}function Ou(e){if(e!==un)return!1;if(!ze)return o0(e),ze=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Mp(e.type,e.memoizedProps)),t&&(t=ln)){if(Up(e))throw GS(),Error(G(418));for(;t;)HS(e,t),t=ci(t.nextSibling)}if(o0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ln=ci(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ln=null}}else ln=un?ci(e.stateNode.nextSibling):null;return!0}function GS(){for(var e=ln;e;)e=ci(e.nextSibling)}function ps(){ln=un=null,ze=!1}function Tg(e){Ln===null?Ln=[e]:Ln.push(e)}var eP=Mr.ReactCurrentBatchConfig;function va(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,e))}return e}function Lu(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function s0(e){var t=e._init;return t(e._payload)}function qS(e){function t(y,E){if(e){var w=y.deletions;w===null?(y.deletions=[E],y.flags|=16):w.push(E)}}function n(y,E){if(!e)return null;for(;E!==null;)t(y,E),E=E.sibling;return null}function r(y,E){for(y=new Map;E!==null;)E.key!==null?y.set(E.key,E):y.set(E.index,E),E=E.sibling;return y}function i(y,E){return y=pi(y,E),y.index=0,y.sibling=null,y}function o(y,E,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<E?(y.flags|=2,E):w):(y.flags|=2,E)):(y.flags|=1048576,E)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,E,w,M){return E===null||E.tag!==6?(E=yh(w,y.mode,M),E.return=y,E):(E=i(E,w),E.return=y,E)}function l(y,E,w,M){var F=w.type;return F===zo?d(y,E,w.props.children,M,w.key):E!==null&&(E.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Xr&&s0(F)===E.type)?(M=i(E,w.props),M.ref=va(y,E,w),M.return=y,M):(M=pc(w.type,w.key,w.props,null,y.mode,M),M.ref=va(y,E,w),M.return=y,M)}function u(y,E,w,M){return E===null||E.tag!==4||E.stateNode.containerInfo!==w.containerInfo||E.stateNode.implementation!==w.implementation?(E=_h(w,y.mode,M),E.return=y,E):(E=i(E,w.children||[]),E.return=y,E)}function d(y,E,w,M,F){return E===null||E.tag!==7?(E=oo(w,y.mode,M,F),E.return=y,E):(E=i(E,w),E.return=y,E)}function f(y,E,w){if(typeof E=="string"&&E!==""||typeof E=="number")return E=yh(""+E,y.mode,w),E.return=y,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Tu:return w=pc(E.type,E.key,E.props,null,y.mode,w),w.ref=va(y,null,E),w.return=y,w;case Uo:return E=_h(E,y.mode,w),E.return=y,E;case Xr:var M=E._init;return f(y,M(E._payload),w)}if(ba(E)||pa(E))return E=oo(E,y.mode,w,null),E.return=y,E;Lu(y,E)}return null}function p(y,E,w,M){var F=E!==null?E.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return F!==null?null:a(y,E,""+w,M);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Tu:return w.key===F?l(y,E,w,M):null;case Uo:return w.key===F?u(y,E,w,M):null;case Xr:return F=w._init,p(y,E,F(w._payload),M)}if(ba(w)||pa(w))return F!==null?null:d(y,E,w,M,null);Lu(y,w)}return null}function h(y,E,w,M,F){if(typeof M=="string"&&M!==""||typeof M=="number")return y=y.get(w)||null,a(E,y,""+M,F);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Tu:return y=y.get(M.key===null?w:M.key)||null,l(E,y,M,F);case Uo:return y=y.get(M.key===null?w:M.key)||null,u(E,y,M,F);case Xr:var P=M._init;return h(y,E,w,P(M._payload),F)}if(ba(M)||pa(M))return y=y.get(w)||null,d(E,y,M,F,null);Lu(E,M)}return null}function m(y,E,w,M){for(var F=null,P=null,b=E,x=E=0,C=null;b!==null&&x<w.length;x++){b.index>x?(C=b,b=null):C=b.sibling;var I=p(y,b,w[x],M);if(I===null){b===null&&(b=C);break}e&&b&&I.alternate===null&&t(y,b),E=o(I,E,x),P===null?F=I:P.sibling=I,P=I,b=C}if(x===w.length)return n(y,b),ze&&qi(y,x),F;if(b===null){for(;x<w.length;x++)b=f(y,w[x],M),b!==null&&(E=o(b,E,x),P===null?F=b:P.sibling=b,P=b);return ze&&qi(y,x),F}for(b=r(y,b);x<w.length;x++)C=h(b,y,x,w[x],M),C!==null&&(e&&C.alternate!==null&&b.delete(C.key===null?x:C.key),E=o(C,E,x),P===null?F=C:P.sibling=C,P=C);return e&&b.forEach(function(A){return t(y,A)}),ze&&qi(y,x),F}function _(y,E,w,M){var F=pa(w);if(typeof F!="function")throw Error(G(150));if(w=F.call(w),w==null)throw Error(G(151));for(var P=F=null,b=E,x=E=0,C=null,I=w.next();b!==null&&!I.done;x++,I=w.next()){b.index>x?(C=b,b=null):C=b.sibling;var A=p(y,b,I.value,M);if(A===null){b===null&&(b=C);break}e&&b&&A.alternate===null&&t(y,b),E=o(A,E,x),P===null?F=A:P.sibling=A,P=A,b=C}if(I.done)return n(y,b),ze&&qi(y,x),F;if(b===null){for(;!I.done;x++,I=w.next())I=f(y,I.value,M),I!==null&&(E=o(I,E,x),P===null?F=I:P.sibling=I,P=I);return ze&&qi(y,x),F}for(b=r(y,b);!I.done;x++,I=w.next())I=h(b,y,x,I.value,M),I!==null&&(e&&I.alternate!==null&&b.delete(I.key===null?x:I.key),E=o(I,E,x),P===null?F=I:P.sibling=I,P=I);return e&&b.forEach(function(L){return t(y,L)}),ze&&qi(y,x),F}function T(y,E,w,M){if(typeof w=="object"&&w!==null&&w.type===zo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Tu:e:{for(var F=w.key,P=E;P!==null;){if(P.key===F){if(F=w.type,F===zo){if(P.tag===7){n(y,P.sibling),E=i(P,w.props.children),E.return=y,y=E;break e}}else if(P.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Xr&&s0(F)===P.type){n(y,P.sibling),E=i(P,w.props),E.ref=va(y,P,w),E.return=y,y=E;break e}n(y,P);break}else t(y,P);P=P.sibling}w.type===zo?(E=oo(w.props.children,y.mode,M,w.key),E.return=y,y=E):(M=pc(w.type,w.key,w.props,null,y.mode,M),M.ref=va(y,E,w),M.return=y,y=M)}return s(y);case Uo:e:{for(P=w.key;E!==null;){if(E.key===P)if(E.tag===4&&E.stateNode.containerInfo===w.containerInfo&&E.stateNode.implementation===w.implementation){n(y,E.sibling),E=i(E,w.children||[]),E.return=y,y=E;break e}else{n(y,E);break}else t(y,E);E=E.sibling}E=_h(w,y.mode,M),E.return=y,y=E}return s(y);case Xr:return P=w._init,T(y,E,P(w._payload),M)}if(ba(w))return m(y,E,w,M);if(pa(w))return _(y,E,w,M);Lu(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,E!==null&&E.tag===6?(n(y,E.sibling),E=i(E,w),E.return=y,y=E):(n(y,E),E=yh(w,y.mode,M),E.return=y,y=E),s(y)):n(y,E)}return T}var ms=qS(!0),WS=qS(!1),Bc=Oi(null),Hc=null,Xo=null,xg=null;function Cg(){xg=Xo=Hc=null}function Rg(e){var t=Bc.current;$e(Bc),e._currentValue=t}function jp(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function rs(e,t){Hc=e,xg=Xo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Kt=!0),e.firstContext=null)}function xn(e){var t=e._currentValue;if(xg!==e)if(e={context:e,memoizedValue:t,next:null},Xo===null){if(Hc===null)throw Error(G(308));Xo=e,Hc.dependencies={lanes:0,firstContext:e}}else Xo=Xo.next=e;return t}var Zi=null;function bg(e){Zi===null?Zi=[e]:Zi.push(e)}function KS(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,bg(t)):(n.next=i.next,i.next=n),t.interleaved=n,kr(e,r)}function kr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Qr=!1;function Ag(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function XS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Tr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function di(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,kr(e,n)}return i=r.interleaved,i===null?(t.next=t,bg(r)):(t.next=i.next,i.next=t),r.interleaved=t,kr(e,n)}function lc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,pg(e,n)}}function a0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Gc(e,t,n,r){var i=e.updateQueue;Qr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,d=u=l=null,a=o;do{var p=a.lane,h=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,_=a;switch(p=t,h=n,_.tag){case 1:if(m=_.payload,typeof m=="function"){f=m.call(h,f,p);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=_.payload,p=typeof m=="function"?m.call(h,f,p):m,p==null)break e;f=qe({},f,p);break e;case 2:Qr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else h={eventTime:h,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=h,l=f):d=d.next=h,s|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);co|=s,e.lanes=s,e.memoizedState=f}}function l0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(G(191,i));i.call(r)}}}var Fl={},er=Oi(Fl),fl=Oi(Fl),hl=Oi(Fl);function eo(e){if(e===Fl)throw Error(G(174));return e}function kg(e,t){switch(Le(hl,t),Le(fl,e),Le(er,Fl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Sp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Sp(t,e)}$e(er),Le(er,t)}function gs(){$e(er),$e(fl),$e(hl)}function QS(e){eo(hl.current);var t=eo(er.current),n=Sp(t,e.type);t!==n&&(Le(fl,e),Le(er,n))}function Pg(e){fl.current===e&&($e(er),$e(fl))}var He=Oi(0);function qc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var dh=[];function Dg(){for(var e=0;e<dh.length;e++)dh[e]._workInProgressVersionPrimary=null;dh.length=0}var uc=Mr.ReactCurrentDispatcher,fh=Mr.ReactCurrentBatchConfig,uo=0,Ge=null,nt=null,ut=null,Wc=!1,za=!1,pl=0,tP=0;function xt(){throw Error(G(321))}function Ng(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!zn(e[n],t[n]))return!1;return!0}function Og(e,t,n,r,i,o){if(uo=o,Ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,uc.current=e===null||e.memoizedState===null?oP:sP,e=n(r,i),za){o=0;do{if(za=!1,pl=0,25<=o)throw Error(G(301));o+=1,ut=nt=null,t.updateQueue=null,uc.current=aP,e=n(r,i)}while(za)}if(uc.current=Kc,t=nt!==null&&nt.next!==null,uo=0,ut=nt=Ge=null,Wc=!1,t)throw Error(G(300));return e}function Lg(){var e=pl!==0;return pl=0,e}function Xn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?Ge.memoizedState=ut=e:ut=ut.next=e,ut}function Cn(){if(nt===null){var e=Ge.alternate;e=e!==null?e.memoizedState:null}else e=nt.next;var t=ut===null?Ge.memoizedState:ut.next;if(t!==null)ut=t,nt=e;else{if(e===null)throw Error(G(310));nt=e,e={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},ut===null?Ge.memoizedState=ut=e:ut=ut.next=e}return ut}function ml(e,t){return typeof t=="function"?t(e):t}function hh(e){var t=Cn(),n=t.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=e;var r=nt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var d=u.lane;if((uo&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,Ge.lanes|=d,co|=d}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,zn(r,t.memoizedState)||(Kt=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Ge.lanes|=o,co|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ph(e){var t=Cn(),n=t.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);zn(o,t.memoizedState)||(Kt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function YS(){}function JS(e,t){var n=Ge,r=Cn(),i=t(),o=!zn(r.memoizedState,i);if(o&&(r.memoizedState=i,Kt=!0),r=r.queue,Mg(tI.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||ut!==null&&ut.memoizedState.tag&1){if(n.flags|=2048,gl(9,eI.bind(null,n,r,i,t),void 0,null),ct===null)throw Error(G(349));uo&30||ZS(n,t,i)}return i}function ZS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function eI(e,t,n,r){t.value=n,t.getSnapshot=r,nI(t)&&rI(e)}function tI(e,t,n){return n(function(){nI(t)&&rI(e)})}function nI(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!zn(e,n)}catch{return!0}}function rI(e){var t=kr(e,1);t!==null&&Vn(t,e,1,-1)}function u0(e){var t=Xn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:e},t.queue=e,e=e.dispatch=iP.bind(null,Ge,e),[t.memoizedState,e]}function gl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function iI(){return Cn().memoizedState}function cc(e,t,n,r){var i=Xn();Ge.flags|=e,i.memoizedState=gl(1|t,n,void 0,r===void 0?null:r)}function Md(e,t,n,r){var i=Cn();r=r===void 0?null:r;var o=void 0;if(nt!==null){var s=nt.memoizedState;if(o=s.destroy,r!==null&&Ng(r,s.deps)){i.memoizedState=gl(t,n,o,r);return}}Ge.flags|=e,i.memoizedState=gl(1|t,n,o,r)}function c0(e,t){return cc(8390656,8,e,t)}function Mg(e,t){return Md(2048,8,e,t)}function oI(e,t){return Md(4,2,e,t)}function sI(e,t){return Md(4,4,e,t)}function aI(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lI(e,t,n){return n=n!=null?n.concat([e]):null,Md(4,4,aI.bind(null,t,e),n)}function Fg(){}function uI(e,t){var n=Cn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ng(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function cI(e,t){var n=Cn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ng(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function dI(e,t,n){return uo&21?(zn(n,t)||(n=gS(),Ge.lanes|=n,co|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Kt=!0),e.memoizedState=n)}function nP(e,t){var n=ke;ke=n!==0&&4>n?n:4,e(!0);var r=fh.transition;fh.transition={};try{e(!1),t()}finally{ke=n,fh.transition=r}}function fI(){return Cn().memoizedState}function rP(e,t,n){var r=hi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hI(e))pI(t,n);else if(n=KS(e,t,n,r),n!==null){var i=jt();Vn(n,e,r,i),mI(n,t,r)}}function iP(e,t,n){var r=hi(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hI(e))pI(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,zn(a,s)){var l=t.interleaved;l===null?(i.next=i,bg(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=KS(e,t,i,r),n!==null&&(i=jt(),Vn(n,e,r,i),mI(n,t,r))}}function hI(e){var t=e.alternate;return e===Ge||t!==null&&t===Ge}function pI(e,t){za=Wc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function mI(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,pg(e,n)}}var Kc={readContext:xn,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},oP={readContext:xn,useCallback:function(e,t){return Xn().memoizedState=[e,t===void 0?null:t],e},useContext:xn,useEffect:c0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,cc(4194308,4,aI.bind(null,t,e),n)},useLayoutEffect:function(e,t){return cc(4194308,4,e,t)},useInsertionEffect:function(e,t){return cc(4,2,e,t)},useMemo:function(e,t){var n=Xn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=rP.bind(null,Ge,e),[r.memoizedState,e]},useRef:function(e){var t=Xn();return e={current:e},t.memoizedState=e},useState:u0,useDebugValue:Fg,useDeferredValue:function(e){return Xn().memoizedState=e},useTransition:function(){var e=u0(!1),t=e[0];return e=nP.bind(null,e[1]),Xn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ge,i=Xn();if(ze){if(n===void 0)throw Error(G(407));n=n()}else{if(n=t(),ct===null)throw Error(G(349));uo&30||ZS(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,c0(tI.bind(null,r,o,e),[e]),r.flags|=2048,gl(9,eI.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Xn(),t=ct.identifierPrefix;if(ze){var n=vr,r=_r;n=(r&~(1<<32-Fn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=pl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=tP++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sP={readContext:xn,useCallback:uI,useContext:xn,useEffect:Mg,useImperativeHandle:lI,useInsertionEffect:oI,useLayoutEffect:sI,useMemo:cI,useReducer:hh,useRef:iI,useState:function(){return hh(ml)},useDebugValue:Fg,useDeferredValue:function(e){var t=Cn();return dI(t,nt.memoizedState,e)},useTransition:function(){var e=hh(ml)[0],t=Cn().memoizedState;return[e,t]},useMutableSource:YS,useSyncExternalStore:JS,useId:fI,unstable_isNewReconciler:!1},aP={readContext:xn,useCallback:uI,useContext:xn,useEffect:Mg,useImperativeHandle:lI,useInsertionEffect:oI,useLayoutEffect:sI,useMemo:cI,useReducer:ph,useRef:iI,useState:function(){return ph(ml)},useDebugValue:Fg,useDeferredValue:function(e){var t=Cn();return nt===null?t.memoizedState=e:dI(t,nt.memoizedState,e)},useTransition:function(){var e=ph(ml)[0],t=Cn().memoizedState;return[e,t]},useMutableSource:YS,useSyncExternalStore:JS,useId:fI,unstable_isNewReconciler:!1};function Nn(e,t){if(e&&e.defaultProps){t=qe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Bp(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:qe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Fd={isMounted:function(e){return(e=e._reactInternals)?So(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=jt(),i=hi(e),o=Tr(r,i);o.payload=t,n!=null&&(o.callback=n),t=di(e,o,i),t!==null&&(Vn(t,e,i,r),lc(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=jt(),i=hi(e),o=Tr(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=di(e,o,i),t!==null&&(Vn(t,e,i,r),lc(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=jt(),r=hi(e),i=Tr(n,r);i.tag=2,t!=null&&(i.callback=t),t=di(e,i,r),t!==null&&(Vn(t,e,r,n),lc(t,e,r))}};function d0(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!ll(n,r)||!ll(i,o):!0}function gI(e,t,n){var r=!1,i=Ii,o=t.contextType;return typeof o=="object"&&o!==null?o=xn(o):(i=Qt(t)?ao:Ot.current,r=t.contextTypes,o=(r=r!=null)?hs(e,i):Ii),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Fd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function f0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Fd.enqueueReplaceState(t,t.state,null)}function Hp(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ag(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=xn(o):(o=Qt(t)?ao:Ot.current,i.context=hs(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Bp(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Fd.enqueueReplaceState(i,i.state,null),Gc(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ys(e,t){try{var n="",r=t;do n+=LA(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function mh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Gp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var lP=typeof WeakMap=="function"?WeakMap:Map;function yI(e,t,n){n=Tr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qc||(Qc=!0,tm=r),Gp(e,t)},n}function _I(e,t,n){n=Tr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Gp(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Gp(e,t),typeof r!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function h0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new lP;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=SP.bind(null,e,t,n),t.then(e,e))}function p0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function m0(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Tr(-1,1),t.tag=2,di(n,t,1))),n.lanes|=1),e)}var uP=Mr.ReactCurrentOwner,Kt=!1;function $t(e,t,n,r){t.child=e===null?WS(t,null,n,r):ms(t,e.child,n,r)}function g0(e,t,n,r,i){n=n.render;var o=t.ref;return rs(t,i),r=Og(e,t,n,r,o,i),n=Lg(),e!==null&&!Kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Pr(e,t,i)):(ze&&n&&Sg(t),t.flags|=1,$t(e,t,r,i),t.child)}function y0(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Gg(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,vI(e,t,o,r,i)):(e=pc(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:ll,n(s,r)&&e.ref===t.ref)return Pr(e,t,i)}return t.flags|=1,e=pi(o,r),e.ref=t.ref,e.return=t,t.child=e}function vI(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(ll(o,r)&&e.ref===t.ref)if(Kt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Kt=!0);else return t.lanes=e.lanes,Pr(e,t,i)}return qp(e,t,n,r,i)}function EI(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Yo,sn),sn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le(Yo,sn),sn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Le(Yo,sn),sn|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Le(Yo,sn),sn|=r;return $t(e,t,i,n),t.child}function wI(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function qp(e,t,n,r,i){var o=Qt(n)?ao:Ot.current;return o=hs(t,o),rs(t,i),n=Og(e,t,n,r,o,i),r=Lg(),e!==null&&!Kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Pr(e,t,i)):(ze&&r&&Sg(t),t.flags|=1,$t(e,t,n,i),t.child)}function _0(e,t,n,r,i){if(Qt(n)){var o=!0;Uc(t)}else o=!1;if(rs(t,i),t.stateNode===null)dc(e,t),gI(t,n,r),Hp(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=xn(u):(u=Qt(n)?ao:Ot.current,u=hs(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&f0(t,s,r,u),Qr=!1;var p=t.memoizedState;s.state=p,Gc(t,r,s,i),l=t.memoizedState,a!==r||p!==l||Xt.current||Qr?(typeof d=="function"&&(Bp(t,n,d,r),l=t.memoizedState),(a=Qr||d0(t,n,a,r,p,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,XS(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Nn(t.type,a),s.props=u,f=t.pendingProps,p=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=xn(l):(l=Qt(n)?ao:Ot.current,l=hs(t,l));var h=n.getDerivedStateFromProps;(d=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||p!==l)&&f0(t,s,r,l),Qr=!1,p=t.memoizedState,s.state=p,Gc(t,r,s,i);var m=t.memoizedState;a!==f||p!==m||Xt.current||Qr?(typeof h=="function"&&(Bp(t,n,h,r),m=t.memoizedState),(u=Qr||d0(t,n,u,r,p,m,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),s.props=r,s.state=m,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Wp(e,t,n,r,o,i)}function Wp(e,t,n,r,i,o){wI(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&r0(t,n,!1),Pr(e,t,o);r=t.stateNode,uP.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=ms(t,e.child,null,o),t.child=ms(t,null,a,o)):$t(e,t,a,o),t.memoizedState=r.state,i&&r0(t,n,!0),t.child}function SI(e){var t=e.stateNode;t.pendingContext?n0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&n0(e,t.context,!1),kg(e,t.containerInfo)}function v0(e,t,n,r,i){return ps(),Tg(i),t.flags|=256,$t(e,t,n,r),t.child}var Kp={dehydrated:null,treeContext:null,retryLane:0};function Xp(e){return{baseLanes:e,cachePool:null,transitions:null}}function II(e,t,n){var r=t.pendingProps,i=He.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Le(He,i&1),e===null)return zp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Ud(s,r,0,null),e=oo(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Xp(n),t.memoizedState=Kp,e):Vg(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return cP(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=pi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=pi(a,o):(o=oo(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Xp(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Kp,r}return o=e.child,e=o.sibling,r=pi(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Vg(e,t){return t=Ud({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Mu(e,t,n,r){return r!==null&&Tg(r),ms(t,e.child,null,n),e=Vg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cP(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=mh(Error(G(422))),Mu(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ud({mode:"visible",children:r.children},i,0,null),o=oo(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&ms(t,e.child,null,s),t.child.memoizedState=Xp(s),t.memoizedState=Kp,o);if(!(t.mode&1))return Mu(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(G(419)),r=mh(o,r,void 0),Mu(e,t,s,r)}if(a=(s&e.childLanes)!==0,Kt||a){if(r=ct,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,kr(e,i),Vn(r,e,i,-1))}return Hg(),r=mh(Error(G(421))),Mu(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=IP.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ln=ci(i.nextSibling),un=t,ze=!0,Ln=null,e!==null&&(_n[vn++]=_r,_n[vn++]=vr,_n[vn++]=lo,_r=e.id,vr=e.overflow,lo=t),t=Vg(t,r.children),t.flags|=4096,t)}function E0(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),jp(e.return,t,n)}function gh(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function TI(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if($t(e,t,r.children,n),r=He.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&E0(e,n,t);else if(e.tag===19)E0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Le(He,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&qc(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),gh(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&qc(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}gh(t,!0,n,null,o);break;case"together":gh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function dc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),co|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,n=pi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=pi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function dP(e,t,n){switch(t.tag){case 3:SI(t),ps();break;case 5:QS(t);break;case 1:Qt(t.type)&&Uc(t);break;case 4:kg(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Le(Bc,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Le(He,He.current&1),t.flags|=128,null):n&t.child.childLanes?II(e,t,n):(Le(He,He.current&1),e=Pr(e,t,n),e!==null?e.sibling:null);Le(He,He.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return TI(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Le(He,He.current),r)break;return null;case 22:case 23:return t.lanes=0,EI(e,t,n)}return Pr(e,t,n)}var xI,Qp,CI,RI;xI=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qp=function(){};CI=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,eo(er.current);var o=null;switch(n){case"input":i=_p(e,i),r=_p(e,r),o=[];break;case"select":i=qe({},i,{value:void 0}),r=qe({},r,{value:void 0}),o=[];break;case"textarea":i=wp(e,i),r=wp(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Vc)}Ip(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(tl.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(tl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Fe("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};RI=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ea(e,t){if(!ze)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fP(e,t,n){var r=t.pendingProps;switch(Ig(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(t),null;case 1:return Qt(t.type)&&$c(),Ct(t),null;case 3:return r=t.stateNode,gs(),$e(Xt),$e(Ot),Dg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ou(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ln!==null&&(im(Ln),Ln=null))),Qp(e,t),Ct(t),null;case 5:Pg(t);var i=eo(hl.current);if(n=t.type,e!==null&&t.stateNode!=null)CI(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(G(166));return Ct(t),null}if(e=eo(er.current),Ou(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Jn]=t,r[dl]=o,e=(t.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(i=0;i<ka.length;i++)Fe(ka[i],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":Av(r,o),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fe("invalid",r);break;case"textarea":Pv(r,o),Fe("invalid",r)}Ip(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Nu(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Nu(r.textContent,a,e),i=["children",""+a]):tl.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Fe("scroll",r)}switch(n){case"input":xu(r),kv(r,o,!0);break;case"textarea":xu(r),Dv(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Vc)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tS(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Jn]=t,e[dl]=r,xI(e,t,!1,!1),t.stateNode=e;e:{switch(s=Tp(n,r),n){case"dialog":Fe("cancel",e),Fe("close",e),i=r;break;case"iframe":case"object":case"embed":Fe("load",e),i=r;break;case"video":case"audio":for(i=0;i<ka.length;i++)Fe(ka[i],e);i=r;break;case"source":Fe("error",e),i=r;break;case"img":case"image":case"link":Fe("error",e),Fe("load",e),i=r;break;case"details":Fe("toggle",e),i=r;break;case"input":Av(e,r),i=_p(e,r),Fe("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=qe({},r,{value:void 0}),Fe("invalid",e);break;case"textarea":Pv(e,r),i=wp(e,r),Fe("invalid",e);break;default:i=r}Ip(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?iS(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&nS(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&nl(e,l):typeof l=="number"&&nl(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(tl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Fe("scroll",e):l!=null&&lg(e,o,l,s))}switch(n){case"input":xu(e),kv(e,r,!1);break;case"textarea":xu(e),Dv(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Si(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Zo(e,!!r.multiple,o,!1):r.defaultValue!=null&&Zo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Vc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ct(t),null;case 6:if(e&&t.stateNode!=null)RI(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(G(166));if(n=eo(hl.current),eo(er.current),Ou(t)){if(r=t.stateNode,n=t.memoizedProps,r[Jn]=t,(o=r.nodeValue!==n)&&(e=un,e!==null))switch(e.tag){case 3:Nu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Nu(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jn]=t,t.stateNode=r}return Ct(t),null;case 13:if($e(He),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ze&&ln!==null&&t.mode&1&&!(t.flags&128))GS(),ps(),t.flags|=98560,o=!1;else if(o=Ou(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(G(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(G(317));o[Jn]=t}else ps(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ct(t),o=!1}else Ln!==null&&(im(Ln),Ln=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||He.current&1?it===0&&(it=3):Hg())),t.updateQueue!==null&&(t.flags|=4),Ct(t),null);case 4:return gs(),Qp(e,t),e===null&&ul(t.stateNode.containerInfo),Ct(t),null;case 10:return Rg(t.type._context),Ct(t),null;case 17:return Qt(t.type)&&$c(),Ct(t),null;case 19:if($e(He),o=t.memoizedState,o===null)return Ct(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Ea(o,!1);else{if(it!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=qc(e),s!==null){for(t.flags|=128,Ea(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Le(He,He.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ye()>_s&&(t.flags|=128,r=!0,Ea(o,!1),t.lanes=4194304)}else{if(!r)if(e=qc(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ea(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ze)return Ct(t),null}else 2*Ye()-o.renderingStartTime>_s&&n!==1073741824&&(t.flags|=128,r=!0,Ea(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=He.current,Le(He,r?n&1|2:n&1),t):(Ct(t),null);case 22:case 23:return Bg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?sn&1073741824&&(Ct(t),t.subtreeFlags&6&&(t.flags|=8192)):Ct(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function hP(e,t){switch(Ig(t),t.tag){case 1:return Qt(t.type)&&$c(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gs(),$e(Xt),$e(Ot),Dg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Pg(t),null;case 13:if($e(He),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));ps()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $e(He),null;case 4:return gs(),null;case 10:return Rg(t.type._context),null;case 22:case 23:return Bg(),null;case 24:return null;default:return null}}var Fu=!1,kt=!1,pP=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Qo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Xe(e,t,r)}else n.current=null}function Yp(e,t,n){try{n()}catch(r){Xe(e,t,r)}}var w0=!1;function mP(e,t){if(Op=Lc,e=DS(),wg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++u===i&&(a=s),p===o&&++d===r&&(l=s),(h=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lp={focusedElem:e,selectionRange:n},Lc=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var _=m.memoizedProps,T=m.memoizedState,y=t.stateNode,E=y.getSnapshotBeforeUpdate(t.elementType===t.type?_:Nn(t.type,_),T);y.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(M){Xe(t,t.return,M)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return m=w0,w0=!1,m}function ja(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Yp(t,n,o)}i=i.next}while(i!==r)}}function Vd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Jp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function bI(e){var t=e.alternate;t!==null&&(e.alternate=null,bI(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jn],delete t[dl],delete t[Vp],delete t[Yk],delete t[Jk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function AI(e){return e.tag===5||e.tag===3||e.tag===4}function S0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||AI(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Vc));else if(r!==4&&(e=e.child,e!==null))for(Zp(e,t,n),e=e.sibling;e!==null;)Zp(e,t,n),e=e.sibling}function em(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(em(e,t,n),e=e.sibling;e!==null;)em(e,t,n),e=e.sibling}var gt=null,On=!1;function qr(e,t,n){for(n=n.child;n!==null;)kI(e,t,n),n=n.sibling}function kI(e,t,n){if(Zn&&typeof Zn.onCommitFiberUnmount=="function")try{Zn.onCommitFiberUnmount(kd,n)}catch{}switch(n.tag){case 5:kt||Qo(n,t);case 6:var r=gt,i=On;gt=null,qr(e,t,n),gt=r,On=i,gt!==null&&(On?(e=gt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):gt.removeChild(n.stateNode));break;case 18:gt!==null&&(On?(e=gt,n=n.stateNode,e.nodeType===8?uh(e.parentNode,n):e.nodeType===1&&uh(e,n),sl(e)):uh(gt,n.stateNode));break;case 4:r=gt,i=On,gt=n.stateNode.containerInfo,On=!0,qr(e,t,n),gt=r,On=i;break;case 0:case 11:case 14:case 15:if(!kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Yp(n,t,s),i=i.next}while(i!==r)}qr(e,t,n);break;case 1:if(!kt&&(Qo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Xe(n,t,a)}qr(e,t,n);break;case 21:qr(e,t,n);break;case 22:n.mode&1?(kt=(r=kt)||n.memoizedState!==null,qr(e,t,n),kt=r):qr(e,t,n);break;default:qr(e,t,n)}}function I0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new pP),t.forEach(function(r){var i=TP.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Dn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:gt=a.stateNode,On=!1;break e;case 3:gt=a.stateNode.containerInfo,On=!0;break e;case 4:gt=a.stateNode.containerInfo,On=!0;break e}a=a.return}if(gt===null)throw Error(G(160));kI(o,s,i),gt=null,On=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Xe(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)PI(t,e),t=t.sibling}function PI(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Dn(t,e),Kn(e),r&4){try{ja(3,e,e.return),Vd(3,e)}catch(_){Xe(e,e.return,_)}try{ja(5,e,e.return)}catch(_){Xe(e,e.return,_)}}break;case 1:Dn(t,e),Kn(e),r&512&&n!==null&&Qo(n,n.return);break;case 5:if(Dn(t,e),Kn(e),r&512&&n!==null&&Qo(n,n.return),e.flags&32){var i=e.stateNode;try{nl(i,"")}catch(_){Xe(e,e.return,_)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Zw(i,o),Tp(a,s);var u=Tp(a,o);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?iS(i,f):d==="dangerouslySetInnerHTML"?nS(i,f):d==="children"?nl(i,f):lg(i,d,f,u)}switch(a){case"input":vp(i,o);break;case"textarea":eS(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Zo(i,!!o.multiple,h,!1):p!==!!o.multiple&&(o.defaultValue!=null?Zo(i,!!o.multiple,o.defaultValue,!0):Zo(i,!!o.multiple,o.multiple?[]:"",!1))}i[dl]=o}catch(_){Xe(e,e.return,_)}}break;case 6:if(Dn(t,e),Kn(e),r&4){if(e.stateNode===null)throw Error(G(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(_){Xe(e,e.return,_)}}break;case 3:if(Dn(t,e),Kn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{sl(t.containerInfo)}catch(_){Xe(e,e.return,_)}break;case 4:Dn(t,e),Kn(e);break;case 13:Dn(t,e),Kn(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(zg=Ye())),r&4&&I0(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(kt=(u=kt)||d,Dn(t,e),kt=u):Dn(t,e),Kn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Q=e,d=e.child;d!==null;){for(f=Q=d;Q!==null;){switch(p=Q,h=p.child,p.tag){case 0:case 11:case 14:case 15:ja(4,p,p.return);break;case 1:Qo(p,p.return);var m=p.stateNode;if(typeof m.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(_){Xe(r,n,_)}}break;case 5:Qo(p,p.return);break;case 22:if(p.memoizedState!==null){x0(f);continue}}h!==null?(h.return=p,Q=h):x0(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=rS("display",s))}catch(_){Xe(e,e.return,_)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(_){Xe(e,e.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Dn(t,e),Kn(e),r&4&&I0(e);break;case 21:break;default:Dn(t,e),Kn(e)}}function Kn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(AI(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(nl(i,""),r.flags&=-33);var o=S0(e);em(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=S0(e);Zp(e,a,s);break;default:throw Error(G(161))}}catch(l){Xe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gP(e,t,n){Q=e,DI(e)}function DI(e,t,n){for(var r=(e.mode&1)!==0;Q!==null;){var i=Q,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Fu;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||kt;a=Fu;var u=kt;if(Fu=s,(kt=l)&&!u)for(Q=i;Q!==null;)s=Q,l=s.child,s.tag===22&&s.memoizedState!==null?C0(i):l!==null?(l.return=s,Q=l):C0(i);for(;o!==null;)Q=o,DI(o),o=o.sibling;Q=i,Fu=a,kt=u}T0(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Q=o):T0(e)}}function T0(e){for(;Q!==null;){var t=Q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:kt||Vd(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!kt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Nn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&l0(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}l0(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&sl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}kt||t.flags&512&&Jp(t)}catch(p){Xe(t,t.return,p)}}if(t===e){Q=null;break}if(n=t.sibling,n!==null){n.return=t.return,Q=n;break}Q=t.return}}function x0(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Q=n;break}Q=t.return}}function C0(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Vd(4,t)}catch(l){Xe(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Xe(t,i,l)}}var o=t.return;try{Jp(t)}catch(l){Xe(t,o,l)}break;case 5:var s=t.return;try{Jp(t)}catch(l){Xe(t,s,l)}}}catch(l){Xe(t,t.return,l)}if(t===e){Q=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Q=a;break}Q=t.return}}var yP=Math.ceil,Xc=Mr.ReactCurrentDispatcher,$g=Mr.ReactCurrentOwner,In=Mr.ReactCurrentBatchConfig,Ie=0,ct=null,et=null,vt=0,sn=0,Yo=Oi(0),it=0,yl=null,co=0,$d=0,Ug=0,Ba=null,Wt=null,zg=0,_s=1/0,mr=null,Qc=!1,tm=null,fi=null,Vu=!1,ii=null,Yc=0,Ha=0,nm=null,fc=-1,hc=0;function jt(){return Ie&6?Ye():fc!==-1?fc:fc=Ye()}function hi(e){return e.mode&1?Ie&2&&vt!==0?vt&-vt:eP.transition!==null?(hc===0&&(hc=gS()),hc):(e=ke,e!==0||(e=window.event,e=e===void 0?16:IS(e.type)),e):1}function Vn(e,t,n,r){if(50<Ha)throw Ha=0,nm=null,Error(G(185));Ol(e,n,r),(!(Ie&2)||e!==ct)&&(e===ct&&(!(Ie&2)&&($d|=n),it===4&&Jr(e,vt)),Yt(e,r),n===1&&Ie===0&&!(t.mode&1)&&(_s=Ye()+500,Ld&&Li()))}function Yt(e,t){var n=e.callbackNode;ek(e,t);var r=Oc(e,e===ct?vt:0);if(r===0)n!==null&&Lv(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Lv(n),t===1)e.tag===0?Zk(R0.bind(null,e)):jS(R0.bind(null,e)),Xk(function(){!(Ie&6)&&Li()}),n=null;else{switch(yS(r)){case 1:n=hg;break;case 4:n=pS;break;case 16:n=Nc;break;case 536870912:n=mS;break;default:n=Nc}n=UI(n,NI.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function NI(e,t){if(fc=-1,hc=0,Ie&6)throw Error(G(327));var n=e.callbackNode;if(is()&&e.callbackNode!==n)return null;var r=Oc(e,e===ct?vt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Jc(e,r);else{t=r;var i=Ie;Ie|=2;var o=LI();(ct!==e||vt!==t)&&(mr=null,_s=Ye()+500,io(e,t));do try{EP();break}catch(a){OI(e,a)}while(!0);Cg(),Xc.current=o,Ie=i,et!==null?t=0:(ct=null,vt=0,t=it)}if(t!==0){if(t===2&&(i=Ap(e),i!==0&&(r=i,t=rm(e,i))),t===1)throw n=yl,io(e,0),Jr(e,r),Yt(e,Ye()),n;if(t===6)Jr(e,r);else{if(i=e.current.alternate,!(r&30)&&!_P(i)&&(t=Jc(e,r),t===2&&(o=Ap(e),o!==0&&(r=o,t=rm(e,o))),t===1))throw n=yl,io(e,0),Jr(e,r),Yt(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(G(345));case 2:Wi(e,Wt,mr);break;case 3:if(Jr(e,r),(r&130023424)===r&&(t=zg+500-Ye(),10<t)){if(Oc(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){jt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Fp(Wi.bind(null,e,Wt,mr),t);break}Wi(e,Wt,mr);break;case 4:if(Jr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Fn(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yP(r/1960))-r,10<r){e.timeoutHandle=Fp(Wi.bind(null,e,Wt,mr),r);break}Wi(e,Wt,mr);break;case 5:Wi(e,Wt,mr);break;default:throw Error(G(329))}}}return Yt(e,Ye()),e.callbackNode===n?NI.bind(null,e):null}function rm(e,t){var n=Ba;return e.current.memoizedState.isDehydrated&&(io(e,t).flags|=256),e=Jc(e,t),e!==2&&(t=Wt,Wt=n,t!==null&&im(t)),e}function im(e){Wt===null?Wt=e:Wt.push.apply(Wt,e)}function _P(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!zn(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jr(e,t){for(t&=~Ug,t&=~$d,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Fn(t),r=1<<n;e[n]=-1,t&=~r}}function R0(e){if(Ie&6)throw Error(G(327));is();var t=Oc(e,0);if(!(t&1))return Yt(e,Ye()),null;var n=Jc(e,t);if(e.tag!==0&&n===2){var r=Ap(e);r!==0&&(t=r,n=rm(e,r))}if(n===1)throw n=yl,io(e,0),Jr(e,t),Yt(e,Ye()),n;if(n===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Wi(e,Wt,mr),Yt(e,Ye()),null}function jg(e,t){var n=Ie;Ie|=1;try{return e(t)}finally{Ie=n,Ie===0&&(_s=Ye()+500,Ld&&Li())}}function fo(e){ii!==null&&ii.tag===0&&!(Ie&6)&&is();var t=Ie;Ie|=1;var n=In.transition,r=ke;try{if(In.transition=null,ke=1,e)return e()}finally{ke=r,In.transition=n,Ie=t,!(Ie&6)&&Li()}}function Bg(){sn=Yo.current,$e(Yo)}function io(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Kk(n)),et!==null)for(n=et.return;n!==null;){var r=n;switch(Ig(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$c();break;case 3:gs(),$e(Xt),$e(Ot),Dg();break;case 5:Pg(r);break;case 4:gs();break;case 13:$e(He);break;case 19:$e(He);break;case 10:Rg(r.type._context);break;case 22:case 23:Bg()}n=n.return}if(ct=e,et=e=pi(e.current,null),vt=sn=t,it=0,yl=null,Ug=$d=co=0,Wt=Ba=null,Zi!==null){for(t=0;t<Zi.length;t++)if(n=Zi[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Zi=null}return e}function OI(e,t){do{var n=et;try{if(Cg(),uc.current=Kc,Wc){for(var r=Ge.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Wc=!1}if(uo=0,ut=nt=Ge=null,za=!1,pl=0,$g.current=null,n===null||n.return===null){it=1,yl=t,et=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=vt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=p0(s);if(h!==null){h.flags&=-257,m0(h,s,a,o,t),h.mode&1&&h0(o,u,t),t=h,l=u;var m=t.updateQueue;if(m===null){var _=new Set;_.add(l),t.updateQueue=_}else m.add(l);break e}else{if(!(t&1)){h0(o,u,t),Hg();break e}l=Error(G(426))}}else if(ze&&a.mode&1){var T=p0(s);if(T!==null){!(T.flags&65536)&&(T.flags|=256),m0(T,s,a,o,t),Tg(ys(l,a));break e}}o=l=ys(l,a),it!==4&&(it=2),Ba===null?Ba=[o]:Ba.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=yI(o,l,t);a0(o,y);break e;case 1:a=l;var E=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof E.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(fi===null||!fi.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var M=_I(o,a,t);a0(o,M);break e}}o=o.return}while(o!==null)}FI(n)}catch(F){t=F,et===n&&n!==null&&(et=n=n.return);continue}break}while(!0)}function LI(){var e=Xc.current;return Xc.current=Kc,e===null?Kc:e}function Hg(){(it===0||it===3||it===2)&&(it=4),ct===null||!(co&268435455)&&!($d&268435455)||Jr(ct,vt)}function Jc(e,t){var n=Ie;Ie|=2;var r=LI();(ct!==e||vt!==t)&&(mr=null,io(e,t));do try{vP();break}catch(i){OI(e,i)}while(!0);if(Cg(),Ie=n,Xc.current=r,et!==null)throw Error(G(261));return ct=null,vt=0,it}function vP(){for(;et!==null;)MI(et)}function EP(){for(;et!==null&&!GA();)MI(et)}function MI(e){var t=$I(e.alternate,e,sn);e.memoizedProps=e.pendingProps,t===null?FI(e):et=t,$g.current=null}function FI(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=hP(n,t),n!==null){n.flags&=32767,et=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{it=6,et=null;return}}else if(n=fP(n,t,sn),n!==null){et=n;return}if(t=t.sibling,t!==null){et=t;return}et=t=e}while(t!==null);it===0&&(it=5)}function Wi(e,t,n){var r=ke,i=In.transition;try{In.transition=null,ke=1,wP(e,t,n,r)}finally{In.transition=i,ke=r}return null}function wP(e,t,n,r){do is();while(ii!==null);if(Ie&6)throw Error(G(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(tk(e,o),e===ct&&(et=ct=null,vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vu||(Vu=!0,UI(Nc,function(){return is(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=In.transition,In.transition=null;var s=ke;ke=1;var a=Ie;Ie|=4,$g.current=null,mP(e,n),PI(n,e),zk(Lp),Lc=!!Op,Lp=Op=null,e.current=n,gP(n),qA(),Ie=a,ke=s,In.transition=o}else e.current=n;if(Vu&&(Vu=!1,ii=e,Yc=i),o=e.pendingLanes,o===0&&(fi=null),XA(n.stateNode),Yt(e,Ye()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Qc)throw Qc=!1,e=tm,tm=null,e;return Yc&1&&e.tag!==0&&is(),o=e.pendingLanes,o&1?e===nm?Ha++:(Ha=0,nm=e):Ha=0,Li(),null}function is(){if(ii!==null){var e=yS(Yc),t=In.transition,n=ke;try{if(In.transition=null,ke=16>e?16:e,ii===null)var r=!1;else{if(e=ii,ii=null,Yc=0,Ie&6)throw Error(G(331));var i=Ie;for(Ie|=4,Q=e.current;Q!==null;){var o=Q,s=o.child;if(Q.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Q=u;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:ja(8,d,o)}var f=d.child;if(f!==null)f.return=d,Q=f;else for(;Q!==null;){d=Q;var p=d.sibling,h=d.return;if(bI(d),d===u){Q=null;break}if(p!==null){p.return=h,Q=p;break}Q=h}}}var m=o.alternate;if(m!==null){var _=m.child;if(_!==null){m.child=null;do{var T=_.sibling;_.sibling=null,_=T}while(_!==null)}}Q=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Q=s;else e:for(;Q!==null;){if(o=Q,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ja(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,Q=y;break e}Q=o.return}}var E=e.current;for(Q=E;Q!==null;){s=Q;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Q=w;else e:for(s=E;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Vd(9,a)}}catch(F){Xe(a,a.return,F)}if(a===s){Q=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,Q=M;break e}Q=a.return}}if(Ie=i,Li(),Zn&&typeof Zn.onPostCommitFiberRoot=="function")try{Zn.onPostCommitFiberRoot(kd,e)}catch{}r=!0}return r}finally{ke=n,In.transition=t}}return!1}function b0(e,t,n){t=ys(n,t),t=yI(e,t,1),e=di(e,t,1),t=jt(),e!==null&&(Ol(e,1,t),Yt(e,t))}function Xe(e,t,n){if(e.tag===3)b0(e,e,n);else for(;t!==null;){if(t.tag===3){b0(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fi===null||!fi.has(r))){e=ys(n,e),e=_I(t,e,1),t=di(t,e,1),e=jt(),t!==null&&(Ol(t,1,e),Yt(t,e));break}}t=t.return}}function SP(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=jt(),e.pingedLanes|=e.suspendedLanes&n,ct===e&&(vt&n)===n&&(it===4||it===3&&(vt&130023424)===vt&&500>Ye()-zg?io(e,0):Ug|=n),Yt(e,t)}function VI(e,t){t===0&&(e.mode&1?(t=bu,bu<<=1,!(bu&130023424)&&(bu=4194304)):t=1);var n=jt();e=kr(e,t),e!==null&&(Ol(e,t,n),Yt(e,n))}function IP(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),VI(e,n)}function TP(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(t),VI(e,n)}var $I;$I=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xt.current)Kt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Kt=!1,dP(e,t,n);Kt=!!(e.flags&131072)}else Kt=!1,ze&&t.flags&1048576&&BS(t,jc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;dc(e,t),e=t.pendingProps;var i=hs(t,Ot.current);rs(t,n),i=Og(null,t,r,e,i,n);var o=Lg();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qt(r)?(o=!0,Uc(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ag(t),i.updater=Fd,t.stateNode=i,i._reactInternals=t,Hp(t,r,e,n),t=Wp(null,t,r,!0,o,n)):(t.tag=0,ze&&o&&Sg(t),$t(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(dc(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=CP(r),e=Nn(r,e),i){case 0:t=qp(null,t,r,e,n);break e;case 1:t=_0(null,t,r,e,n);break e;case 11:t=g0(null,t,r,e,n);break e;case 14:t=y0(null,t,r,Nn(r.type,e),n);break e}throw Error(G(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Nn(r,i),qp(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Nn(r,i),_0(e,t,r,i,n);case 3:e:{if(SI(t),e===null)throw Error(G(387));r=t.pendingProps,o=t.memoizedState,i=o.element,XS(e,t),Gc(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=ys(Error(G(423)),t),t=v0(e,t,r,n,i);break e}else if(r!==i){i=ys(Error(G(424)),t),t=v0(e,t,r,n,i);break e}else for(ln=ci(t.stateNode.containerInfo.firstChild),un=t,ze=!0,Ln=null,n=WS(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ps(),r===i){t=Pr(e,t,n);break e}$t(e,t,r,n)}t=t.child}return t;case 5:return QS(t),e===null&&zp(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Mp(r,i)?s=null:o!==null&&Mp(r,o)&&(t.flags|=32),wI(e,t),$t(e,t,s,n),t.child;case 6:return e===null&&zp(t),null;case 13:return II(e,t,n);case 4:return kg(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ms(t,null,r,n):$t(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Nn(r,i),g0(e,t,r,i,n);case 7:return $t(e,t,t.pendingProps,n),t.child;case 8:return $t(e,t,t.pendingProps.children,n),t.child;case 12:return $t(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Le(Bc,r._currentValue),r._currentValue=s,o!==null)if(zn(o.value,s)){if(o.children===i.children&&!Xt.current){t=Pr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Tr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),jp(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(G(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),jp(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}$t(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,rs(t,n),i=xn(i),r=r(i),t.flags|=1,$t(e,t,r,n),t.child;case 14:return r=t.type,i=Nn(r,t.pendingProps),i=Nn(r.type,i),y0(e,t,r,i,n);case 15:return vI(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Nn(r,i),dc(e,t),t.tag=1,Qt(r)?(e=!0,Uc(t)):e=!1,rs(t,n),gI(t,r,i),Hp(t,r,i,n),Wp(null,t,r,!0,e,n);case 19:return TI(e,t,n);case 22:return EI(e,t,n)}throw Error(G(156,t.tag))};function UI(e,t){return hS(e,t)}function xP(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,t,n,r){return new xP(e,t,n,r)}function Gg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function CP(e){if(typeof e=="function")return Gg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===cg)return 11;if(e===dg)return 14}return 2}function pi(e,t){var n=e.alternate;return n===null?(n=Sn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function pc(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")Gg(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case zo:return oo(n.children,i,o,t);case ug:s=8,i|=8;break;case pp:return e=Sn(12,n,t,i|2),e.elementType=pp,e.lanes=o,e;case mp:return e=Sn(13,n,t,i),e.elementType=mp,e.lanes=o,e;case gp:return e=Sn(19,n,t,i),e.elementType=gp,e.lanes=o,e;case Qw:return Ud(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Kw:s=10;break e;case Xw:s=9;break e;case cg:s=11;break e;case dg:s=14;break e;case Xr:s=16,r=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=Sn(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function oo(e,t,n,r){return e=Sn(7,e,r,t),e.lanes=n,e}function Ud(e,t,n,r){return e=Sn(22,e,r,t),e.elementType=Qw,e.lanes=n,e.stateNode={isHidden:!1},e}function yh(e,t,n){return e=Sn(6,e,null,t),e.lanes=n,e}function _h(e,t,n){return t=Sn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function RP(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jf(0),this.expirationTimes=Jf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qg(e,t,n,r,i,o,s,a,l){return e=new RP(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Sn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ag(o),e}function bP(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Uo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function zI(e){if(!e)return Ii;e=e._reactInternals;e:{if(So(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var n=e.type;if(Qt(n))return zS(e,n,t)}return t}function jI(e,t,n,r,i,o,s,a,l){return e=qg(n,r,!0,e,i,o,s,a,l),e.context=zI(null),n=e.current,r=jt(),i=hi(n),o=Tr(r,i),o.callback=t??null,di(n,o,i),e.current.lanes=i,Ol(e,i,r),Yt(e,r),e}function zd(e,t,n,r){var i=t.current,o=jt(),s=hi(i);return n=zI(n),t.context===null?t.context=n:t.pendingContext=n,t=Tr(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=di(i,t,s),e!==null&&(Vn(e,i,s,o),lc(e,i,s)),s}function Zc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function A0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wg(e,t){A0(e,t),(e=e.alternate)&&A0(e,t)}function AP(){return null}var BI=typeof reportError=="function"?reportError:function(e){console.error(e)};function Kg(e){this._internalRoot=e}jd.prototype.render=Kg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));zd(e,t,null,null)};jd.prototype.unmount=Kg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fo(function(){zd(null,e,null,null)}),t[Ar]=null}};function jd(e){this._internalRoot=e}jd.prototype.unstable_scheduleHydration=function(e){if(e){var t=ES();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Yr.length&&t!==0&&t<Yr[n].priority;n++);Yr.splice(n,0,e),n===0&&SS(e)}};function Xg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function k0(){}function kP(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Zc(s);o.call(u)}}var s=jI(t,r,e,0,null,!1,!1,"",k0);return e._reactRootContainer=s,e[Ar]=s.current,ul(e.nodeType===8?e.parentNode:e),fo(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Zc(l);a.call(u)}}var l=qg(e,0,!1,null,null,!1,!1,"",k0);return e._reactRootContainer=l,e[Ar]=l.current,ul(e.nodeType===8?e.parentNode:e),fo(function(){zd(t,l,n,r)}),l}function Hd(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Zc(s);a.call(l)}}zd(t,s,e,i)}else s=kP(n,t,e,i,r);return Zc(s)}_S=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Aa(t.pendingLanes);n!==0&&(pg(t,n|1),Yt(t,Ye()),!(Ie&6)&&(_s=Ye()+500,Li()))}break;case 13:fo(function(){var r=kr(e,1);if(r!==null){var i=jt();Vn(r,e,1,i)}}),Wg(e,1)}};mg=function(e){if(e.tag===13){var t=kr(e,134217728);if(t!==null){var n=jt();Vn(t,e,134217728,n)}Wg(e,134217728)}};vS=function(e){if(e.tag===13){var t=hi(e),n=kr(e,t);if(n!==null){var r=jt();Vn(n,e,t,r)}Wg(e,t)}};ES=function(){return ke};wS=function(e,t){var n=ke;try{return ke=e,t()}finally{ke=n}};Cp=function(e,t,n){switch(t){case"input":if(vp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Od(r);if(!i)throw Error(G(90));Jw(r),vp(r,i)}}}break;case"textarea":eS(e,n);break;case"select":t=n.value,t!=null&&Zo(e,!!n.multiple,t,!1)}};aS=jg;lS=fo;var PP={usingClientEntryPoint:!1,Events:[Ml,Go,Od,oS,sS,jg]},wa={findFiberByHostInstance:Ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DP={bundleType:wa.bundleType,version:wa.version,rendererPackageName:wa.rendererPackageName,rendererConfig:wa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dS(e),e===null?null:e.stateNode},findFiberByHostInstance:wa.findFiberByHostInstance||AP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$u.isDisabled&&$u.supportsFiber)try{kd=$u.inject(DP),Zn=$u}catch{}}pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PP;pn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xg(t))throw Error(G(200));return bP(e,t,null,n)};pn.createRoot=function(e,t){if(!Xg(e))throw Error(G(299));var n=!1,r="",i=BI;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=qg(e,1,!1,null,null,n,!1,r,i),e[Ar]=t.current,ul(e.nodeType===8?e.parentNode:e),new Kg(t)};pn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=dS(t),e=e===null?null:e.stateNode,e};pn.flushSync=function(e){return fo(e)};pn.hydrate=function(e,t,n){if(!Bd(t))throw Error(G(200));return Hd(null,e,t,!0,n)};pn.hydrateRoot=function(e,t,n){if(!Xg(e))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=BI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=jI(t,null,e,1,n??null,i,!1,o,s),e[Ar]=t.current,ul(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new jd(t)};pn.render=function(e,t,n){if(!Bd(t))throw Error(G(200));return Hd(null,e,t,!1,n)};pn.unmountComponentAtNode=function(e){if(!Bd(e))throw Error(G(40));return e._reactRootContainer?(fo(function(){Hd(null,null,e,!1,function(){e._reactRootContainer=null,e[Ar]=null})}),!0):!1};pn.unstable_batchedUpdates=jg;pn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bd(n))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return Hd(e,t,n,!1,r)};pn.version="18.3.1-next-f1338f8080-20240426";function HI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HI)}catch(e){console.error(e)}}HI(),Hw.exports=pn;var Jt=Hw.exports,GI,P0=Jt;GI=P0.createRoot,P0.hydrateRoot;var Qg={};Object.defineProperty(Qg,"__esModule",{value:!0});Qg.parse=$P;Qg.serialize=UP;const NP=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,OP=/^[\u0021-\u003A\u003C-\u007E]*$/,LP=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,MP=/^[\u0020-\u003A\u003D-\u007E]*$/,FP=Object.prototype.toString,VP=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function $P(e,t){const n=new VP,r=e.length;if(r<2)return n;const i=(t==null?void 0:t.decode)||zP;let o=0;do{const s=e.indexOf("=",o);if(s===-1)break;const a=e.indexOf(";",o),l=a===-1?r:a;if(s>l){o=e.lastIndexOf(";",s-1)+1;continue}const u=D0(e,o,s),d=N0(e,s,u),f=e.slice(u,d);if(n[f]===void 0){let p=D0(e,s+1,l),h=N0(e,l,p);const m=i(e.slice(p,h));n[f]=m}o=l+1}while(o<r);return n}function D0(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function N0(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function UP(e,t,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!NP.test(e))throw new TypeError(`argument name is invalid: ${e}`);const i=r(t);if(!OP.test(i))throw new TypeError(`argument val is invalid: ${t}`);let o=e+"="+i;if(!n)return o;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);o+="; Max-Age="+n.maxAge}if(n.domain){if(!LP.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);o+="; Domain="+n.domain}if(n.path){if(!MP.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);o+="; Path="+n.path}if(n.expires){if(!jP(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.partitioned&&(o+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return o}function zP(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function jP(e){return FP.call(e)==="[object Date]"}/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var O0="popstate";function BP(e={}){function t(r,i){let{pathname:o,search:s,hash:a}=r.location;return om("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:_l(i)}return GP(t,n,null,e)}function je(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function jn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function HP(){return Math.random().toString(36).substring(2,10)}function L0(e,t){return{usr:e.state,key:e.key,idx:t}}function om(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ns(t):t,state:n,key:t&&t.key||r||HP()}}function _l({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ns(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function GP(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",l=null,u=d();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function d(){return(s.state||{idx:null}).idx}function f(){a="POP";let T=d(),y=T==null?null:T-u;u=T,l&&l({action:a,location:_.location,delta:y})}function p(T,y){a="PUSH";let E=om(_.location,T,y);u=d()+1;let w=L0(E,u),M=_.createHref(E);try{s.pushState(w,"",M)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(M)}o&&l&&l({action:a,location:_.location,delta:1})}function h(T,y){a="REPLACE";let E=om(_.location,T,y);u=d();let w=L0(E,u),M=_.createHref(E);s.replaceState(w,"",M),o&&l&&l({action:a,location:_.location,delta:0})}function m(T){let y=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof T=="string"?T:_l(T);return E=E.replace(/ $/,"%20"),je(y,`No window.location.(origin|href) available to create URL for href: ${E}`),new URL(E,y)}let _={get action(){return a},get location(){return e(i,s)},listen(T){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(O0,f),l=T,()=>{i.removeEventListener(O0,f),l=null}},createHref(T){return t(i,T)},createURL:m,encodeLocation(T){let y=m(T);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:h,go(T){return s.go(T)}};return _}function qI(e,t,n="/"){return qP(e,t,n,!1)}function qP(e,t,n,r){let i=typeof t=="string"?Ns(t):t,o=Ti(i.pathname||"/",n);if(o==null)return null;let s=WI(e);WP(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=iD(o);a=nD(s[l],u,r)}return a}function WI(e,t=[],n=[],r=""){let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(je(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=xr([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(je(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),WI(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:eD(u,o.index),routesMeta:d})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of KI(o.path))i(o,s,l)}),t}function KI(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=KI(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function WP(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:tD(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var KP=/^:[\w-]+$/,XP=3,QP=2,YP=1,JP=10,ZP=-2,M0=e=>e==="*";function eD(e,t){let n=e.split("/"),r=n.length;return n.some(M0)&&(r+=ZP),t&&(r+=QP),n.filter(i=>!M0(i)).reduce((i,o)=>i+(KP.test(o)?XP:o===""?YP:JP),r)}function tD(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function nD(e,t,n=!1){let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=ed({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),p=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=ed({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:xr([o,f.pathname]),pathnameBase:lD(xr([o,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(o=xr([o,f.pathnameBase]))}return s}function ed(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=rD(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:f},p)=>{if(d==="*"){let m=a[p]||"";s=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const h=a[p];return f&&!h?u[d]=void 0:u[d]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:e}}function rD(e,t=!1,n=!0){jn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function iD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return jn(!1,`The URL path "${e}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ti(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function oD(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ns(e):e;return{pathname:n?n.startsWith("/")?n:sD(n,t):t,search:uD(r),hash:cD(i)}}function sD(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function vh(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aD(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Yg(e){let t=aD(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Jg(e,t,n,r=!1){let i;typeof e=="string"?i=Ns(e):(i={...e},je(!i.pathname||!i.pathname.includes("?"),vh("?","pathname","search",i)),je(!i.pathname||!i.pathname.includes("#"),vh("#","pathname","hash",i)),je(!i.search||!i.search.includes("#"),vh("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=t.length-1;if(!r&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?t[f]:"/"}let l=oD(i,a),u=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var xr=e=>e.join("/").replace(/\/\/+/g,"/"),lD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),uD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,cD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var XI=["POST","PUT","PATCH","DELETE"];new Set(XI);var fD=["GET",...XI];new Set(fD);var Os=S.createContext(null);Os.displayName="DataRouter";var Gd=S.createContext(null);Gd.displayName="DataRouterState";var QI=S.createContext({isTransitioning:!1});QI.displayName="ViewTransition";var hD=S.createContext(new Map);hD.displayName="Fetchers";var pD=S.createContext(null);pD.displayName="Await";var qn=S.createContext(null);qn.displayName="Navigation";var Vl=S.createContext(null);Vl.displayName="Location";var lr=S.createContext({outlet:null,matches:[],isDataRoute:!1});lr.displayName="Route";var Zg=S.createContext(null);Zg.displayName="RouteError";function mD(e,{relative:t}={}){je(Ls(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(qn),{hash:i,pathname:o,search:s}=$l(e,{relative:t}),a=o;return n!=="/"&&(a=o==="/"?n:xr([n,o])),r.createHref({pathname:a,search:s,hash:i})}function Ls(){return S.useContext(Vl)!=null}function Mi(){return je(Ls(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Vl).location}var YI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function JI(e){S.useContext(qn).static||S.useLayoutEffect(e)}function qd(){let{isDataRoute:e}=S.useContext(lr);return e?bD():gD()}function gD(){je(Ls(),"useNavigate() may be used only in the context of a <Router> component.");let e=S.useContext(Os),{basename:t,navigator:n}=S.useContext(qn),{matches:r}=S.useContext(lr),{pathname:i}=Mi(),o=JSON.stringify(Yg(r)),s=S.useRef(!1);return JI(()=>{s.current=!0}),S.useCallback((l,u={})=>{if(jn(s.current,YI),!s.current)return;if(typeof l=="number"){n.go(l);return}let d=Jg(l,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:xr([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,o,i,e])}S.createContext(null);function $l(e,{relative:t}={}){let{matches:n}=S.useContext(lr),{pathname:r}=Mi(),i=JSON.stringify(Yg(n));return S.useMemo(()=>Jg(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function yD(e,t){return ZI(e,t)}function ZI(e,t,n,r){var y;je(Ls(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=S.useContext(qn),{matches:o}=S.useContext(lr),s=o[o.length-1],a=s?s.params:{},l=s?s.pathname:"/",u=s?s.pathnameBase:"/",d=s&&s.route;{let E=d&&d.path||"";eT(l,!d||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let f=Mi(),p;if(t){let E=typeof t=="string"?Ns(t):t;je(u==="/"||((y=E.pathname)==null?void 0:y.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${E.pathname}" was given in the \`location\` prop.`),p=E}else p=f;let h=p.pathname||"/",m=h;if(u!=="/"){let E=u.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(E.length).join("/")}let _=qI(e,{pathname:m});jn(d||_!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),jn(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=SD(_&&_.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:xr([u,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?u:xr([u,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,r);return t&&T?S.createElement(Vl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},T):T}function _D(){let e=RD(),t=dD(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:o},"ErrorBoundary")," or"," ",S.createElement("code",{style:o},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:i},n):null,s)}var vD=S.createElement(_D,null),ED=class extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?S.createElement(lr.Provider,{value:this.props.routeContext},S.createElement(Zg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wD({routeContext:e,match:t,children:n}){let r=S.useContext(Os);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(lr.Provider,{value:e},n)}function SD(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=n==null?void 0:n.errors;if(o!=null){let l=i.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);je(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let s=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:d,errors:f}=n,p=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||p){s=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,u,d)=>{let f,p=!1,h=null,m=null;n&&(f=o&&u.route.id?o[u.route.id]:void 0,h=u.route.errorElement||vD,s&&(a<0&&d===0?(eT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,m=null):a===d&&(p=!0,m=u.route.hydrateFallbackElement||null)));let _=t.concat(i.slice(0,d+1)),T=()=>{let y;return f?y=h:p?y=m:u.route.Component?y=S.createElement(u.route.Component,null):u.route.element?y=u.route.element:y=l,S.createElement(wD,{match:u,routeContext:{outlet:l,matches:_,isDataRoute:n!=null},children:y})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?S.createElement(ED,{location:n.location,revalidation:n.revalidation,component:h,error:f,children:T(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):T()},null)}function ey(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ID(e){let t=S.useContext(Os);return je(t,ey(e)),t}function TD(e){let t=S.useContext(Gd);return je(t,ey(e)),t}function xD(e){let t=S.useContext(lr);return je(t,ey(e)),t}function ty(e){let t=xD(e),n=t.matches[t.matches.length-1];return je(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function CD(){return ty("useRouteId")}function RD(){var r;let e=S.useContext(Zg),t=TD("useRouteError"),n=ty("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function bD(){let{router:e}=ID("useNavigate"),t=ty("useNavigate"),n=S.useRef(!1);return JI(()=>{n.current=!0}),S.useCallback(async(i,o={})=>{jn(n.current,YI),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var F0={};function eT(e,t,n){!t&&!F0[e]&&(F0[e]=!0,jn(!1,n))}S.memo(AD);function AD({routes:e,future:t,state:n}){return ZI(e,void 0,n,t)}function kD({to:e,replace:t,state:n,relative:r}){je(Ls(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=S.useContext(qn);jn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=S.useContext(lr),{pathname:s}=Mi(),a=qd(),l=Jg(e,Yg(o),s,r==="path"),u=JSON.stringify(l);return S.useEffect(()=>{a(JSON.parse(u),{replace:t,state:n,relative:r})},[a,u,r,t,n]),null}function Ki(e){je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function PD({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){je(!Ls(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),a=S.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=Ns(n));let{pathname:l="/",search:u="",hash:d="",state:f=null,key:p="default"}=n,h=S.useMemo(()=>{let m=Ti(l,s);return m==null?null:{location:{pathname:m,search:u,hash:d,state:f,key:p},navigationType:r}},[s,l,u,d,f,p,r]);return jn(h!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:S.createElement(qn.Provider,{value:a},S.createElement(Vl.Provider,{children:t,value:h}))}function DD({children:e,location:t}){return yD(sm(e),t)}function sm(e,t=[]){let n=[];return S.Children.forEach(e,(r,i)=>{if(!S.isValidElement(r))return;let o=[...t,i];if(r.type===S.Fragment){n.push.apply(n,sm(r.props.children,o));return}je(r.type===Ki,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),je(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=sm(r.props.children,o)),n.push(s)}),n}var mc="get",gc="application/x-www-form-urlencoded";function Wd(e){return e!=null&&typeof e.tagName=="string"}function ND(e){return Wd(e)&&e.tagName.toLowerCase()==="button"}function OD(e){return Wd(e)&&e.tagName.toLowerCase()==="form"}function LD(e){return Wd(e)&&e.tagName.toLowerCase()==="input"}function MD(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function FD(e,t){return e.button===0&&(!t||t==="_self")&&!MD(e)}var Uu=null;function VD(){if(Uu===null)try{new FormData(document.createElement("form"),0),Uu=!1}catch{Uu=!0}return Uu}var $D=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Eh(e){return e!=null&&!$D.has(e)?(jn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gc}"`),null):e}function UD(e,t){let n,r,i,o,s;if(OD(e)){let a=e.getAttribute("action");r=a?Ti(a,t):null,n=e.getAttribute("method")||mc,i=Eh(e.getAttribute("enctype"))||gc,o=new FormData(e)}else if(ND(e)||LD(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?Ti(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||mc,i=Eh(e.getAttribute("formenctype"))||Eh(a.getAttribute("enctype"))||gc,o=new FormData(a,e),!VD()){let{name:u,type:d,value:f}=e;if(d==="image"){let p=u?`${u}.`:"";o.append(`${p}x`,"0"),o.append(`${p}y`,"0")}else u&&o.append(u,f)}}else{if(Wd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=mc,r=null,i=gc,s=e}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}function ny(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function zD(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jD(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function BD(e,t,n){let r=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let s=await zD(o,n);return s.links?s.links():[]}return[]}));return WD(r.flat(1).filter(jD).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function V0(e,t,n,r,i,o){let s=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var d;return n[u].pathname!==l.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return o==="assets"?t.filter((l,u)=>s(l,u)||a(l,u)):o==="data"?t.filter((l,u)=>{var f;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(s(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function HD(e,t){return GD(e.map(n=>{let r=t.routes[n.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function GD(e){return[...new Set(e)]}function qD(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function WD(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let o=JSON.stringify(qD(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function KD(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function XD(){let e=S.useContext(Os);return ny(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function QD(){let e=S.useContext(Gd);return ny(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ry=S.createContext(void 0);ry.displayName="FrameworkContext";function tT(){let e=S.useContext(ry);return ny(e,"You must render this element inside a <HydratedRouter> element"),e}function YD(e,t){let n=S.useContext(ry),[r,i]=S.useState(!1),[o,s]=S.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,p=S.useRef(null);S.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let _=y=>{y.forEach(E=>{s(E.isIntersecting)})},T=new IntersectionObserver(_,{threshold:.5});return p.current&&T.observe(p.current),()=>{T.disconnect()}}},[e]),S.useEffect(()=>{if(r){let _=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(_)}}},[r]);let h=()=>{i(!0)},m=()=>{i(!1),s(!1)};return n?e!=="intent"?[o,p,{}]:[o,p,{onFocus:Sa(a,h),onBlur:Sa(l,m),onMouseEnter:Sa(u,h),onMouseLeave:Sa(d,m),onTouchStart:Sa(f,h)}]:[!1,p,{}]}function Sa(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function JD({page:e,...t}){let{router:n}=XD(),r=S.useMemo(()=>qI(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?S.createElement(eN,{page:e,matches:r,...t}):(console.warn(`Tried to prefetch ${e} but no routes matched.`),null)}function ZD(e){let{manifest:t,routeModules:n}=tT(),[r,i]=S.useState([]);return S.useEffect(()=>{let o=!1;return BD(e,t,n).then(s=>{o||i(s)}),()=>{o=!0}},[e,t,n]),r}function eN({page:e,matches:t,...n}){let r=Mi(),{manifest:i,routeModules:o}=tT(),{loaderData:s,matches:a}=QD(),l=S.useMemo(()=>V0(e,t,a,i,r,"data"),[e,t,a,i,r]),u=S.useMemo(()=>V0(e,t,a,i,r,"assets"),[e,t,a,i,r]),d=S.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let h=new Set,m=!1;if(t.forEach(T=>{var E;let y=i.routes[T.route.id];!y||!y.hasLoader||(!l.some(w=>w.route.id===T.route.id)&&T.route.id in s&&((E=o[T.route.id])!=null&&E.shouldRevalidate)||y.hasClientLoader?m=!0:h.add(T.route.id))}),h.size===0)return[];let _=KD(e);return m&&h.size>0&&_.searchParams.set("_routes",t.filter(T=>h.has(T.route.id)).map(T=>T.route.id).join(",")),[_.pathname+_.search]},[s,r,i,l,t,e,o]),f=S.useMemo(()=>HD(u,i),[u,i]),p=ZD(u);return S.createElement(S.Fragment,null,d.map(h=>S.createElement("link",{key:h,rel:"prefetch",as:"fetch",href:h,...n})),f.map(h=>S.createElement("link",{key:h,rel:"modulepreload",href:h,...n})),p.map(({key:h,link:m})=>S.createElement("link",{key:h,...m})))}function tN(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var nT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nT&&(window.__reactRouterVersion="7.0.2")}catch{}function nN({basename:e,children:t,window:n}){let r=S.useRef();r.current==null&&(r.current=BP({window:n,v5Compat:!0}));let i=r.current,[o,s]=S.useState({action:i.action,location:i.location}),a=S.useCallback(l=>{S.startTransition(()=>s(l))},[s]);return S.useLayoutEffect(()=>i.listen(a),[i,a]),S.createElement(PD,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i})}var rT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,os=S.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:d,viewTransition:f,...p},h){let{basename:m}=S.useContext(qn),_=typeof u=="string"&&rT.test(u),T,y=!1;if(typeof u=="string"&&_&&(T=u,nT))try{let C=new URL(window.location.href),I=u.startsWith("//")?new URL(C.protocol+u):new URL(u),A=Ti(I.pathname,m);I.origin===C.origin&&A!=null?u=A+I.search+I.hash:y=!0}catch{jn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=mD(u,{relative:i}),[w,M,F]=YD(r,p),P=sN(u,{replace:s,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:f});function b(C){t&&t(C),C.defaultPrevented||P(C)}let x=S.createElement("a",{...p,...F,href:T||E,onClick:y||o?t:b,ref:tN(h,M),target:l,"data-discover":!_&&n==="render"?"true":void 0});return w&&!_?S.createElement(S.Fragment,null,x,S.createElement(JD,{page:E})):x});os.displayName="Link";var rN=S.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:l,...u},d){let f=$l(s,{relative:u.relative}),p=Mi(),h=S.useContext(Gd),{navigator:m,basename:_}=S.useContext(qn),T=h!=null&&dN(f)&&a===!0,y=m.encodeLocation?m.encodeLocation(f).pathname:f.pathname,E=p.pathname,w=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;n||(E=E.toLowerCase(),w=w?w.toLowerCase():null,y=y.toLowerCase()),w&&_&&(w=Ti(w,_)||w);const M=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let F=E===y||!i&&E.startsWith(y)&&E.charAt(M)==="/",P=w!=null&&(w===y||!i&&w.startsWith(y)&&w.charAt(y.length)==="/"),b={isActive:F,isPending:P,isTransitioning:T},x=F?t:void 0,C;typeof r=="function"?C=r(b):C=[r,F?"active":null,P?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(b):o;return S.createElement(os,{...u,"aria-current":x,className:C,ref:d,style:I,to:s,viewTransition:a},typeof l=="function"?l(b):l)});rN.displayName="NavLink";var iN=S.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:o,method:s=mc,action:a,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:f,...p},h)=>{let m=uN(),_=cN(a,{relative:u}),T=s.toLowerCase()==="get"?"get":"post",y=typeof a=="string"&&rT.test(a),E=w=>{if(l&&l(w),w.defaultPrevented)return;w.preventDefault();let M=w.nativeEvent.submitter,F=(M==null?void 0:M.getAttribute("formmethod"))||s;m(M||w.currentTarget,{fetcherKey:t,method:F,navigate:n,replace:i,state:o,relative:u,preventScrollReset:d,viewTransition:f})};return S.createElement("form",{ref:h,method:T,action:_,onSubmit:r?l:E,...p,"data-discover":!y&&e==="render"?"true":void 0})});iN.displayName="Form";function oN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iT(e){let t=S.useContext(Os);return je(t,oN(e)),t}function sN(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let a=qd(),l=Mi(),u=$l(e,{relative:o});return S.useCallback(d=>{if(FD(d,t)){d.preventDefault();let f=n!==void 0?n:_l(l)===_l(u);a(e,{replace:f,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[l,a,u,n,r,t,e,i,o,s])}var aN=0,lN=()=>`__${String(++aN)}__`;function uN(){let{router:e}=iT("useSubmit"),{basename:t}=S.useContext(qn),n=CD();return S.useCallback(async(r,i={})=>{let{action:o,method:s,encType:a,formData:l,body:u}=UD(r,t);if(i.navigate===!1){let d=i.fetcherKey||lN();await e.fetch(d,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function cN(e,{relative:t}={}){let{basename:n}=S.useContext(qn),r=S.useContext(lr);je(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...$l(e||".",{relative:t})},s=Mi();if(e==null){o.search=s.search;let a=new URLSearchParams(o.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let d=a.toString();o.search=d?`?${d}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:xr([n,o.pathname])),_l(o)}function dN(e,t={}){let n=S.useContext(QI);je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=iT("useViewTransitionState"),i=$l(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=Ti(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Ti(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ed(i.pathname,s)!=null||ed(i.pathname,o)!=null}new TextEncoder;const fN=({children:e,style:t,onClick:n,className:r,value:i,onChange:o,onKeyDown:s,type:a,id:l,placeholder:u})=>D.jsx("textarea",{style:t,onClick:n,className:r,value:i,onChange:o,onKeyDown:s,type:a,id:l,placeholder:u,required:!0,children:e}),$0=({children:e,style:t,onClick:n,className:r,type:i,value:o})=>D.jsx("button",{style:t,onClick:n,className:r,type:i,value:o,children:e});var U0={LANGUAGE:"en_US",USER:"fadelyang",LC_TIME:"id_ID.UTF-8",npm_config_user_agent:"npm/9.8.1 node/v18.18.0 linux x64 workspaces/false",XDG_SESSION_TYPE:"x11",BUN_INSTALL:"/home/fadelyang/.bun",GIT_ASKPASS:"/usr/share/code/resources/app/extensions/git/dist/askpass.sh",npm_node_execpath:"/home/fadelyang/.nvm/versions/node/v18.18.0/bin/node",SHLVL:"3",npm_config_noproxy:"",HOME:"/home/fadelyang",OLDPWD:"/home/fadelyang/Documents/work/2-wir/wir-chat",LESS:"-R",CHROME_DESKTOP:"code-url-handler.desktop",DESKTOP_SESSION:"ubuntu",NVM_BIN:"/home/fadelyang/.nvm/versions/node/v18.18.0/bin",TERM_PROGRAM_VERSION:"1.85.1",npm_package_json:"/home/fadelyang/Documents/work/2-wir/wir-chat/package.json",ZSH:"/home/fadelyang/.oh-my-zsh",LSCOLORS:"Gxfxcxdxbxegedabagacad",NVM_INC:"/home/fadelyang/.nvm/versions/node/v18.18.0/include/node",GTK_MODULES:"gail:atk-bridge",XDG_SEAT_PATH:"/org/freedesktop/DisplayManager/Seat0",GNOME_SHELL_SESSION_MODE:"ubuntu",PAGER:"less",VSCODE_GIT_ASKPASS_MAIN:"/usr/share/code/resources/app/extensions/git/dist/askpass-main.js",LC_MONETARY:"id_ID.UTF-8",VSCODE_GIT_ASKPASS_NODE:"/usr/share/code/code",npm_config_userconfig:"/home/fadelyang/.npmrc",npm_config_local_prefix:"/home/fadelyang/Documents/work/2-wir/wir-chat",SYSTEMD_EXEC_PID:"2309",DBUS_SESSION_BUS_ADDRESS:"unix:path=/run/user/1000/bus",COLORTERM:"truecolor",COLOR:"1",NVM_DIR:"/home/fadelyang/.nvm",npm_config_metrics_registry:"https://registry.npmjs.org/",GTK_IM_MODULE:"ibus",LOGNAME:"fadelyang",_:"/home/fadelyang/.nvm/versions/node/v18.18.0/bin/npm",npm_config_prefix:"/home/fadelyang/.nvm/versions/node/v18.18.0",npm_config_npm_version:"9.8.1",XDG_SESSION_CLASS:"user",USER_ZDOTDIR:"/home/fadelyang",TERM:"xterm-256color",npm_config_cache:"/home/fadelyang/.npm",GNOME_DESKTOP_SESSION_ID:"this-is-deprecated",npm_config_node_gyp:"/home/fadelyang/.nvm/versions/node/v18.18.0/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/fadelyang/Documents/work/2-wir/wir-chat/node_modules/.bin:/home/fadelyang/Documents/work/2-wir/node_modules/.bin:/home/fadelyang/Documents/work/node_modules/.bin:/home/fadelyang/Documents/node_modules/.bin:/home/fadelyang/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/fadelyang/.nvm/versions/node/v18.18.0/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/fadelyang/.bun/bin:/home/fadelyang/.fly/bin:/home/fadelyang/.config/composer/vendor/bin:/home/fadelyang/.bun/bin:/home/fadelyang/.fly/bin:/home/fadelyang/.config/composer/vendor/bin:/home/fadelyang/.bun/bin:/home/fadelyang/.fly/bin:/home/fadelyang/.config/composer/vendor/bin:/home/fadelyang/.nvm/versions/node/v18.18.0/bin:/home/fadelyang/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/home/fadelyang/.dotnet/tools",SESSION_MANAGER:"local/fadela-lenovo:@/tmp/.ICE-unix/2038,unix/fadela-lenovo:/tmp/.ICE-unix/2038",GTK3_MODULES:"xapp-gtk3-module",GDM_LANG:"en_US",NODE:"/home/fadelyang/.nvm/versions/node/v18.18.0/bin/node",npm_package_name:"wir-chat",GNOME_TERMINAL_SCREEN:"/org/gnome/Terminal/screen/a9009bd0_8896_4dfb_b1af_c0ee439fa32d",XDG_MENU_PREFIX:"gnome-",XDG_SESSION_PATH:"/org/freedesktop/DisplayManager/Session0",XDG_RUNTIME_DIR:"/run/user/1000",LC_ADDRESS:"id_ID.UTF-8",GDK_BACKEND:"x11",DISPLAY:":0",LANG:"en_US.UTF-8",XDG_CURRENT_DESKTOP:"Unity",DOTNET_BUNDLE_EXTRACT_BASE_DIR:"/home/fadelyang/.cache/dotnet_bundle_extract",LC_TELEPHONE:"id_ID.UTF-8",VSCODE_INJECTION:"1",XDG_SESSION_DESKTOP:"ubuntu",XMODIFIERS:"@im=ibus",GNOME_TERMINAL_SERVICE:":1.108",XAUTHORITY:"/home/fadelyang/.Xauthority",LS_COLORS:"rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:",TERM_PROGRAM:"vscode",VSCODE_GIT_IPC_HANDLE:"/run/user/1000/vscode-git-b5930ab35c.sock",npm_lifecycle_script:"vite build",SSH_AUTH_SOCK:"/run/user/1000/keyring/ssh",XDG_GREETER_DATA_DIR:"/var/lib/lightdm-data/fadelyang",SSH_AGENT_LAUNCHER:"gnome-keyring",ORIGINAL_XDG_CURRENT_DESKTOP:"Unity",GOPATH:"/home/fadelyang/go",SHELL:"/usr/bin/zsh",LC_NAME:"id_ID.UTF-8",npm_package_version:"0.0.0",npm_lifecycle_event:"build",QT_ACCESSIBILITY:"1",GDMSESSION:"ubuntu",FLYCTL_INSTALL:"/home/fadelyang/.fly",NO_AT_BRIDGE:"1",LC_MEASUREMENT:"id_ID.UTF-8",LC_IDENTIFICATION:"id_ID.UTF-8",GPG_AGENT_INFO:"/run/user/1000/gnupg/S.gpg-agent:0:1",QT_IM_MODULE:"ibus",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",npm_config_globalconfig:"/home/fadelyang/.nvm/versions/node/v18.18.0/etc/npmrc",npm_config_init_module:"/home/fadelyang/.npm-init.js",PWD:"/home/fadelyang/Documents/work/2-wir/wir-chat",npm_execpath:"/home/fadelyang/.nvm/versions/node/v18.18.0/lib/node_modules/npm/bin/npm-cli.js",XDG_CONFIG_DIRS:"/etc/xdg/xdg-ubuntu:/etc/xdg",XDG_DATA_DIRS:"/usr/share/ubuntu:/usr/share/gnome:/home/fadelyang/.local/share/flatpak/exports/share:/var/lib/flatpak/exports/share:/usr/local/share:/usr/share:/var/lib/snapd/desktop",NVM_CD_FLAGS:"-q",ZDOTDIR:"/home/fadelyang",npm_config_global_prefix:"/home/fadelyang/.nvm/versions/node/v18.18.0",LC_NUMERIC:"id_ID.UTF-8",npm_command:"run-script",LC_PAPER:"id_ID.UTF-8",VTE_VERSION:"6800",INIT_CWD:"/home/fadelyang/Documents/work/2-wir/wir-chat",EDITOR:"vi",NODE_ENV:"production",REACT_APP_BACKEND_URL:"https://ea.wirglobal.com",REACT_APP_CURRENT_VERSION:"3.1.0",REACT_APP_FIREBASE_API_KEY:"AIzaSyDoyWyWKSk_8ovvS8_0d1A64DIRVhsEPdE",REACT_APP_FIREBASE_AUTH_DOMAIN:"wirchat-22331.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"wirchat-22331",REACT_APP_FIREBASE_STORAGE_BUCKET:"wirchat-22331.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"279788642755",REACT_APP_FIREBASE_APP_ID:"1:279788642755:web:61bafae06f7d1932765d76",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-97GNX3XH66"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},hN=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++],s=e[n++],a=e[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},sT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],s=i+1<e.length,a=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4;let p=(a&15)<<2|u>>6,h=u&63;l||(h=64,s||(p=64)),r.push(n[d],n[f],n[p],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(oT(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):hN(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new pN;const p=o<<2|a>>4;if(r.push(p),u!==64){const h=a<<4&240|u>>2;if(r.push(h),f!==64){const m=u<<6&192|f;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class pN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mN=function(e){const t=oT(e);return sT.encodeByteArray(t,!0)},td=function(e){return mN(e).replace(/\./g,"")},aT=function(e){try{return sT.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=()=>gN().__FIREBASE_DEFAULTS__,_N=()=>{if(typeof process>"u"||typeof U0>"u")return;const e=U0.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},vN=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&aT(e[1]);return t&&JSON.parse(t)},Kd=()=>{try{return yN()||_N()||vN()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},lT=e=>{var t,n;return(n=(t=Kd())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},EN=e=>{const t=lT(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},uT=()=>{var e;return(e=Kd())===null||e===void 0?void 0:e.config},cT=e=>{var t;return(t=Kd())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[td(JSON.stringify(n)),td(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function TN(){var e;const t=(e=Kd())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CN(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function RN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bN(){const e=Lt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function AN(){return!TN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kN(){try{return typeof indexedDB=="object"}catch{return!1}}function PN(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="FirebaseError";class Fr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=DN,Object.setPrototypeOf(this,Fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ul.prototype.create)}}class Ul{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?NN(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Fr(i,a,r)}}function NN(e,t){return e.replace(ON,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const ON=/\{\$([^}]+)}/g;function LN(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function nd(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],s=t[i];if(z0(o)&&z0(s)){if(!nd(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function z0(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Pa(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(o)}}),t}function Da(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function MN(e,t){const n=new FN(e,t);return n.subscribe.bind(n)}class FN{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");VN(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=wh),i.error===void 0&&(i.error=wh),i.complete===void 0&&(i.complete=wh);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VN(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function wh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(e){return e&&e._delegate?e._delegate:e}class ho{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new wN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(zN(t))try{this.getOrInitializeService({instanceIdentifier:Xi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=Xi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xi){return this.instances.has(t)}getOptions(t=Xi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UN(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Xi){return this.component?this.component.multipleInstances?t:Xi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UN(e){return e===Xi?void 0:e}function zN(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new $N(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(_e||(_e={}));const BN={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},HN=_e.INFO,GN={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},qN=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=GN[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class iy{constructor(t){this.name=t,this._logLevel=HN,this._logHandler=qN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in _e))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?BN[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...t),this._logHandler(this,_e.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...t),this._logHandler(this,_e.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...t),this._logHandler(this,_e.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...t),this._logHandler(this,_e.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...t),this._logHandler(this,_e.ERROR,...t)}}const WN=(e,t)=>t.some(n=>e instanceof n);let j0,B0;function KN(){return j0||(j0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XN(){return B0||(B0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dT=new WeakMap,am=new WeakMap,fT=new WeakMap,Sh=new WeakMap,oy=new WeakMap;function QN(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(mi(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&dT.set(n,e)}).catch(()=>{}),oy.set(t,e),t}function YN(e){if(am.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});am.set(e,t)}let lm={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return am.get(e);if(t==="objectStoreNames")return e.objectStoreNames||fT.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function JN(e){lm=e(lm)}function ZN(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Ih(this),t,...n);return fT.set(r,t.sort?t.sort():[t]),mi(r)}:XN().includes(e)?function(...t){return e.apply(Ih(this),t),mi(dT.get(this))}:function(...t){return mi(e.apply(Ih(this),t))}}function eO(e){return typeof e=="function"?ZN(e):(e instanceof IDBTransaction&&YN(e),WN(e,KN())?new Proxy(e,lm):e)}function mi(e){if(e instanceof IDBRequest)return QN(e);if(Sh.has(e))return Sh.get(e);const t=eO(e);return t!==e&&(Sh.set(e,t),oy.set(t,e)),t}const Ih=e=>oy.get(e);function tO(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=mi(s);return r&&s.addEventListener("upgradeneeded",l=>{r(mi(s.result),l.oldVersion,l.newVersion,mi(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const nO=["get","getKey","getAll","getAllKeys","count"],rO=["put","add","delete","clear"],Th=new Map;function H0(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Th.get(t))return Th.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=rO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nO.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Th.set(t,o),o}JN(e=>({...e,get:(t,n,r)=>H0(t,n)||e.get(t,n,r),has:(t,n)=>!!H0(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function oO(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const um="@firebase/app",G0="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr=new iy("@firebase/app"),sO="@firebase/app-compat",aO="@firebase/analytics-compat",lO="@firebase/analytics",uO="@firebase/app-check-compat",cO="@firebase/app-check",dO="@firebase/auth",fO="@firebase/auth-compat",hO="@firebase/database",pO="@firebase/data-connect",mO="@firebase/database-compat",gO="@firebase/functions",yO="@firebase/functions-compat",_O="@firebase/installations",vO="@firebase/installations-compat",EO="@firebase/messaging",wO="@firebase/messaging-compat",SO="@firebase/performance",IO="@firebase/performance-compat",TO="@firebase/remote-config",xO="@firebase/remote-config-compat",CO="@firebase/storage",RO="@firebase/storage-compat",bO="@firebase/firestore",AO="@firebase/vertexai",kO="@firebase/firestore-compat",PO="firebase",DO="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm="[DEFAULT]",NO={[um]:"fire-core",[sO]:"fire-core-compat",[lO]:"fire-analytics",[aO]:"fire-analytics-compat",[cO]:"fire-app-check",[uO]:"fire-app-check-compat",[dO]:"fire-auth",[fO]:"fire-auth-compat",[hO]:"fire-rtdb",[pO]:"fire-data-connect",[mO]:"fire-rtdb-compat",[gO]:"fire-fn",[yO]:"fire-fn-compat",[_O]:"fire-iid",[vO]:"fire-iid-compat",[EO]:"fire-fcm",[wO]:"fire-fcm-compat",[SO]:"fire-perf",[IO]:"fire-perf-compat",[TO]:"fire-rc",[xO]:"fire-rc-compat",[CO]:"fire-gcs",[RO]:"fire-gcs-compat",[bO]:"fire-fst",[kO]:"fire-fst-compat",[AO]:"fire-vertex","fire-js":"fire-js",[PO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=new Map,OO=new Map,dm=new Map;function q0(e,t){try{e.container.addComponent(t)}catch(n){Dr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function vs(e){const t=e.name;if(dm.has(t))return Dr.debug(`There were multiple attempts to register component ${t}.`),!1;dm.set(t,e);for(const n of rd.values())q0(n,e);for(const n of OO.values())q0(n,e);return!0}function sy(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Er(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gi=new Ul("app","Firebase",LO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=DO;function hT(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:cm,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw gi.create("bad-app-name",{appName:String(i)});if(n||(n=uT()),!n)throw gi.create("no-options");const o=rd.get(i);if(o){if(nd(n,o.options)&&nd(r,o.config))return o;throw gi.create("duplicate-app",{appName:i})}const s=new jN(i);for(const l of dm.values())s.addComponent(l);const a=new MO(n,r,s);return rd.set(i,a),a}function pT(e=cm){const t=rd.get(e);if(!t&&e===cm&&uT())return hT();if(!t)throw gi.create("no-app",{appName:e});return t}function yi(e,t,n){var r;let i=(r=NO[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Dr.warn(a.join(" "));return}vs(new ho(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO="firebase-heartbeat-database",VO=1,vl="firebase-heartbeat-store";let xh=null;function mT(){return xh||(xh=tO(FO,VO,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(vl)}catch(n){console.warn(n)}}}}).catch(e=>{throw gi.create("idb-open",{originalErrorMessage:e.message})})),xh}async function $O(e){try{const n=(await mT()).transaction(vl),r=await n.objectStore(vl).get(gT(e));return await n.done,r}catch(t){if(t instanceof Fr)Dr.warn(t.message);else{const n=gi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Dr.warn(n.message)}}}async function W0(e,t){try{const r=(await mT()).transaction(vl,"readwrite");await r.objectStore(vl).put(t,gT(e)),await r.done}catch(n){if(n instanceof Fr)Dr.warn(n.message);else{const r=gi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Dr.warn(r.message)}}}function gT(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=1024,zO=30*24*60*60*1e3;class jO{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=K0();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=zO}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Dr.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=K0(),{heartbeatsToSend:r,unsentEntries:i}=BO(this._heartbeatsCache.heartbeats),o=td(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Dr.warn(n),""}}}function K0(){return new Date().toISOString().substring(0,10)}function BO(e,t=UO){const n=[];let r=e.slice();for(const i of e){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),X0(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),X0(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class HO{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kN()?PN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $O(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return W0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return W0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function X0(e){return td(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(e){vs(new ho("platform-logger",t=>new iO(t),"PRIVATE")),vs(new ho("heartbeat",t=>new jO(t),"PRIVATE")),yi(um,G0,e),yi(um,G0,"esm2017"),yi("fire-js","")}GO("");var qO="firebase",WO="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yi(qO,WO,"app");var Q0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _i,yT;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(b,x){function C(){}C.prototype=x.prototype,b.D=x.prototype,b.prototype=new C,b.prototype.constructor=b,b.C=function(I,A,L){for(var k=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)k[Y-2]=arguments[Y];return x.prototype[A].apply(I,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,x,C){C||(C=0);var I=Array(16);if(typeof x=="string")for(var A=0;16>A;++A)I[A]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(A=0;16>A;++A)I[A]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=b.g[0],C=b.g[1],A=b.g[2];var L=b.g[3],k=x+(L^C&(A^L))+I[0]+3614090360&4294967295;x=C+(k<<7&4294967295|k>>>25),k=L+(A^x&(C^A))+I[1]+3905402710&4294967295,L=x+(k<<12&4294967295|k>>>20),k=A+(C^L&(x^C))+I[2]+606105819&4294967295,A=L+(k<<17&4294967295|k>>>15),k=C+(x^A&(L^x))+I[3]+3250441966&4294967295,C=A+(k<<22&4294967295|k>>>10),k=x+(L^C&(A^L))+I[4]+4118548399&4294967295,x=C+(k<<7&4294967295|k>>>25),k=L+(A^x&(C^A))+I[5]+1200080426&4294967295,L=x+(k<<12&4294967295|k>>>20),k=A+(C^L&(x^C))+I[6]+2821735955&4294967295,A=L+(k<<17&4294967295|k>>>15),k=C+(x^A&(L^x))+I[7]+4249261313&4294967295,C=A+(k<<22&4294967295|k>>>10),k=x+(L^C&(A^L))+I[8]+1770035416&4294967295,x=C+(k<<7&4294967295|k>>>25),k=L+(A^x&(C^A))+I[9]+2336552879&4294967295,L=x+(k<<12&4294967295|k>>>20),k=A+(C^L&(x^C))+I[10]+4294925233&4294967295,A=L+(k<<17&4294967295|k>>>15),k=C+(x^A&(L^x))+I[11]+2304563134&4294967295,C=A+(k<<22&4294967295|k>>>10),k=x+(L^C&(A^L))+I[12]+1804603682&4294967295,x=C+(k<<7&4294967295|k>>>25),k=L+(A^x&(C^A))+I[13]+4254626195&4294967295,L=x+(k<<12&4294967295|k>>>20),k=A+(C^L&(x^C))+I[14]+2792965006&4294967295,A=L+(k<<17&4294967295|k>>>15),k=C+(x^A&(L^x))+I[15]+1236535329&4294967295,C=A+(k<<22&4294967295|k>>>10),k=x+(A^L&(C^A))+I[1]+4129170786&4294967295,x=C+(k<<5&4294967295|k>>>27),k=L+(C^A&(x^C))+I[6]+3225465664&4294967295,L=x+(k<<9&4294967295|k>>>23),k=A+(x^C&(L^x))+I[11]+643717713&4294967295,A=L+(k<<14&4294967295|k>>>18),k=C+(L^x&(A^L))+I[0]+3921069994&4294967295,C=A+(k<<20&4294967295|k>>>12),k=x+(A^L&(C^A))+I[5]+3593408605&4294967295,x=C+(k<<5&4294967295|k>>>27),k=L+(C^A&(x^C))+I[10]+38016083&4294967295,L=x+(k<<9&4294967295|k>>>23),k=A+(x^C&(L^x))+I[15]+3634488961&4294967295,A=L+(k<<14&4294967295|k>>>18),k=C+(L^x&(A^L))+I[4]+3889429448&4294967295,C=A+(k<<20&4294967295|k>>>12),k=x+(A^L&(C^A))+I[9]+568446438&4294967295,x=C+(k<<5&4294967295|k>>>27),k=L+(C^A&(x^C))+I[14]+3275163606&4294967295,L=x+(k<<9&4294967295|k>>>23),k=A+(x^C&(L^x))+I[3]+4107603335&4294967295,A=L+(k<<14&4294967295|k>>>18),k=C+(L^x&(A^L))+I[8]+1163531501&4294967295,C=A+(k<<20&4294967295|k>>>12),k=x+(A^L&(C^A))+I[13]+2850285829&4294967295,x=C+(k<<5&4294967295|k>>>27),k=L+(C^A&(x^C))+I[2]+4243563512&4294967295,L=x+(k<<9&4294967295|k>>>23),k=A+(x^C&(L^x))+I[7]+1735328473&4294967295,A=L+(k<<14&4294967295|k>>>18),k=C+(L^x&(A^L))+I[12]+2368359562&4294967295,C=A+(k<<20&4294967295|k>>>12),k=x+(C^A^L)+I[5]+4294588738&4294967295,x=C+(k<<4&4294967295|k>>>28),k=L+(x^C^A)+I[8]+2272392833&4294967295,L=x+(k<<11&4294967295|k>>>21),k=A+(L^x^C)+I[11]+1839030562&4294967295,A=L+(k<<16&4294967295|k>>>16),k=C+(A^L^x)+I[14]+4259657740&4294967295,C=A+(k<<23&4294967295|k>>>9),k=x+(C^A^L)+I[1]+2763975236&4294967295,x=C+(k<<4&4294967295|k>>>28),k=L+(x^C^A)+I[4]+1272893353&4294967295,L=x+(k<<11&4294967295|k>>>21),k=A+(L^x^C)+I[7]+4139469664&4294967295,A=L+(k<<16&4294967295|k>>>16),k=C+(A^L^x)+I[10]+3200236656&4294967295,C=A+(k<<23&4294967295|k>>>9),k=x+(C^A^L)+I[13]+681279174&4294967295,x=C+(k<<4&4294967295|k>>>28),k=L+(x^C^A)+I[0]+3936430074&4294967295,L=x+(k<<11&4294967295|k>>>21),k=A+(L^x^C)+I[3]+3572445317&4294967295,A=L+(k<<16&4294967295|k>>>16),k=C+(A^L^x)+I[6]+76029189&4294967295,C=A+(k<<23&4294967295|k>>>9),k=x+(C^A^L)+I[9]+3654602809&4294967295,x=C+(k<<4&4294967295|k>>>28),k=L+(x^C^A)+I[12]+3873151461&4294967295,L=x+(k<<11&4294967295|k>>>21),k=A+(L^x^C)+I[15]+530742520&4294967295,A=L+(k<<16&4294967295|k>>>16),k=C+(A^L^x)+I[2]+3299628645&4294967295,C=A+(k<<23&4294967295|k>>>9),k=x+(A^(C|~L))+I[0]+4096336452&4294967295,x=C+(k<<6&4294967295|k>>>26),k=L+(C^(x|~A))+I[7]+1126891415&4294967295,L=x+(k<<10&4294967295|k>>>22),k=A+(x^(L|~C))+I[14]+2878612391&4294967295,A=L+(k<<15&4294967295|k>>>17),k=C+(L^(A|~x))+I[5]+4237533241&4294967295,C=A+(k<<21&4294967295|k>>>11),k=x+(A^(C|~L))+I[12]+1700485571&4294967295,x=C+(k<<6&4294967295|k>>>26),k=L+(C^(x|~A))+I[3]+2399980690&4294967295,L=x+(k<<10&4294967295|k>>>22),k=A+(x^(L|~C))+I[10]+4293915773&4294967295,A=L+(k<<15&4294967295|k>>>17),k=C+(L^(A|~x))+I[1]+2240044497&4294967295,C=A+(k<<21&4294967295|k>>>11),k=x+(A^(C|~L))+I[8]+1873313359&4294967295,x=C+(k<<6&4294967295|k>>>26),k=L+(C^(x|~A))+I[15]+4264355552&4294967295,L=x+(k<<10&4294967295|k>>>22),k=A+(x^(L|~C))+I[6]+2734768916&4294967295,A=L+(k<<15&4294967295|k>>>17),k=C+(L^(A|~x))+I[13]+1309151649&4294967295,C=A+(k<<21&4294967295|k>>>11),k=x+(A^(C|~L))+I[4]+4149444226&4294967295,x=C+(k<<6&4294967295|k>>>26),k=L+(C^(x|~A))+I[11]+3174756917&4294967295,L=x+(k<<10&4294967295|k>>>22),k=A+(x^(L|~C))+I[2]+718787259&4294967295,A=L+(k<<15&4294967295|k>>>17),k=C+(L^(A|~x))+I[9]+3951481745&4294967295,b.g[0]=b.g[0]+x&4294967295,b.g[1]=b.g[1]+(A+(k<<21&4294967295|k>>>11))&4294967295,b.g[2]=b.g[2]+A&4294967295,b.g[3]=b.g[3]+L&4294967295}r.prototype.u=function(b,x){x===void 0&&(x=b.length);for(var C=x-this.blockSize,I=this.B,A=this.h,L=0;L<x;){if(A==0)for(;L<=C;)i(this,b,L),L+=this.blockSize;if(typeof b=="string"){for(;L<x;)if(I[A++]=b.charCodeAt(L++),A==this.blockSize){i(this,I),A=0;break}}else for(;L<x;)if(I[A++]=b[L++],A==this.blockSize){i(this,I),A=0;break}}this.h=A,this.o+=x},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var x=1;x<b.length-8;++x)b[x]=0;var C=8*this.o;for(x=b.length-8;x<b.length;++x)b[x]=C&255,C/=256;for(this.u(b),b=Array(16),x=C=0;4>x;++x)for(var I=0;32>I;I+=8)b[C++]=this.g[x]>>>I&255;return b};function o(b,x){var C=a;return Object.prototype.hasOwnProperty.call(C,b)?C[b]:C[b]=x(b)}function s(b,x){this.h=x;for(var C=[],I=!0,A=b.length-1;0<=A;A--){var L=b[A]|0;I&&L==x||(C[A]=L,I=!1)}this.g=C}var a={};function l(b){return-128<=b&&128>b?o(b,function(x){return new s([x|0],0>x?-1:0)}):new s([b|0],0>b?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return f;if(0>b)return T(u(-b));for(var x=[],C=1,I=0;b>=C;I++)x[I]=b/C|0,C*=4294967296;return new s(x,0)}function d(b,x){if(b.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(b.charAt(0)=="-")return T(d(b.substring(1),x));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(x,8)),I=f,A=0;A<b.length;A+=8){var L=Math.min(8,b.length-A),k=parseInt(b.substring(A,A+L),x);8>L?(L=u(Math.pow(x,L)),I=I.j(L).add(u(k))):(I=I.j(C),I=I.add(u(k)))}return I}var f=l(0),p=l(1),h=l(16777216);e=s.prototype,e.m=function(){if(_(this))return-T(this).m();for(var b=0,x=1,C=0;C<this.g.length;C++){var I=this.i(C);b+=(0<=I?I:4294967296+I)*x,x*=4294967296}return b},e.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(m(this))return"0";if(_(this))return"-"+T(this).toString(b);for(var x=u(Math.pow(b,6)),C=this,I="";;){var A=M(C,x).g;C=y(C,A.j(x));var L=((0<C.g.length?C.g[0]:C.h)>>>0).toString(b);if(C=A,m(C))return L+I;for(;6>L.length;)L="0"+L;I=L+I}},e.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function m(b){if(b.h!=0)return!1;for(var x=0;x<b.g.length;x++)if(b.g[x]!=0)return!1;return!0}function _(b){return b.h==-1}e.l=function(b){return b=y(this,b),_(b)?-1:m(b)?0:1};function T(b){for(var x=b.g.length,C=[],I=0;I<x;I++)C[I]=~b.g[I];return new s(C,~b.h).add(p)}e.abs=function(){return _(this)?T(this):this},e.add=function(b){for(var x=Math.max(this.g.length,b.g.length),C=[],I=0,A=0;A<=x;A++){var L=I+(this.i(A)&65535)+(b.i(A)&65535),k=(L>>>16)+(this.i(A)>>>16)+(b.i(A)>>>16);I=k>>>16,L&=65535,k&=65535,C[A]=k<<16|L}return new s(C,C[C.length-1]&-2147483648?-1:0)};function y(b,x){return b.add(T(x))}e.j=function(b){if(m(this)||m(b))return f;if(_(this))return _(b)?T(this).j(T(b)):T(T(this).j(b));if(_(b))return T(this.j(T(b)));if(0>this.l(h)&&0>b.l(h))return u(this.m()*b.m());for(var x=this.g.length+b.g.length,C=[],I=0;I<2*x;I++)C[I]=0;for(I=0;I<this.g.length;I++)for(var A=0;A<b.g.length;A++){var L=this.i(I)>>>16,k=this.i(I)&65535,Y=b.i(A)>>>16,Z=b.i(A)&65535;C[2*I+2*A]+=k*Z,E(C,2*I+2*A),C[2*I+2*A+1]+=L*Z,E(C,2*I+2*A+1),C[2*I+2*A+1]+=k*Y,E(C,2*I+2*A+1),C[2*I+2*A+2]+=L*Y,E(C,2*I+2*A+2)}for(I=0;I<x;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=x;I<2*x;I++)C[I]=0;return new s(C,0)};function E(b,x){for(;(b[x]&65535)!=b[x];)b[x+1]+=b[x]>>>16,b[x]&=65535,x++}function w(b,x){this.g=b,this.h=x}function M(b,x){if(m(x))throw Error("division by zero");if(m(b))return new w(f,f);if(_(b))return x=M(T(b),x),new w(T(x.g),T(x.h));if(_(x))return x=M(b,T(x)),new w(T(x.g),x.h);if(30<b.g.length){if(_(b)||_(x))throw Error("slowDivide_ only works with positive integers.");for(var C=p,I=x;0>=I.l(b);)C=F(C),I=F(I);var A=P(C,1),L=P(I,1);for(I=P(I,2),C=P(C,2);!m(I);){var k=L.add(I);0>=k.l(b)&&(A=A.add(C),L=k),I=P(I,1),C=P(C,1)}return x=y(b,A.j(x)),new w(A,x)}for(A=f;0<=b.l(x);){for(C=Math.max(1,Math.floor(b.m()/x.m())),I=Math.ceil(Math.log(C)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),L=u(C),k=L.j(x);_(k)||0<k.l(b);)C-=I,L=u(C),k=L.j(x);m(L)&&(L=p),A=A.add(L),b=y(b,k)}return new w(A,b)}e.A=function(b){return M(this,b).h},e.and=function(b){for(var x=Math.max(this.g.length,b.g.length),C=[],I=0;I<x;I++)C[I]=this.i(I)&b.i(I);return new s(C,this.h&b.h)},e.or=function(b){for(var x=Math.max(this.g.length,b.g.length),C=[],I=0;I<x;I++)C[I]=this.i(I)|b.i(I);return new s(C,this.h|b.h)},e.xor=function(b){for(var x=Math.max(this.g.length,b.g.length),C=[],I=0;I<x;I++)C[I]=this.i(I)^b.i(I);return new s(C,this.h^b.h)};function F(b){for(var x=b.g.length+1,C=[],I=0;I<x;I++)C[I]=b.i(I)<<1|b.i(I-1)>>>31;return new s(C,b.h)}function P(b,x){var C=x>>5;x%=32;for(var I=b.g.length-C,A=[],L=0;L<I;L++)A[L]=0<x?b.i(L+C)>>>x|b.i(L+C+1)<<32-x:b.i(L+C);return new s(A,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,yT=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,_i=s}).apply(typeof Q0<"u"?Q0:typeof self<"u"?self:typeof window<"u"?window:{});var zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _T,Na,vT,yc,fm,ET,wT,ST;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,v){return c==Array.prototype||c==Object.prototype||(c[g]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof zu=="object"&&zu];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function i(c,g){if(g)e:{var v=r;c=c.split(".");for(var R=0;R<c.length-1;R++){var V=c[R];if(!(V in v))break e;v=v[V]}c=c[c.length-1],R=v[c],g=g(R),g!=R&&g!=null&&t(v,c,{configurable:!0,writable:!0,value:g})}}function o(c,g){c instanceof String&&(c+="");var v=0,R=!1,V={next:function(){if(!R&&v<c.length){var $=v++;return{value:g($,c[$]),done:!1}}return R=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(c){return c||function(){return o(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function u(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function d(c,g,v){return c.call.apply(c.bind,arguments)}function f(c,g,v){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,R),c.apply(g,V)}}return function(){return c.apply(g,arguments)}}function p(c,g,v){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function h(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var R=v.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function m(c,g){function v(){}v.prototype=g.prototype,c.aa=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(R,V,$){for(var K=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)K[Pe-2]=arguments[Pe];return g.prototype[V].apply(R,K)}}function _(c){const g=c.length;if(0<g){const v=Array(g);for(let R=0;R<g;R++)v[R]=c[R];return v}return[]}function T(c,g){for(let v=1;v<arguments.length;v++){const R=arguments[v];if(l(R)){const V=c.length||0,$=R.length||0;c.length=V+$;for(let K=0;K<$;K++)c[V+K]=R[K]}else c.push(R)}}class y{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function E(c){return/^[\s\xa0]*$/.test(c)}function w(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function M(c){return M[" "](c),c}M[" "]=function(){};var F=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function P(c,g,v){for(const R in c)g.call(v,c[R],R,c)}function b(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function x(c){const g={};for(const v in c)g[v]=c[v];return g}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,g){let v,R;for(let V=1;V<arguments.length;V++){R=arguments[V];for(v in R)c[v]=R[v];for(let $=0;$<C.length;$++)v=C[$],Object.prototype.hasOwnProperty.call(R,v)&&(c[v]=R[v])}}function A(c){var g=1;c=c.split(":");const v=[];for(;0<g&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function L(c){a.setTimeout(()=>{throw c},0)}function k(){var c=W;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Y{constructor(){this.h=this.g=null}add(g,v){const R=Z.get();R.set(g,v),this.h?this.h.next=R:this.g=R,this.h=R}}var Z=new y(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,z=!1,W=new Y,N=()=>{const c=a.Promise.resolve(void 0);ne=()=>{c.then(de)}};var de=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(v){L(v)}var g=Z;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}z=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};a.addEventListener("test",v,g),a.removeEventListener("test",v,g)}catch{}return c}();function Ue(c,g){if(O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(F){e:{try{M(g.nodeName);var V=!0;break e}catch{}V=!1}V||(g=null)}}else v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement);this.relatedTarget=g,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ce[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ue.aa.h.call(this)}}m(Ue,O);var Ce={2:"touch",3:"pen",4:"mouse"};Ue.prototype.h=function(){Ue.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ht="closure_listenable_"+(1e6*Math.random()|0),gn=0;function Wn(c,g,v,R,V){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!R,this.ha=V,this.key=++gn,this.da=this.fa=!1}function Zt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function kn(c){this.src=c,this.g={},this.h=0}kn.prototype.add=function(c,g,v,R,V){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var K=Be(c,g,R,V);return-1<K?(g=c[K],v||(g.fa=!1)):(g=new Wn(g,this.src,$,!!R,V),g.fa=v,c.push(g)),g};function Re(c,g){var v=g.type;if(v in c.g){var R=c.g[v],V=Array.prototype.indexOf.call(R,g,void 0),$;($=0<=V)&&Array.prototype.splice.call(R,V,1),$&&(Zt(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Be(c,g,v,R){for(var V=0;V<c.length;++V){var $=c[V];if(!$.da&&$.listener==g&&$.capture==!!v&&$.ha==R)return V}return-1}var St="closure_lm_"+(1e6*Math.random()|0),Ur={};function Js(c,g,v,R,V){if(Array.isArray(g)){for(var $=0;$<g.length;$++)Js(c,g[$],v,R,V);return null}return v=au(v),c&&c[ht]?c.K(g,v,u(R)?!!R.capture:!!R,V):ou(c,g,v,!1,R,V)}function ou(c,g,v,R,V,$){if(!g)throw Error("Invalid event type");var K=u(V)?!!V.capture:!!V,Pe=ea(c);if(Pe||(c[St]=Pe=new kn(c)),v=Pe.add(g,v,R,K,$),v.proxy)return v;if(R=Pf(),v.proxy=R,R.src=c,R.listener=v,c.addEventListener)ye||(V=K),V===void 0&&(V=!1),c.addEventListener(g.toString(),R,V);else if(c.attachEvent)c.attachEvent(su(g.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Pf(){function c(v){return g.call(c.src,c.listener,v)}const g=Df;return c}function Zs(c,g,v,R,V){if(Array.isArray(g))for(var $=0;$<g.length;$++)Zs(c,g[$],v,R,V);else R=u(R)?!!R.capture:!!R,v=au(v),c&&c[ht]?(c=c.i,g=String(g).toString(),g in c.g&&($=c.g[g],v=Be($,v,R,V),-1<v&&(Zt($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete c.g[g],c.h--)))):c&&(c=ea(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Be(g,v,R,V)),(v=-1<c?g[c]:null)&&bo(v))}function bo(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ht])Re(g.i,c);else{var v=c.type,R=c.proxy;g.removeEventListener?g.removeEventListener(v,R,c.capture):g.detachEvent?g.detachEvent(su(v),R):g.addListener&&g.removeListener&&g.removeListener(R),(v=ea(g))?(Re(v,c),v.h==0&&(v.src=null,g[St]=null)):Zt(c)}}}function su(c){return c in Ur?Ur[c]:Ur[c]="on"+c}function Df(c,g){if(c.da)c=!0;else{g=new Ue(g,this);var v=c.listener,R=c.ha||c.src;c.fa&&bo(c),c=v.call(R,g)}return c}function ea(c){return c=c[St],c instanceof kn?c:null}var ta="__closure_events_fn_"+(1e9*Math.random()>>>0);function au(c){return typeof c=="function"?c:(c[ta]||(c[ta]=function(g){return c.handleEvent(g)}),c[ta])}function U(){ue.call(this),this.i=new kn(this),this.M=this,this.F=null}m(U,ue),U.prototype[ht]=!0,U.prototype.removeEventListener=function(c,g,v,R){Zs(this,c,g,v,R)};function H(c,g){var v,R=c.F;if(R)for(v=[];R;R=R.F)v.push(R);if(c=c.M,R=g.type||g,typeof g=="string")g=new O(g,c);else if(g instanceof O)g.target=g.target||c;else{var V=g;g=new O(R,c),I(g,V)}if(V=!0,v)for(var $=v.length-1;0<=$;$--){var K=g.g=v[$];V=ie(K,R,!0,g)&&V}if(K=g.g=c,V=ie(K,R,!0,g)&&V,V=ie(K,R,!1,g)&&V,v)for($=0;$<v.length;$++)K=g.g=v[$],V=ie(K,R,!1,g)&&V}U.prototype.N=function(){if(U.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var v=c.g[g],R=0;R<v.length;R++)Zt(v[R]);delete c.g[g],c.h--}}this.F=null},U.prototype.K=function(c,g,v,R){return this.i.add(String(c),g,!1,v,R)},U.prototype.L=function(c,g,v,R){return this.i.add(String(c),g,!0,v,R)};function ie(c,g,v,R){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var V=!0,$=0;$<g.length;++$){var K=g[$];if(K&&!K.da&&K.capture==v){var Pe=K.listener,pt=K.ha||K.src;K.fa&&Re(c.i,K),V=Pe.call(pt,R)!==!1&&V}}return V&&!R.defaultPrevented}function pe(c,g,v){if(typeof c=="function")v&&(c=p(c,v));else if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(c,g||0)}function be(c){c.g=pe(()=>{c.g=null,c.i&&(c.i=!1,be(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class en extends ue{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:be(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tn(c){ue.call(this),this.h=c,this.g={}}m(tn,ue);var yn=[];function zr(c){P(c.g,function(g,v){this.g.hasOwnProperty(v)&&bo(g)},c),c.g={}}tn.prototype.N=function(){tn.aa.N.call(this),zr(this)},tn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fr=a.JSON.stringify,Ft=a.JSON.parse,jr=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function nn(){}nn.prototype.h=null;function P_(c){return c.h||(c.h=c.i())}function D_(){}var na={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nf(){O.call(this,"d")}m(Nf,O);function Of(){O.call(this,"c")}m(Of,O);var Ui={},N_=null;function lu(){return N_=N_||new U}Ui.La="serverreachability";function O_(c){O.call(this,Ui.La,c)}m(O_,O);function ra(c){const g=lu();H(g,new O_(g))}Ui.STAT_EVENT="statevent";function L_(c,g){O.call(this,Ui.STAT_EVENT,c),this.stat=g}m(L_,O);function Vt(c){const g=lu();H(g,new L_(g,c))}Ui.Ma="timingevent";function M_(c,g){O.call(this,Ui.Ma,c),this.size=g}m(M_,O);function ia(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},g)}function oa(){this.g=!0}oa.prototype.xa=function(){this.g=!1};function Vb(c,g,v,R,V,$){c.info(function(){if(c.g)if($)for(var K="",Pe=$.split("&"),pt=0;pt<Pe.length;pt++){var Te=Pe[pt].split("=");if(1<Te.length){var It=Te[0];Te=Te[1];var Tt=It.split("_");K=2<=Tt.length&&Tt[1]=="type"?K+(It+"="+Te+"&"):K+(It+"=redacted&")}}else K=null;else K=$;return"XMLHTTP REQ ("+R+") [attempt "+V+"]: "+g+`
`+v+`
`+K})}function $b(c,g,v,R,V,$,K){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+V+"]: "+g+`
`+v+`
`+$+" "+K})}function Ao(c,g,v,R){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+zb(c,v)+(R?" "+R:"")})}function Ub(c,g){c.info(function(){return"TIMEOUT: "+g})}oa.prototype.info=function(){};function zb(c,g){if(!c.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var R=v[c];if(!(2>R.length)){var V=R[1];if(Array.isArray(V)&&!(1>V.length)){var $=V[0];if($!="noop"&&$!="stop"&&$!="close")for(var K=1;K<V.length;K++)V[K]=""}}}}return fr(v)}catch{return g}}var uu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},F_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Lf;function cu(){}m(cu,nn),cu.prototype.g=function(){return new XMLHttpRequest},cu.prototype.i=function(){return{}},Lf=new cu;function Br(c,g,v,R){this.j=c,this.i=g,this.l=v,this.R=R||1,this.U=new tn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new V_}function V_(){this.i=null,this.g="",this.h=!1}var $_={},Mf={};function Ff(c,g,v){c.L=1,c.v=pu(hr(g)),c.m=v,c.P=!0,U_(c,null)}function U_(c,g){c.F=Date.now(),du(c),c.A=hr(c.v);var v=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),ev(v.i,"t",R),c.C=0,v=c.j.J,c.h=new V_,c.g=_v(c.j,v?g:null,!c.m),0<c.O&&(c.M=new en(p(c.Y,c,c.g),c.O)),g=c.U,v=c.g,R=c.ca;var V="readystatechange";Array.isArray(V)||(V&&(yn[0]=V.toString()),V=yn);for(var $=0;$<V.length;$++){var K=Js(v,V[$],R||g.handleEvent,!1,g.h||g);if(!K)break;g.g[K.key]=K}g=c.H?x(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),ra(),Vb(c.i,c.u,c.A,c.l,c.R,c.m)}Br.prototype.ca=function(c){c=c.target;const g=this.M;g&&pr(c)==3?g.j():this.Y(c)},Br.prototype.Y=function(c){try{if(c==this.g)e:{const Tt=pr(this.g);var g=this.g.Ba();const Do=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||av(this.g)))){this.J||Tt!=4||g==7||(g==8||0>=Do?ra(3):ra(2)),Vf(this);var v=this.g.Z();this.X=v;t:if(z_(this)){var R=av(this.g);c="";var V=R.length,$=pr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zi(this),sa(this);var K="";break t}this.h.i=new a.TextDecoder}for(g=0;g<V;g++)this.h.h=!0,c+=this.h.i.decode(R[g],{stream:!($&&g==V-1)});R.length=0,this.h.g+=c,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=v==200,$b(this.i,this.u,this.A,this.l,this.R,Tt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,pt=this.g;if((Pe=pt.g?pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(Pe)){var Te=Pe;break t}}Te=null}if(v=Te)Ao(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$f(this,v);else{this.o=!1,this.s=3,Vt(12),zi(this),sa(this);break e}}if(this.P){v=!0;let Pn;for(;!this.J&&this.C<K.length;)if(Pn=jb(this,K),Pn==Mf){Tt==4&&(this.s=4,Vt(14),v=!1),Ao(this.i,this.l,null,"[Incomplete Response]");break}else if(Pn==$_){this.s=4,Vt(15),Ao(this.i,this.l,K,"[Invalid Chunk]"),v=!1;break}else Ao(this.i,this.l,Pn,null),$f(this,Pn);if(z_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||K.length!=0||this.h.h||(this.s=1,Vt(16),v=!1),this.o=this.o&&v,!v)Ao(this.i,this.l,K,"[Invalid Chunked Response]"),zi(this),sa(this);else if(0<K.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),Gf(It),It.M=!0,Vt(11))}}else Ao(this.i,this.l,K,null),$f(this,K);Tt==4&&zi(this),this.o&&!this.J&&(Tt==4?pv(this.j,this):(this.o=!1,du(this)))}else oA(this.g),v==400&&0<K.indexOf("Unknown SID")?(this.s=3,Vt(12)):(this.s=0,Vt(13)),zi(this),sa(this)}}}catch{}finally{}};function z_(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function jb(c,g){var v=c.C,R=g.indexOf(`
`,v);return R==-1?Mf:(v=Number(g.substring(v,R)),isNaN(v)?$_:(R+=1,R+v>g.length?Mf:(g=g.slice(R,R+v),c.C=R+v,g)))}Br.prototype.cancel=function(){this.J=!0,zi(this)};function du(c){c.S=Date.now()+c.I,j_(c,c.I)}function j_(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ia(p(c.ba,c),g)}function Vf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Br.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ub(this.i,this.A),this.L!=2&&(ra(),Vt(17)),zi(this),this.s=2,sa(this)):j_(this,this.S-c)};function sa(c){c.j.G==0||c.J||pv(c.j,c)}function zi(c){Vf(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,zr(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function $f(c,g){try{var v=c.j;if(v.G!=0&&(v.g==c||Uf(v.h,c))){if(!c.K&&Uf(v.h,c)&&v.G==3){try{var R=v.Da.g.parse(g)}catch{R=null}if(Array.isArray(R)&&R.length==3){var V=R;if(V[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Eu(v),_u(v);else break e;Hf(v),Vt(18)}}else v.za=V[1],0<v.za-v.T&&37500>V[2]&&v.F&&v.v==0&&!v.C&&(v.C=ia(p(v.Za,v),6e3));if(1>=G_(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Bi(v,11)}else if((c.K||v.g==c)&&Eu(v),!E(g))for(V=v.Da.g.parse(g),g=0;g<V.length;g++){let Te=V[g];if(v.T=Te[0],Te=Te[1],v.G==2)if(Te[0]=="c"){v.K=Te[1],v.ia=Te[2];const It=Te[3];It!=null&&(v.la=It,v.j.info("VER="+v.la));const Tt=Te[4];Tt!=null&&(v.Aa=Tt,v.j.info("SVER="+v.Aa));const Do=Te[5];Do!=null&&typeof Do=="number"&&0<Do&&(R=1.5*Do,v.L=R,v.j.info("backChannelRequestTimeoutMs_="+R)),R=v;const Pn=c.g;if(Pn){const Su=Pn.g?Pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Su){var $=R.h;$.g||Su.indexOf("spdy")==-1&&Su.indexOf("quic")==-1&&Su.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(zf($,$.h),$.h=null))}if(R.D){const qf=Pn.g?Pn.g.getResponseHeader("X-HTTP-Session-Id"):null;qf&&(R.ya=qf,Me(R.I,R.D,qf))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),R=v;var K=c;if(R.qa=yv(R,R.J?R.ia:null,R.W),K.K){q_(R.h,K);var Pe=K,pt=R.L;pt&&(Pe.I=pt),Pe.B&&(Vf(Pe),du(Pe)),R.g=K}else fv(R);0<v.i.length&&vu(v)}else Te[0]!="stop"&&Te[0]!="close"||Bi(v,7);else v.G==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?Bi(v,7):Bf(v):Te[0]!="noop"&&v.l&&v.l.ta(Te),v.v=0)}}ra(4)}catch{}}var Bb=class{constructor(c,g){this.g=c,this.map=g}};function B_(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function H_(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function G_(c){return c.h?1:c.g?c.g.size:0}function Uf(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function zf(c,g){c.g?c.g.add(g):c.h=g}function q_(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}B_.prototype.cancel=function(){if(this.i=W_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function W_(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.D);return g}return _(c.i)}function Hb(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var g=[],v=c.length,R=0;R<v;R++)g.push(c[R]);return g}g=[],v=0;for(R in c)g[v++]=c[R];return g}function Gb(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var g=[];c=c.length;for(var v=0;v<c;v++)g.push(v);return g}g=[],v=0;for(const R in c)g[v++]=R;return g}}}function K_(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var v=Gb(c),R=Hb(c),V=R.length,$=0;$<V;$++)g.call(void 0,R[$],v&&v[$],c)}var X_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qb(c,g){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var R=c[v].indexOf("="),V=null;if(0<=R){var $=c[v].substring(0,R);V=c[v].substring(R+1)}else $=c[v];g($,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function ji(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ji){this.h=c.h,fu(this,c.j),this.o=c.o,this.g=c.g,hu(this,c.s),this.l=c.l;var g=c.i,v=new ua;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),Q_(this,v),this.m=c.m}else c&&(g=String(c).match(X_))?(this.h=!1,fu(this,g[1]||"",!0),this.o=aa(g[2]||""),this.g=aa(g[3]||"",!0),hu(this,g[4]),this.l=aa(g[5]||"",!0),Q_(this,g[6]||"",!0),this.m=aa(g[7]||"")):(this.h=!1,this.i=new ua(null,this.h))}ji.prototype.toString=function(){var c=[],g=this.j;g&&c.push(la(g,Y_,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(la(g,Y_,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(la(v,v.charAt(0)=="/"?Xb:Kb,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",la(v,Yb)),c.join("")};function hr(c){return new ji(c)}function fu(c,g,v){c.j=v?aa(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function hu(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Q_(c,g,v){g instanceof ua?(c.i=g,Jb(c.i,c.h)):(v||(g=la(g,Qb)),c.i=new ua(g,c.h))}function Me(c,g,v){c.i.set(g,v)}function pu(c){return Me(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function aa(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function la(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,Wb),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Wb(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Y_=/[#\/\?@]/g,Kb=/[#\?:]/g,Xb=/[#\?]/g,Qb=/[#\?@]/g,Yb=/#/g;function ua(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Hr(c){c.g||(c.g=new Map,c.h=0,c.i&&qb(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}e=ua.prototype,e.add=function(c,g){Hr(this),this.i=null,c=ko(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function J_(c,g){Hr(c),g=ko(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Z_(c,g){return Hr(c),g=ko(c,g),c.g.has(g)}e.forEach=function(c,g){Hr(this),this.g.forEach(function(v,R){v.forEach(function(V){c.call(g,V,R,this)},this)},this)},e.na=function(){Hr(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let R=0;R<g.length;R++){const V=c[R];for(let $=0;$<V.length;$++)v.push(g[R])}return v},e.V=function(c){Hr(this);let g=[];if(typeof c=="string")Z_(this,c)&&(g=g.concat(this.g.get(ko(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)g=g.concat(c[v])}return g},e.set=function(c,g){return Hr(this),this.i=null,c=ko(this,c),Z_(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},e.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function ev(c,g,v){J_(c,g),0<v.length&&(c.i=null,c.g.set(ko(c,g),_(v)),c.h+=v.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var R=g[v];const $=encodeURIComponent(String(R)),K=this.V(R);for(R=0;R<K.length;R++){var V=$;K[R]!==""&&(V+="="+encodeURIComponent(String(K[R]))),c.push(V)}}return this.i=c.join("&")};function ko(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Jb(c,g){g&&!c.j&&(Hr(c),c.i=null,c.g.forEach(function(v,R){var V=R.toLowerCase();R!=V&&(J_(this,R),ev(this,V,v))},c)),c.j=g}function Zb(c,g){const v=new oa;if(a.Image){const R=new Image;R.onload=h(Gr,v,"TestLoadImage: loaded",!0,g,R),R.onerror=h(Gr,v,"TestLoadImage: error",!1,g,R),R.onabort=h(Gr,v,"TestLoadImage: abort",!1,g,R),R.ontimeout=h(Gr,v,"TestLoadImage: timeout",!1,g,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else g(!1)}function eA(c,g){const v=new oa,R=new AbortController,V=setTimeout(()=>{R.abort(),Gr(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:R.signal}).then($=>{clearTimeout(V),$.ok?Gr(v,"TestPingServer: ok",!0,g):Gr(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(V),Gr(v,"TestPingServer: error",!1,g)})}function Gr(c,g,v,R,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),R(v)}catch{}}function tA(){this.g=new jr}function nA(c,g,v){const R=v||"";try{K_(c,function(V,$){let K=V;u(V)&&(K=fr(V)),g.push(R+$+"="+encodeURIComponent(K))})}catch(V){throw g.push(R+"type="+encodeURIComponent("_badmap")),V}}function mu(c){this.l=c.Ub||null,this.j=c.eb||!1}m(mu,nn),mu.prototype.g=function(){return new gu(this.l,this.j)},mu.prototype.i=function(c){return function(){return c}}({});function gu(c,g){U.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(gu,U),e=gu.prototype,e.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,da(this)},e.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ca(this)),this.readyState=0},e.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,da(this)),this.g&&(this.readyState=3,da(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tv(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function tv(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}e.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?ca(this):da(this),this.readyState==3&&tv(this)}},e.Ra=function(c){this.g&&(this.response=this.responseText=c,ca(this))},e.Qa=function(c){this.g&&(this.response=c,ca(this))},e.ga=function(){this.g&&ca(this)};function ca(c){c.readyState=4,c.l=null,c.j=null,c.v=null,da(c)}e.setRequestHeader=function(c,g){this.u.append(c,g)},e.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function da(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(gu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function nv(c){let g="";return P(c,function(v,R){g+=R,g+=":",g+=v,g+=`\r
`}),g}function jf(c,g,v){e:{for(R in v){var R=!1;break e}R=!0}R||(v=nv(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Me(c,g,v))}function Ke(c){U.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(Ke,U);var rA=/^https?$/i,iA=["POST","PUT"];e=Ke.prototype,e.Ha=function(c){this.J=c},e.ea=function(c,g,v,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Lf.g(),this.v=this.o?P_(this.o):P_(Lf),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch($){rv(this,$);return}if(c=v||"",v=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var V in R)v.set(V,R[V]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const $ of R.keys())v.set($,R.get($));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),V=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(iA,g,void 0))||R||V||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,K]of v)this.g.setRequestHeader($,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sv(this),this.u=!0,this.g.send(c),this.u=!1}catch($){rv(this,$)}};function rv(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,iv(c),yu(c)}function iv(c){c.A||(c.A=!0,H(c,"complete"),H(c,"error"))}e.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,H(this,"complete"),H(this,"abort"),yu(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yu(this,!0)),Ke.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?ov(this):this.bb())},e.bb=function(){ov(this)};function ov(c){if(c.h&&typeof s<"u"&&(!c.v[1]||pr(c)!=4||c.Z()!=2)){if(c.u&&pr(c)==4)pe(c.Ea,0,c);else if(H(c,"readystatechange"),pr(c)==4){c.h=!1;try{const K=c.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var R;if(R=K===0){var V=String(c.D).match(X_)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),R=!rA.test(V?V.toLowerCase():"")}v=R}if(v)H(c,"complete"),H(c,"success");else{c.m=6;try{var $=2<pr(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",iv(c)}}finally{yu(c)}}}}function yu(c,g){if(c.g){sv(c);const v=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||H(c,"ready");try{v.onreadystatechange=R}catch{}}}function sv(c){c.I&&(a.clearTimeout(c.I),c.I=null)}e.isActive=function(){return!!this.g};function pr(c){return c.g?c.g.readyState:0}e.Z=function(){try{return 2<pr(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Ft(g)}};function av(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function oA(c){const g={};c=(c.g&&2<=pr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(E(c[R]))continue;var v=A(c[R]);const V=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=g[V]||[];g[V]=$,$.push(v)}b(g,function(R){return R.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fa(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function lv(c){this.Aa=0,this.i=[],this.j=new oa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fa("baseRetryDelayMs",5e3,c),this.cb=fa("retryDelaySeedMs",1e4,c),this.Wa=fa("forwardChannelMaxRetries",2,c),this.wa=fa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new B_(c&&c.concurrentRequestLimit),this.Da=new tA,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=lv.prototype,e.la=8,e.G=1,e.connect=function(c,g,v,R){Vt(0),this.W=c,this.H=g||{},v&&R!==void 0&&(this.H.OSID=v,this.H.OAID=R),this.F=this.X,this.I=yv(this,null,this.W),vu(this)};function Bf(c){if(uv(c),c.G==3){var g=c.U++,v=hr(c.I);if(Me(v,"SID",c.K),Me(v,"RID",g),Me(v,"TYPE","terminate"),ha(c,v),g=new Br(c,c.j,g),g.L=2,g.v=pu(hr(v)),v=!1,a.navigator&&a.navigator.sendBeacon)try{v=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&a.Image&&(new Image().src=g.v,v=!0),v||(g.g=_v(g.j,null),g.g.ea(g.v)),g.F=Date.now(),du(g)}gv(c)}function _u(c){c.g&&(Gf(c),c.g.cancel(),c.g=null)}function uv(c){_u(c),c.u&&(a.clearTimeout(c.u),c.u=null),Eu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function vu(c){if(!H_(c.h)&&!c.s){c.s=!0;var g=c.Ga;ne||N(),z||(ne(),z=!0),W.add(g,c),c.B=0}}function sA(c,g){return G_(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ia(p(c.Ga,c,g),mv(c,c.B)),c.B++,!0)}e.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const V=new Br(this,this.j,c);let $=this.o;if(this.S&&($?($=x($),I($,this.S)):$=this.S),this.m!==null||this.O||(V.H=$,$=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var R=this.i[v];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(g+=R,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=dv(this,V,g),v=hr(this.I),Me(v,"RID",c),Me(v,"CVER",22),this.D&&Me(v,"X-HTTP-Session-Id",this.D),ha(this,v),$&&(this.O?g="headers="+encodeURIComponent(String(nv($)))+"&"+g:this.m&&jf(v,this.m,$)),zf(this.h,V),this.Ua&&Me(v,"TYPE","init"),this.P?(Me(v,"$req",g),Me(v,"SID","null"),V.T=!0,Ff(V,v,null)):Ff(V,v,g),this.G=2}}else this.G==3&&(c?cv(this,c):this.i.length==0||H_(this.h)||cv(this))};function cv(c,g){var v;g?v=g.l:v=c.U++;const R=hr(c.I);Me(R,"SID",c.K),Me(R,"RID",v),Me(R,"AID",c.T),ha(c,R),c.m&&c.o&&jf(R,c.m,c.o),v=new Br(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),g&&(c.i=g.D.concat(c.i)),g=dv(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),zf(c.h,v),Ff(v,R,g)}function ha(c,g){c.H&&P(c.H,function(v,R){Me(g,R,v)}),c.l&&K_({},function(v,R){Me(g,R,v)})}function dv(c,g,v){v=Math.min(c.i.length,v);var R=c.l?p(c.l.Na,c.l,c):null;e:{var V=c.i;let $=-1;for(;;){const K=["count="+v];$==-1?0<v?($=V[0].g,K.push("ofs="+$)):$=0:K.push("ofs="+$);let Pe=!0;for(let pt=0;pt<v;pt++){let Te=V[pt].g;const It=V[pt].map;if(Te-=$,0>Te)$=Math.max(0,V[pt].g-100),Pe=!1;else try{nA(It,K,"req"+Te+"_")}catch{R&&R(It)}}if(Pe){R=K.join("&");break e}}}return c=c.i.splice(0,v),g.D=c,R}function fv(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;ne||N(),z||(ne(),z=!0),W.add(g,c),c.v=0}}function Hf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ia(p(c.Fa,c),mv(c,c.v)),c.v++,!0)}e.Fa=function(){if(this.u=null,hv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ia(p(this.ab,this),c)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vt(10),_u(this),hv(this))};function Gf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function hv(c){c.g=new Br(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=hr(c.qa);Me(g,"RID","rpc"),Me(g,"SID",c.K),Me(g,"AID",c.T),Me(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Me(g,"TO",c.ja),Me(g,"TYPE","xmlhttp"),ha(c,g),c.m&&c.o&&jf(g,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=pu(hr(g)),v.m=null,v.P=!0,U_(v,c)}e.Za=function(){this.C!=null&&(this.C=null,_u(this),Hf(this),Vt(19))};function Eu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function pv(c,g){var v=null;if(c.g==g){Eu(c),Gf(c),c.g=null;var R=2}else if(Uf(c.h,g))v=g.D,q_(c.h,g),R=1;else return;if(c.G!=0){if(g.o)if(R==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var V=c.B;R=lu(),H(R,new M_(R,v)),vu(c)}else fv(c);else if(V=g.s,V==3||V==0&&0<g.X||!(R==1&&sA(c,g)||R==2&&Hf(c)))switch(v&&0<v.length&&(g=c.h,g.i=g.i.concat(v)),V){case 1:Bi(c,5);break;case 4:Bi(c,10);break;case 3:Bi(c,6);break;default:Bi(c,2)}}}function mv(c,g){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*g}function Bi(c,g){if(c.j.info("Error code "+g),g==2){var v=p(c.fb,c),R=c.Xa;const V=!R;R=new ji(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||fu(R,"https"),pu(R),V?Zb(R.toString(),v):eA(R.toString(),v)}else Vt(2);c.G=0,c.l&&c.l.sa(g),gv(c),uv(c)}e.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function gv(c){if(c.G=0,c.ka=[],c.l){const g=W_(c.h);(g.length!=0||c.i.length!=0)&&(T(c.ka,g),T(c.ka,c.i),c.h.i.length=0,_(c.i),c.i.length=0),c.l.ra()}}function yv(c,g,v){var R=v instanceof ji?hr(v):new ji(v);if(R.g!="")g&&(R.g=g+"."+R.g),hu(R,R.s);else{var V=a.location;R=V.protocol,g=g?g+"."+V.hostname:V.hostname,V=+V.port;var $=new ji(null);R&&fu($,R),g&&($.g=g),V&&hu($,V),v&&($.l=v),R=$}return v=c.D,g=c.ya,v&&g&&Me(R,v,g),Me(R,"VER",c.la),ha(c,R),R}function _v(c,g,v){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Ke(new mu({eb:v})):new Ke(c.pa),g.Ha(c.J),g}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function vv(){}e=vv.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function wu(){}wu.prototype.g=function(c,g){return new rn(c,g)};function rn(c,g){U.call(this),this.g=new lv(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!E(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!E(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Po(this)}m(rn,U),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Bf(this.g)},rn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=fr(c),c=v);g.i.push(new Bb(g.Ya++,c)),g.G==3&&vu(g)},rn.prototype.N=function(){this.g.l=null,delete this.j,Bf(this.g),delete this.g,rn.aa.N.call(this)};function Ev(c){Nf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}m(Ev,Nf);function wv(){Of.call(this),this.status=1}m(wv,Of);function Po(c){this.g=c}m(Po,vv),Po.prototype.ua=function(){H(this.g,"a")},Po.prototype.ta=function(c){H(this.g,new Ev(c))},Po.prototype.sa=function(c){H(this.g,new wv)},Po.prototype.ra=function(){H(this.g,"b")},wu.prototype.createWebChannel=wu.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,ST=function(){return new wu},wT=function(){return lu()},ET=Ui,fm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},uu.NO_ERROR=0,uu.TIMEOUT=8,uu.HTTP_ERROR=6,yc=uu,F_.COMPLETE="complete",vT=F_,D_.EventType=na,na.OPEN="a",na.CLOSE="b",na.ERROR="c",na.MESSAGE="d",U.prototype.listen=U.prototype.K,Na=D_,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,_T=Ke}).apply(typeof zu<"u"?zu:typeof self<"u"?self:typeof window<"u"?window:{});const Y0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}At.UNAUTHENTICATED=new At(null),At.GOOGLE_CREDENTIALS=new At("google-credentials-uid"),At.FIRST_PARTY=new At("first-party-uid"),At.MOCK_USER=new At("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fs="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=new iy("@firebase/firestore");function Lo(){return po.logLevel}function X(e,...t){if(po.logLevel<=_e.DEBUG){const n=t.map(ay);po.debug(`Firestore (${Fs}): ${e}`,...n)}}function Nr(e,...t){if(po.logLevel<=_e.ERROR){const n=t.map(ay);po.error(`Firestore (${Fs}): ${e}`,...n)}}function Es(e,...t){if(po.logLevel<=_e.WARN){const n=t.map(ay);po.warn(`Firestore (${Fs}): ${e}`,...n)}}function ay(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(e="Unexpected state"){const t=`FIRESTORE (${Fs}) INTERNAL ASSERTION FAILED: `+e;throw Nr(t),new Error(t)}function Ae(e,t){e||le()}function fe(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends Fr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class KO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(At.UNAUTHENTICATED))}shutdown(){}}class XO{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class QO{constructor(t){this.t=t,this.currentUser=At.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ae(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new vi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new vi,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new vi)}},0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string"),new IT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ae(t===null||typeof t=="string"),new At(t)}}class YO{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=At.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class JO{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new YO(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(At.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ZO{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eL{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){Ae(this.o===void 0);const r=o=>{o.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,X("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>r(o))};const i=o=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ae(typeof n.token=="string"),this.R=n.token,new ZO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=tL(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%t.length))}return r}}function Ee(e,t){return e<t?-1:e>t?1:0}function ws(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(t){return ot.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new ot(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new J(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new J(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new J(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ee(this.nanoseconds,t.nanoseconds):Ee(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{static fromTimestamp(t){return new ce(t)}static min(){return new ce(new ot(0,0))}static max(){return new ce(new ot(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t,n,r){n===void 0?n=0:n>t.length&&le(),r===void 0?r=t.length-n:r>t.length-n&&le(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Yn.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Yn?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const o=Yn.compareSegments(t.get(i),n.get(i));if(o!==0)return o}return Math.sign(t.length-n.length)}static compareSegments(t,n){const r=Yn.isNumericId(t),i=Yn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Yn.extractNumericId(t).compare(Yn.extractNumericId(n)):t<n?-1:t>n?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return _i.fromString(t.substring(4,t.length-2))}}class Ve extends Yn{construct(t,n,r){return new Ve(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new J(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ve(n)}static emptyPath(){return new Ve([])}}const nL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _t extends Yn{construct(t,n,r){return new _t(t,n,r)}static isValidIdentifier(t){return nL.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_t.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new _t(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new J(B.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new J(B.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new J(B.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new _t(n)}static emptyPath(){return new _t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(t){this.path=t}static fromPath(t){return new ee(Ve.fromString(t))}static fromName(t){return new ee(Ve.fromString(t).popFirst(5))}static empty(){return new ee(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ve.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ve.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ee(new Ve(t.slice()))}}function rL(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new xi(i,ee.empty(),t)}function iL(e){return new xi(e.readTime,e.key,-1)}class xi{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new xi(ce.min(),ee.empty(),-1)}static max(){return new xi(ce.max(),ee.empty(),-1)}}function oL(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=ee.comparator(e.documentKey,t.documentKey),n!==0?n:Ee(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vs(e){if(e.code!==B.FAILED_PRECONDITION||e.message!==sL)throw e;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new j((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):j.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):j.reject(n)}static resolve(t){return new j((n,r)=>{n(t)})}static reject(t){return new j((n,r)=>{r(t)})}static waitFor(t){return new j((n,r)=>{let i=0,o=0,s=!1;t.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(t){let n=j.resolve(!1);for(const r of t)n=n.next(i=>i?j.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(t,n){return new j((r,i)=>{const o=t.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(t[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(t,n){return new j((r,i)=>{const o=()=>{t()===!0?n().next(()=>{o()},i):r()};o()})}}function lL(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $s(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}Xd.oe=-1;function Qd(e){return e==null}function id(e){return e===0&&1/e==-1/0}function uL(e){return typeof e=="number"&&Number.isInteger(e)&&!id(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=J0(t)),t=dL(e.get(n),t);return J0(t)}function dL(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const o=e.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function J0(e){return e+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Fi(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function xT(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t,n){this.comparator=t,this.root=n||yt.EMPTY}insert(t,n){return new We(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,yt.BLACK,null,null))}remove(t){return new We(this.comparator,this.root.remove(t,this.comparator).copy(null,null,yt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ju(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ju(this.root,t,this.comparator,!1)}getReverseIterator(){return new ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ju(this.root,t,this.comparator,!0)}}class ju{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?r(t.key,n):1,n&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class yt{constructor(t,n,r,i,o){this.key=t,this.value=n,this.color=r??yt.RED,this.left=i??yt.EMPTY,this.right=o??yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,o){return new yt(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const o=r(t,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return yt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return yt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();const t=this.left.check();if(t!==this.right.check())throw le();return t+(this.isRed()?0:1)}}yt.EMPTY=null,yt.RED=!0,yt.BLACK=!1;yt.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(t,n,r,i,o){return this}insert(t,n,r){return new yt(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(t){this.comparator=t,this.data=new We(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new e1(this.data.getIterator())}getIteratorFrom(t){return new e1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof st)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new st(this.comparator);return n.data=t,n}}class e1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t){this.fields=t,t.sort(_t.comparator)}static empty(){return new Mn([])}unionWith(t){let n=new st(_t.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Mn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ws(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new CT("Invalid base64 string: "+o):o}}(t);return new wt(n)}static fromUint8Array(t){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(t);return new wt(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ee(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}wt.EMPTY_BYTE_STRING=new wt("");const fL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ci(e){if(Ae(!!e),typeof e=="string"){let t=0;const n=fL.exec(e);if(Ae(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Qe(e.seconds),nanos:Qe(e.nanos)}}function Qe(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ri(e){return typeof e=="string"?wt.fromBase64String(e):wt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Yd(e){const t=e.mapValue.fields.__previous_value__;return ly(t)?Yd(t):t}function El(e){const t=Ci(e.mapValue.fields.__local_write_time__.timestampValue);return new ot(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(t,n,r,i,o,s,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class wl{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new wl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof wl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function bi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ly(e)?4:mL(e)?9007199254740991:pL(e)?10:11:le()}function sr(e,t){if(e===t)return!0;const n=bi(e);if(n!==bi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return El(e).isEqual(El(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Ci(i.timestampValue),a=Ci(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return Ri(i.bytesValue).isEqual(Ri(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return Qe(i.geoPointValue.latitude)===Qe(o.geoPointValue.latitude)&&Qe(i.geoPointValue.longitude)===Qe(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Qe(i.integerValue)===Qe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Qe(i.doubleValue),a=Qe(o.doubleValue);return s===a?id(s)===id(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return ws(e.arrayValue.values||[],t.arrayValue.values||[],sr);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Z0(s)!==Z0(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!sr(s[l],a[l])))return!1;return!0}(e,t);default:return le()}}function Sl(e,t){return(e.values||[]).find(n=>sr(n,t))!==void 0}function Ss(e,t){if(e===t)return 0;const n=bi(e),r=bi(t);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(e.booleanValue,t.booleanValue);case 2:return function(o,s){const a=Qe(o.integerValue||o.doubleValue),l=Qe(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return t1(e.timestampValue,t.timestampValue);case 4:return t1(El(e),El(t));case 5:return Ee(e.stringValue,t.stringValue);case 6:return function(o,s){const a=Ri(o),l=Ri(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=Ee(a[u],l[u]);if(d!==0)return d}return Ee(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){const a=Ee(Qe(o.latitude),Qe(s.latitude));return a!==0?a:Ee(Qe(o.longitude),Qe(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return n1(e.arrayValue,t.arrayValue);case 10:return function(o,s){var a,l,u,d;const f=o.fields||{},p=s.fields||{},h=(a=f.value)===null||a===void 0?void 0:a.arrayValue,m=(l=p.value)===null||l===void 0?void 0:l.arrayValue,_=Ee(((u=h==null?void 0:h.values)===null||u===void 0?void 0:u.length)||0,((d=m==null?void 0:m.values)===null||d===void 0?void 0:d.length)||0);return _!==0?_:n1(h,m)}(e.mapValue,t.mapValue);case 11:return function(o,s){if(o===Bu.mapValue&&s===Bu.mapValue)return 0;if(o===Bu.mapValue)return 1;if(s===Bu.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const p=Ee(l[f],d[f]);if(p!==0)return p;const h=Ss(a[l[f]],u[d[f]]);if(h!==0)return h}return Ee(l.length,d.length)}(e.mapValue,t.mapValue);default:throw le()}}function t1(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ee(e,t);const n=Ci(e),r=Ci(t),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function n1(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Ss(n[i],r[i]);if(o)return o}return Ee(n.length,r.length)}function Is(e){return hm(e)}function hm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Ci(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Ri(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return ee.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=hm(o);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${hm(n.fields[s])}`;return i+"}"}(e.mapValue):le()}function _c(e){switch(bi(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Yd(e);return t?16+_c(t):16;case 5:return 2*e.stringValue.length;case 6:return Ri(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+_c(o),0)}(e.arrayValue);case 10:case 11:return function(r){let i=0;return Fi(r.fields,(o,s)=>{i+=o.length+_c(s)}),i}(e.mapValue);default:throw le()}}function r1(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function pm(e){return!!e&&"integerValue"in e}function uy(e){return!!e&&"arrayValue"in e}function i1(e){return!!e&&"nullValue"in e}function o1(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function vc(e){return!!e&&"mapValue"in e}function pL(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ga(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Fi(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Ga(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ga(e.arrayValue.values[n]);return t}return Object.assign({},e)}function mL(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.value=t}static empty(){return new an({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!vc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ga(n)}setAll(t){let n=_t.emptyPath(),r={},i=[];t.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ga(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(t){const n=this.field(t.popLast());vc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return sr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];vc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Fi(n,(i,o)=>t[i]=o);for(const i of r)delete t[i]}clone(){return new an(Ga(this.value))}}function RT(e){const t=[];return Fi(e.fields,(n,r)=>{const i=new _t([n]);if(vc(r)){const o=RT(r.mapValue).fields;if(o.length===0)t.push(i);else for(const s of o)t.push(i.child(s))}else t.push(i)}),new Mn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(t,n,r,i,o,s,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new Pt(t,0,ce.min(),ce.min(),ce.min(),an.empty(),0)}static newFoundDocument(t,n,r,i){return new Pt(t,1,n,ce.min(),r,i,0)}static newNoDocument(t,n){return new Pt(t,2,n,ce.min(),ce.min(),an.empty(),0)}static newUnknownDocument(t,n){return new Pt(t,3,n,ce.min(),ce.min(),an.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Pt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(t,n){this.position=t,this.inclusive=n}}function s1(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(o.field.isKeyField()?r=ee.comparator(ee.fromName(s.referenceValue),n.key):r=Ss(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function a1(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!sr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(t,n="asc"){this.field=t,this.dir=n}}function gL(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{}class tt extends bT{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new _L(t,n,r):n==="array-contains"?new wL(t,r):n==="in"?new SL(t,r):n==="not-in"?new IL(t,r):n==="array-contains-any"?new TL(t,r):new tt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new vL(t,r):new EL(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ss(n,this.value)):n!==null&&bi(this.value)===bi(n)&&this.matchesComparison(Ss(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bn extends bT{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new Bn(t,n)}matches(t){return AT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function AT(e){return e.op==="and"}function kT(e){return yL(e)&&AT(e)}function yL(e){for(const t of e.filters)if(t instanceof Bn)return!1;return!0}function mm(e){if(e instanceof tt)return e.field.canonicalString()+e.op.toString()+Is(e.value);if(kT(e))return e.filters.map(t=>mm(t)).join(",");{const t=e.filters.map(n=>mm(n)).join(",");return`${e.op}(${t})`}}function PT(e,t){return e instanceof tt?function(r,i){return i instanceof tt&&r.op===i.op&&r.field.isEqual(i.field)&&sr(r.value,i.value)}(e,t):e instanceof Bn?function(r,i){return i instanceof Bn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&PT(s,i.filters[a]),!0):!1}(e,t):void le()}function DT(e){return e instanceof tt?function(n){return`${n.field.canonicalString()} ${n.op} ${Is(n.value)}`}(e):e instanceof Bn?function(n){return n.op.toString()+" {"+n.getFilters().map(DT).join(" ,")+"}"}(e):"Filter"}class _L extends tt{constructor(t,n,r){super(t,n,r),this.key=ee.fromName(r.referenceValue)}matches(t){const n=ee.comparator(t.key,this.key);return this.matchesComparison(n)}}class vL extends tt{constructor(t,n){super(t,"in",n),this.keys=NT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class EL extends tt{constructor(t,n){super(t,"not-in",n),this.keys=NT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function NT(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class wL extends tt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return uy(n)&&Sl(n.arrayValue,this.value)}}class SL extends tt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Sl(this.value.arrayValue,n)}}class IL extends tt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Sl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Sl(this.value.arrayValue,n)}}class TL extends tt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!uy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Sl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(t,n=null,r=[],i=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function l1(e,t=null,n=[],r=[],i=null,o=null,s=null){return new xL(e,t,n,r,i,o,s)}function cy(e){const t=fe(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>mm(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Qd(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Is(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Is(r)).join(",")),t.ue=n}return t.ue}function dy(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!gL(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!PT(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!a1(e.startAt,t.startAt)&&a1(e.endAt,t.endAt)}function gm(e){return ee.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(t,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function CL(e,t,n,r,i,o,s,a){return new jl(e,t,n,r,i,o,s,a)}function OT(e){return new jl(e)}function u1(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function LT(e){return e.collectionGroup!==null}function qa(e){const t=fe(e);if(t.ce===null){t.ce=[];const n=new Set;for(const o of t.explicitOrderBy)t.ce.push(o),n.add(o.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new st(_t.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||t.ce.push(new sd(o,r))}),n.has(_t.keyField().canonicalString())||t.ce.push(new sd(_t.keyField(),r))}return t.ce}function tr(e){const t=fe(e);return t.le||(t.le=RL(t,qa(e))),t.le}function RL(e,t){if(e.limitType==="F")return l1(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new sd(i.field,o)});const n=e.endAt?new od(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new od(e.startAt.position,e.startAt.inclusive):null;return l1(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function ym(e,t){const n=e.filters.concat([t]);return new jl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function _m(e,t,n){return new jl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Jd(e,t){return dy(tr(e),tr(t))&&e.limitType===t.limitType}function MT(e){return`${cy(tr(e))}|lt:${e.limitType}`}function Mo(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>DT(i)).join(", ")}]`),Qd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Is(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Is(i)).join(",")),`Target(${r})`}(tr(e))}; limitType=${e.limitType})`}function Zd(e,t){return t.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ee.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(e,t)&&function(r,i){for(const o of qa(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=s1(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,qa(r),i)||r.endAt&&!function(s,a,l){const u=s1(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,qa(r),i))}(e,t)}function bL(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function FT(e){return(t,n)=>{let r=!1;for(const i of qa(e)){const o=AL(i,t,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function AL(e,t,n){const r=e.field.isKeyField()?ee.comparator(t.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Ss(l,u):le()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Fi(this.inner,(n,r)=>{for(const[i,o]of r)t(i,o)})}isEmpty(){return xT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL=new We(ee.comparator);function Or(){return kL}const VT=new We(ee.comparator);function Oa(...e){let t=VT;for(const n of e)t=t.insert(n.key,n);return t}function $T(e){let t=VT;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function to(){return Wa()}function UT(){return Wa()}function Wa(){return new Io(e=>e.toString(),(e,t)=>e.isEqual(t))}const PL=new We(ee.comparator),DL=new st(ee.comparator);function ve(...e){let t=DL;for(const n of e)t=t.add(n);return t}const NL=new st(Ee);function OL(){return NL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:id(t)?"-0":t}}function zT(e){return{integerValue:""+e}}function LL(e,t){return uL(t)?zT(t):fy(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(){this._=void 0}}function ML(e,t,n){return e instanceof ad?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ly(o)&&(o=Yd(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof Il?BT(e,t):e instanceof Tl?HT(e,t):function(i,o){const s=jT(i,o),a=c1(s)+c1(i.Pe);return pm(s)&&pm(i.Pe)?zT(a):fy(i.serializer,a)}(e,t)}function FL(e,t,n){return e instanceof Il?BT(e,t):e instanceof Tl?HT(e,t):n}function jT(e,t){return e instanceof ld?function(r){return pm(r)||function(o){return!!o&&"doubleValue"in o}(r)}(t)?t:{integerValue:0}:null}class ad extends ef{}class Il extends ef{constructor(t){super(),this.elements=t}}function BT(e,t){const n=GT(t);for(const r of e.elements)n.some(i=>sr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Tl extends ef{constructor(t){super(),this.elements=t}}function HT(e,t){let n=GT(t);for(const r of e.elements)n=n.filter(i=>!sr(i,r));return{arrayValue:{values:n}}}class ld extends ef{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function c1(e){return Qe(e.integerValue||e.doubleValue)}function GT(e){return uy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function VL(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof Il&&i instanceof Il||r instanceof Tl&&i instanceof Tl?ws(r.elements,i.elements,sr):r instanceof ld&&i instanceof ld?sr(r.Pe,i.Pe):r instanceof ad&&i instanceof ad}(e.transform,t.transform)}class $L{constructor(t,n){this.version=t,this.transformResults=n}}class Cr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Cr}static exists(t){return new Cr(void 0,t)}static updateTime(t){return new Cr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ec(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class tf{}function qT(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new KT(e.key,Cr.none()):new nf(e.key,e.data,Cr.none());{const n=e.data,r=an.empty();let i=new st(_t.comparator);for(let o of t.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new To(e.key,r,new Mn(i.toArray()),Cr.none())}}function UL(e,t,n){e instanceof nf?function(i,o,s){const a=i.value.clone(),l=f1(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof To?function(i,o,s){if(!Ec(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=f1(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(WT(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Ka(e,t,n,r){return e instanceof nf?function(o,s,a,l){if(!Ec(o.precondition,s))return a;const u=o.value.clone(),d=h1(o.fieldTransforms,l,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof To?function(o,s,a,l){if(!Ec(o.precondition,s))return a;const u=h1(o.fieldTransforms,l,s),d=s.data;return d.setAll(WT(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(e,t,n,r):function(o,s,a){return Ec(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(e,t,n)}function zL(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),o=jT(r.transform,i||null);o!=null&&(n===null&&(n=an.empty()),n.set(r.field,o))}return n||null}function d1(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ws(r,i,(o,s)=>VL(o,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class nf extends tf{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class To extends tf{constructor(t,n,r,i,o=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function WT(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function f1(e,t,n){const r=new Map;Ae(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,FL(s,a,n[i]))}return r}function h1(e,t,n){const r=new Map;for(const i of e){const o=i.transform,s=n.data.field(i.field);r.set(i.field,ML(o,s,t))}return r}class KT extends tf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jL extends tf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(t.key)&&UL(o,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Ka(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Ka(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=UT();return this.mutations.forEach(i=>{const o=t.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=qT(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ve())}isEqual(t){return this.batchId===t.batchId&&ws(this.mutations,t.mutations,(n,r)=>d1(n,r))&&ws(this.baseMutations,t.baseMutations,(n,r)=>d1(n,r))}}class hy{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){Ae(t.mutations.length===r.length);let i=function(){return PL}();const o=t.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new hy(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je,we;function qL(e){switch(e){default:return le();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function XT(e){if(e===void 0)return Nr("GRPC error has no .code"),B.UNKNOWN;switch(e){case Je.OK:return B.OK;case Je.CANCELLED:return B.CANCELLED;case Je.UNKNOWN:return B.UNKNOWN;case Je.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Je.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Je.INTERNAL:return B.INTERNAL;case Je.UNAVAILABLE:return B.UNAVAILABLE;case Je.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Je.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Je.NOT_FOUND:return B.NOT_FOUND;case Je.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Je.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Je.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Je.ABORTED:return B.ABORTED;case Je.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Je.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Je.DATA_LOSS:return B.DATA_LOSS;default:return le()}}(we=Je||(Je={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL=new _i([4294967295,4294967295],0);function p1(e){const t=WL().encode(e),n=new yT;return n.update(t),new Uint8Array(n.digest())}function m1(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new _i([n,r],0),new _i([i,o],0)]}class py{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new La(`Invalid padding: ${n}`);if(r<0)throw new La(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new La(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new La(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ie=_i.fromNumber(this.Te)}de(t,n,r){let i=t.add(n.multiply(_i.fromNumber(r)));return i.compare(KL)===1&&(i=new _i([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}Ee(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=p1(t),[r,i]=m1(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ee(s))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new py(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(t){if(this.Te===0)return;const n=p1(t),[r,i]=m1(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Ae(s)}}Ae(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class La extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Bl.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new rf(ce.min(),i,new We(Ee),Or(),ve())}}class Bl{constructor(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Bl(r,n,ve(),ve(),ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(t,n,r,i){this.Re=t,this.removedTargetIds=n,this.key=r,this.Ve=i}}class QT{constructor(t,n){this.targetId=t,this.me=n}}class YT{constructor(t,n,r=wt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class g1{constructor(){this.fe=0,this.ge=y1(),this.pe=wt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=ve(),n=ve(),r=ve();return this.ge.forEach((i,o)=>{switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:le()}}),new Bl(this.pe,this.ye,t,n,r)}Ce(){this.we=!1,this.ge=y1()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Ae(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class XL{constructor(t){this.Be=t,this.Le=new Map,this.ke=Or(),this.qe=Hu(),this.Qe=Hu(),this.Ke=new We(Ee)}$e(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.Ue(n,t.Ve):this.We(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.We(n,t.key,t.Ve)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.De(t.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(t.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(t.resumeToken));break;default:le()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Le.forEach((r,i)=>{this.je(i)&&n(i)})}Je(t){const n=t.targetId,r=t.me.count,i=this.Ye(n);if(i){const o=i.target;if(gm(o))if(r===0){const s=new ee(o.path);this.We(n,s,Pt.newNoDocument(s,ce.min()))}else Ae(r===1);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(t),l=a?this.et(a,t,s):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Ri(r).toUint8Array()}catch(l){if(l instanceof CT)return Es("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new py(s,i,o)}catch(l){return Es(l instanceof La?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(t,n,r){return n.me.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Be.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Be.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(a)||(this.We(n,o,null),i++)}),i}it(t){const n=new Map;this.Le.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&gm(a.target)){const l=new ee(a.target.path);this.st(l).has(s)||this.ot(s,l)||this.We(s,l,Pt.newNoDocument(l,t))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=ve();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(t));const i=new rf(t,n,this.Ke,this.ke,r);return this.ke=Or(),this.qe=Hu(),this.Qe=Hu(),this.Ke=new We(Ee),i}Ue(t,n){if(!this.je(t))return;const r=this.ot(t,n.key)?2:0;this.ze(t).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const i=this.ze(t);this.ot(t,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(t)),this.Qe=this.Qe.insert(n,this._t(n).add(t)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(t){this.Le.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Be.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.ze(t).xe()}ze(t){let n=this.Le.get(t);return n||(n=new g1,this.Le.set(t,n)),n}_t(t){let n=this.Qe.get(t);return n||(n=new st(Ee),this.Qe=this.Qe.insert(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new st(Ee),this.qe=this.qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||X("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.Le.get(t);return n&&n.Se?null:this.Be.ut(t)}He(t){this.Le.set(t,new g1),this.Be.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}ot(t,n){return this.Be.getRemoteKeysForTarget(t).has(n)}}function Hu(){return new We(ee.comparator)}function y1(){return new We(ee.comparator)}const QL={asc:"ASCENDING",desc:"DESCENDING"},YL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JL={and:"AND",or:"OR"};class ZL{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function vm(e,t){return e.useProto3Json||Qd(t)?t:{value:t}}function ud(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function JT(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function eM(e,t){return ud(e,t.toTimestamp())}function nr(e){return Ae(!!e),ce.fromTimestamp(function(n){const r=Ci(n);return new ot(r.seconds,r.nanos)}(e))}function my(e,t){return Em(e,t).canonicalString()}function Em(e,t){const n=function(i){return new Ve(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function ZT(e){const t=Ve.fromString(e);return Ae(ix(t)),t}function wm(e,t){return my(e.databaseId,t.path)}function Ch(e,t){const n=ZT(t);if(n.get(1)!==e.databaseId.projectId)throw new J(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new J(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ee(tx(n))}function ex(e,t){return my(e.databaseId,t)}function tM(e){const t=ZT(e);return t.length===4?Ve.emptyPath():tx(t)}function Sm(e){return new Ve(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function tx(e){return Ae(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function _1(e,t,n){return{name:wm(e,t),fields:n.value.mapValue.fields}}function nM(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:le()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(Ae(d===void 0||typeof d=="string"),wt.fromBase64String(d||"")):(Ae(d===void 0||d instanceof Buffer||d instanceof Uint8Array),wt.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(u){const d=u.code===void 0?B.UNKNOWN:XT(u.code);return new J(d,u.message||"")}(s);n=new YT(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ch(e,r.document.name),o=nr(r.document.updateTime),s=r.document.createTime?nr(r.document.createTime):ce.min(),a=new an({mapValue:{fields:r.document.fields}}),l=Pt.newFoundDocument(i,o,s,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new wc(u,d,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ch(e,r.document),o=r.readTime?nr(r.readTime):ce.min(),s=Pt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new wc([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ch(e,r.document),o=r.removedTargetIds||[];n=new wc([],o,i,null)}else{if(!("filter"in t))return le();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new GL(i,o),a=r.targetId;n=new QT(a,s)}}return n}function rM(e,t){let n;if(t instanceof nf)n={update:_1(e,t.key,t.value)};else if(t instanceof KT)n={delete:wm(e,t.key)};else if(t instanceof To)n={update:_1(e,t.key,t.data),updateMask:fM(t.fieldMask)};else{if(!(t instanceof jL))return le();n={verify:wm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof ad)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Il)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Tl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ld)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw le()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:eM(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:le()}(e,t.precondition)),n}function iM(e,t){return e&&e.length>0?(Ae(t!==void 0),e.map(n=>function(i,o){let s=i.updateTime?nr(i.updateTime):nr(o);return s.isEqual(ce.min())&&(s=nr(o)),new $L(s,i.transformResults||[])}(n,t))):[]}function oM(e,t){return{documents:[ex(e,t.path)]}}function sM(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ex(e,i);const o=function(u){if(u.length!==0)return rx(Bn.create(u,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:Fo(p.field),direction:uM(p.dir)}}(d))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=vm(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{ct:n,parent:i}}function aM(e){let t=tM(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ae(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:t=t.child(d.collectionId)}let o=[];n.where&&(o=function(f){const p=nx(f);return p instanceof Bn&&kT(p)?p.getFilters():[p]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(p=>function(m){return new sd(Vo(m.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Qd(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,h=f.values||[];return new od(h,p)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const p=!f.before,h=f.values||[];return new od(h,p)}(n.endAt)),CL(t,i,s,o,a,"F",l,u)}function lM(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function nx(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Vo(n.unaryFilter.field);return tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Vo(n.unaryFilter.field);return tt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Vo(n.unaryFilter.field);return tt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Vo(n.unaryFilter.field);return tt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(e):e.fieldFilter!==void 0?function(n){return tt.create(Vo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Bn.create(n.compositeFilter.filters.map(r=>nx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return le()}}(n.compositeFilter.op))}(e):le()}function uM(e){return QL[e]}function cM(e){return YL[e]}function dM(e){return JL[e]}function Fo(e){return{fieldPath:e.canonicalString()}}function Vo(e){return _t.fromServerFormat(e.fieldPath)}function rx(e){return e instanceof tt?function(n){if(n.op==="=="){if(o1(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NAN"}};if(i1(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(o1(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NOT_NAN"}};if(i1(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fo(n.field),op:cM(n.op),value:n.value}}}(e):e instanceof Bn?function(n){const r=n.getFilters().map(i=>rx(i));return r.length===1?r[0]:{compositeFilter:{op:dM(n.op),filters:r}}}(e):le()}function fM(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function ix(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(t,n,r,i,o=ce.min(),s=ce.min(),a=wt.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new oi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(t){this.ht=t}}function pM(e){const t=aM({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?_m(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(){this.ln=new gM}addToCollectionParentIndex(t,n){return this.ln.add(n),j.resolve()}getCollectionParents(t,n){return j.resolve(this.ln.getEntries(n))}addFieldIndex(t,n){return j.resolve()}deleteFieldIndex(t,n){return j.resolve()}deleteAllFieldIndexes(t){return j.resolve()}createTargetIndexes(t,n){return j.resolve()}getDocumentsMatchingTarget(t,n){return j.resolve(null)}getIndexType(t,n){return j.resolve(0)}getFieldIndexes(t,n){return j.resolve([])}getNextCollectionGroupToUpdate(t){return j.resolve(null)}getMinOffset(t,n){return j.resolve(xi.min())}getMinOffsetFromCollectionGroup(t,n){return j.resolve(xi.min())}updateCollectionGroup(t,n,r){return j.resolve()}updateIndexEntries(t,n){return j.resolve()}}class gM{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new st(Ve.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new st(Ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class qt{static withCacheSize(t){return new qt(t,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qt.DEFAULT_COLLECTION_PERCENTILE=10,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qt.DEFAULT=new qt(41943040,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qt.DISABLED=new qt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(t){this.kn=t}next(){return this.kn+=2,this.kn}static qn(){return new Ts(0)}static Qn(){return new Ts(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1([e,t],[n,r]){const i=Ee(e,n);return i===0?Ee(t,r):i}class yM{constructor(t){this.Gn=t,this.buffer=new st(E1),this.zn=0}jn(){return++this.zn}Hn(t){const n=[t,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();E1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _M{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(t){X("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$s(n)?X("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Vs(n)}await this.Yn(3e5)})}}class vM{constructor(t,n){this.Zn=t,this.params=n}calculateTargetCount(t,n){return this.Zn.Xn(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return j.resolve(Xd.oe);const r=new yM(n);return this.Zn.forEachTarget(t,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(t,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.Zn.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Zn.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(v1)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),v1):this.tr(t,n))}getCacheSize(t){return this.Zn.getCacheSize(t)}tr(t,n){let r,i,o,s,a,l,u;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(t,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(t,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(t,r))).next(f=>(u=Date.now(),Lo()<=_e.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function EM(e,t){return new vM(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(){this.changes=new Io(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Pt.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Ka(r.mutation,i,Mn.empty(),ot.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,ve()).next(()=>r))}getLocalViewOfDocuments(t,n,r=ve()){const i=to();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(o=>{let s=Oa();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,n){const r=to();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,ve()))}populateOverlays(t,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(t,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(t,n,r,i){let o=Or();const s=Wa(),a=function(){return Wa()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof To)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),Ka(d.mutation,u,d.mutation.getFieldMask(),ot.now())):s.set(u.key,Mn.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((u,d)=>s.set(u,d)),n.forEach((u,d)=>{var f;return a.set(u,new SM(d,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(t,n){const r=Wa();let i=new We((s,a)=>s-a),o=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Mn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const f=(i.get(a.batchId)||ve()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,f=UT();d.forEach(p=>{if(!o.has(p)){const h=qT(n.get(p),r.get(p));h!==null&&f.set(p,h),o=o.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(t,u,f))}return j.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(s){return ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):LT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-o.size):j.resolve(to());let a=-1,l=o;return s.next(u=>j.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?j.resolve():this.remoteDocumentCache.getEntry(t,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(t,u,o)).next(()=>this.computeViews(t,l,u,ve())).next(d=>({batchId:a,changes:$T(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ee(n)).next(r=>{let i=Oa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const o=n.collectionGroup;let s=Oa();return this.indexManager.getCollectionParents(t,o).next(a=>j.forEach(a,l=>{const u=function(f,p){return new jl(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(d=>{d.forEach((f,p)=>{s=s.insert(f,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const d=u.getKey();s.get(d)===null&&(s=s.insert(d,Pt.newInvalidDocument(d)))});let a=Oa();return s.forEach((l,u)=>{const d=o.get(l);d!==void 0&&Ka(d.mutation,u,Mn.empty(),ot.now()),Zd(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(t){this.serializer=t,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(t,n){return j.resolve(this.Tr.get(n))}saveBundleMetadata(t,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:nr(i.createTime)}}(n)),j.resolve()}getNamedQuery(t,n){return j.resolve(this.Ir.get(n))}saveNamedQuery(t,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:pM(i.bundledQuery),readTime:nr(i.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this.overlays=new We(ee.comparator),this.dr=new Map}getOverlay(t,n){return j.resolve(this.overlays.get(n))}getOverlays(t,n){const r=to();return j.forEach(n,i=>this.getOverlay(t,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,o)=>{this.Tt(t,n,o)}),j.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.dr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.dr.delete(r)),j.resolve()}getOverlaysForCollection(t,n,r){const i=to(),o=n.length+1,s=new ee(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return j.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let o=new We((u,d)=>u-d);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=to(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=to(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return j.resolve(a)}Tt(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.dr.get(i.largestBatchId).delete(r.key);this.dr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new HL(n,r));let o=this.dr.get(n);o===void 0&&(o=ve(),this.dr.set(n,o)),this.dr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(){this.sessionToken=wt.EMPTY_BYTE_STRING}getSessionToken(t){return j.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(){this.Er=new st(lt.Ar),this.Rr=new st(lt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(t,n){const r=new lt(t,n);this.Er=this.Er.add(r),this.Rr=this.Rr.add(r)}mr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.gr(new lt(t,n))}pr(t,n){t.forEach(r=>this.removeReference(r,n))}yr(t){const n=new ee(new Ve([])),r=new lt(n,t),i=new lt(n,t+1),o=[];return this.Rr.forEachInRange([r,i],s=>{this.gr(s),o.push(s.key)}),o}wr(){this.Er.forEach(t=>this.gr(t))}gr(t){this.Er=this.Er.delete(t),this.Rr=this.Rr.delete(t)}Sr(t){const n=new ee(new Ve([])),r=new lt(n,t),i=new lt(n,t+1);let o=ve();return this.Rr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(t){const n=new lt(t,0),r=this.Er.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class lt{constructor(t,n){this.key=t,this.br=n}static Ar(t,n){return ee.comparator(t.key,n.key)||Ee(t.br,n.br)}static Vr(t,n){return Ee(t.br,n.br)||ee.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new st(lt.Ar)}checkEmpty(t){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new BL(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.vr=this.vr.add(new lt(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return j.resolve(s)}lookupMutationBatch(t,n){return j.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Fr(r),o=i<0?0:i;return j.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(t){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new lt(n,0),i=new lt(n,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([r,i],s=>{const a=this.Cr(s.br);o.push(a)}),j.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new st(Ee);return n.forEach(i=>{const o=new lt(i,0),s=new lt(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,s],a=>{r=r.add(a.br)})}),j.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let o=r;ee.isDocumentKey(o)||(o=o.child(""));const s=new lt(new ee(o),0);let a=new st(Ee);return this.vr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.br)),!0)},s),j.resolve(this.Mr(a))}Mr(t){const n=[];return t.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){Ae(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return j.forEach(n.mutations,i=>{const o=new lt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.vr=r})}Bn(t){}containsKey(t,n){const r=new lt(n,0),i=this.vr.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,j.resolve()}Or(t,n){return this.Fr(t)}Fr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Cr(t){const n=this.Fr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(t){this.Nr=t,this.docs=function(){return new We(ee.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():Pt.newInvalidDocument(n))}getEntries(t,n){let r=Or();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Pt.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let o=Or();const s=n.path,a=new ee(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||oL(iL(d),r)<=0||(i.has(d.key)||Zd(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return j.resolve(o)}getAllFromCollectionGroup(t,n,r,i){le()}Br(t,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new AM(this)}getSize(t){return j.resolve(this.size)}}class AM extends wM{constructor(t){super(),this.hr=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(t,i)):this.hr.removeEntry(r)}),j.waitFor(n)}getFromCache(t,n){return this.hr.getEntry(t,n)}getAllFromCache(t,n){return this.hr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(t){this.persistence=t,this.Lr=new Io(n=>cy(n),dy),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.kr=0,this.qr=new gy,this.targetCount=0,this.Qr=Ts.qn()}forEachTarget(t,n){return this.Lr.forEach((r,i)=>n(i)),j.resolve()}getLastRemoteSnapshotVersion(t){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return j.resolve(this.kr)}allocateTargetId(t){return this.highestTargetId=this.Qr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),j.resolve()}Un(t){this.Lr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Qr=new Ts(n),this.highestTargetId=n),t.sequenceNumber>this.kr&&(this.kr=t.sequenceNumber)}addTargetData(t,n){return this.Un(n),this.targetCount+=1,j.resolve()}updateTargetData(t,n){return this.Un(n),j.resolve()}removeTargetData(t,n){return this.Lr.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(t,n,r){let i=0;const o=[];return this.Lr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Lr.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),j.waitFor(o).next(()=>i)}getTargetCount(t){return j.resolve(this.targetCount)}getTargetData(t,n){const r=this.Lr.get(n)||null;return j.resolve(r)}addMatchingKeys(t,n,r){return this.qr.mr(n,r),j.resolve()}removeMatchingKeys(t,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(t,s))}),j.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this.qr.yr(n),j.resolve()}getMatchingKeysForTargetId(t,n){const r=this.qr.Sr(n);return j.resolve(r)}containsKey(t,n){return j.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(t,n){this.Kr={},this.overlays={},this.$r=new Xd(0),this.Ur=!1,this.Ur=!0,this.Wr=new CM,this.referenceDelegate=t(this),this.Gr=new kM(this),this.indexManager=new mM,this.remoteDocumentCache=function(i){return new bM(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new hM(n),this.jr=new TM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new xM,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Kr[t.toKey()];return r||(r=new RM(n,this.referenceDelegate),this.Kr[t.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(t,n,r){X("MemoryPersistence","Starting transaction:",t);const i=new PM(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(o=>this.referenceDelegate.Jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Yr(t,n){return j.or(Object.values(this.Kr).map(r=>()=>r.containsKey(t,n)))}}class PM extends aL{constructor(t){super(),this.currentSequenceNumber=t}}class yy{constructor(t){this.persistence=t,this.Zr=new gy,this.Xr=null}static ei(t){return new yy(t)}get ti(){if(this.Xr)return this.Xr;throw le()}addReference(t,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),j.resolve()}removeReference(t,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),j.resolve()}markPotentiallyOrphaned(t,n){return this.ti.add(n.toString()),j.resolve()}removeTarget(t,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(o=>this.ti.add(o.toString()))}).next(()=>r.removeTargetData(t,n))}Hr(){this.Xr=new Set}Jr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.ti,r=>{const i=ee.fromPath(r);return this.ni(t,i).next(o=>{o||n.removeEntry(i,ce.min())})}).next(()=>(this.Xr=null,n.apply(t)))}updateLimboDocument(t,n){return this.ni(t,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(t){return 0}ni(t,n){return j.or([()=>j.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Yr(t,n)])}}class cd{constructor(t,n){this.persistence=t,this.ri=new Io(r=>cL(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=EM(this,n)}static ei(t,n){return new cd(t,n)}Hr(){}Jr(t){return j.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}Xn(t){const n=this.nr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(i=>r+i))}nr(t){let n=0;return this.er(t,r=>{n++}).next(()=>n)}er(t,n){return j.forEach(this.ri,(r,i)=>this.ir(t,r,i).next(o=>o?j.resolve():n(i)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Br(t,s=>this.ir(t,s,n).next(a=>{a||(r++,o.removeEntry(s,ce.min()))})).next(()=>o.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.ri.set(n,t.currentSequenceNumber),j.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.ri.set(r,t.currentSequenceNumber),j.resolve()}removeReference(t,n,r){return this.ri.set(r,t.currentSequenceNumber),j.resolve()}updateLimboDocument(t,n){return this.ri.set(n,t.currentSequenceNumber),j.resolve()}zr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=_c(t.data.value)),n}ir(t,n,r){return j.or([()=>this.persistence.Yr(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const i=this.ri.get(n);return j.resolve(i!==void 0&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(t,n){let r=ve(),i=ve();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new _y(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return AN()?8:lL(Lt())>0?6:4}()}initialize(t,n){this.Zi=t,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(t,n,r,i){const o={result:null};return this.Xi(t,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.es(t,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new DM;return this.ts(t,n,s).next(a=>{if(o.result=a,this.Hi)return this.ns(t,n,s,a.size)})}).next(()=>o.result)}ns(t,n,r,i){return r.documentReadCount<this.Ji?(Lo()<=_e.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",Mo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),j.resolve()):(Lo()<=_e.DEBUG&&X("QueryEngine","Query:",Mo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(Lo()<=_e.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",Mo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,tr(n))):j.resolve())}Xi(t,n){if(u1(n))return j.resolve(null);let r=tr(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=_m(n,null,"F"),r=tr(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(o=>{const s=ve(...o);return this.Zi.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.rs(n,a);return this.ss(n,u,s,l.readTime)?this.Xi(t,_m(n,null,"F")):this.os(t,u,n,l)}))})))}es(t,n,r,i){return u1(n)||i.isEqual(ce.min())?j.resolve(null):this.Zi.getDocuments(t,r).next(o=>{const s=this.rs(n,o);return this.ss(n,s,r,i)?j.resolve(null):(Lo()<=_e.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Mo(n)),this.os(t,s,n,rL(i,-1)).next(a=>a))})}rs(t,n){let r=new st(FT(t));return n.forEach((i,o)=>{Zd(t,o)&&(r=r.add(o))}),r}ss(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ts(t,n,r){return Lo()<=_e.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",Mo(n)),this.Zi.getDocumentsMatchingQuery(t,n,xi.min(),r)}os(t,n,r,i){return this.Zi.getDocumentsMatchingQuery(t,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(t,n,r,i){this.persistence=t,this._s=n,this.serializer=i,this.us=new We(Ee),this.cs=new Io(o=>cy(o),dy),this.ls=new Map,this.hs=t.getRemoteDocumentCache(),this.Gr=t.getTargetCache(),this.jr=t.getBundleCache(),this.Ps(r)}Ps(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new IM(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.us))}}function LM(e,t,n,r){return new OM(e,t,n,r)}async function sx(e,t){const n=fe(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ps(t),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=ve();for(const u of i){s.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of o){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ts:u,removedBatchIds:s,addedBatchIds:a}))})})}function MM(e,t){const n=fe(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),o=n.hs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const f=u.batch,p=f.keys();let h=j.resolve();return p.forEach(m=>{h=h.next(()=>d.getEntry(l,m)).next(_=>{const T=u.docVersions.get(m);Ae(T!==null),_.version.compareTo(T)<0&&(f.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),d.addEntry(_)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,t,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ve();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function ax(e){const t=fe(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Gr.getLastRemoteSnapshotVersion(n))}function FM(e,t){const n=fe(e),r=t.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const a=[];t.targetChanges.forEach((d,f)=>{const p=i.get(f);if(!p)return;a.push(n.Gr.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Gr.addMatchingKeys(o,d.addedDocuments,f)));let h=p.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(f)!==null?h=h.withResumeToken(wt.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):d.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(d.resumeToken,r)),i=i.insert(f,h),function(_,T,y){return _.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(p,h,d)&&a.push(n.Gr.updateTargetData(o,h))});let l=Or(),u=ve();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(VM(o,s,t.documentUpdates).next(d=>{l=d.Is,u=d.ds})),!r.isEqual(ce.min())){const d=n.Gr.getLastRemoteSnapshotVersion(o).next(f=>n.Gr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return j.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.us=i,o))}function VM(e,t,n){let r=ve(),i=ve();return n.forEach(o=>r=r.add(o)),t.getEntries(e,r).next(o=>{let s=Or();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ce.min())?(t.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),s=s.insert(a,l)):X("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Is:s,ds:i}})}function $M(e,t){const n=fe(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function UM(e,t){const n=fe(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,t).next(o=>o?(i=o,j.resolve(i)):n.Gr.allocateTargetId(r).next(s=>(i=new oi(t,s,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(t,r.targetId)),r})}async function Im(e,t,n){const r=fe(e),i=r.us.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!$s(s))throw s;X("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}r.us=r.us.remove(t),r.cs.delete(i.target)}function w1(e,t,n){const r=fe(e);let i=ce.min(),o=ve();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,d){const f=fe(l),p=f.cs.get(d);return p!==void 0?j.resolve(f.us.get(p)):f.Gr.getTargetData(u,d)}(r,s,tr(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r._s.getDocumentsMatchingQuery(s,t,n?i:ce.min(),n?o:ve())).next(a=>(zM(r,bL(t),a),{documents:a,Es:o})))}function zM(e,t,n){let r=e.ls.get(t)||ce.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),e.ls.set(t,r)}class S1{constructor(){this.activeTargetIds=OL()}ps(t){this.activeTargetIds=this.activeTargetIds.add(t)}ys(t){this.activeTargetIds=this.activeTargetIds.delete(t)}gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class jM{constructor(){this._o=new S1,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this._o.ps(t),this.ao[t]||"not-current"}updateQueryState(t,n,r){this.ao[t]=n}removeLocalQueryTarget(t){this._o.ys(t)}isLocalQueryTarget(t){return this._o.activeTargetIds.has(t)}clearQueryState(t){delete this.ao[t]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(t){return this._o.activeTargetIds.has(t)}start(){return this._o=new S1,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{uo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(t){this.To.push(t)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.To)t(0)}Po(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.To)t(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gu=null;function Rh(){return Gu===null?Gu=function(){return 268435456+Math.round(2147483648*Math.random())}():Gu++,"0x"+Gu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(t){this.Eo=t.Eo,this.Ao=t.Ao}Ro(t){this.Vo=t}mo(t){this.fo=t}po(t){this.yo=t}onMessage(t){this.wo=t}close(){this.Ao()}send(t){this.Eo(t)}So(){this.Vo()}bo(){this.fo()}Do(t){this.yo(t)}vo(t){this.wo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt="WebChannelConnection";class qM extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Oo(n,r,i,o,s){const a=Rh(),l=this.No(n,r.toUriEncodedString());X("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(u,o,s),this.Lo(n,l,u,i).then(d=>(X("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Es("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}ko(n,r,i,o,s,a){return this.Oo(n,r,i,o,s)}Bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}No(n,r){const i=HM[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Lo(t,n,r,i){const o=Rh();return new Promise((s,a)=>{const l=new _T;l.setWithCredentials(!0),l.listenOnce(vT.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case yc.NO_ERROR:const d=l.getResponseJson();X(Rt,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(d)),s(d);break;case yc.TIMEOUT:X(Rt,`RPC '${t}' ${o} timed out`),a(new J(B.DEADLINE_EXCEEDED,"Request time out"));break;case yc.HTTP_ERROR:const f=l.getStatus();if(X(Rt,`RPC '${t}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const h=p==null?void 0:p.error;if(h&&h.status&&h.message){const m=function(T){const y=T.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(y)>=0?y:B.UNKNOWN}(h.status);a(new J(m,h.message))}else a(new J(B.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new J(B.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{X(Rt,`RPC '${t}' ${o} completed.`)}});const u=JSON.stringify(i);X(Rt,`RPC '${t}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}qo(t,n,r){const i=Rh(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=ST(),a=wT(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=o.join("");X(Rt,`Creating RPC '${t}' stream ${i}: ${d}`,l);const f=s.createWebChannel(d,l);let p=!1,h=!1;const m=new GM({Eo:T=>{h?X(Rt,`Not sending because RPC '${t}' stream ${i} is closed:`,T):(p||(X(Rt,`Opening RPC '${t}' stream ${i} transport.`),f.open(),p=!0),X(Rt,`RPC '${t}' stream ${i} sending:`,T),f.send(T))},Ao:()=>f.close()}),_=(T,y,E)=>{T.listen(y,w=>{try{E(w)}catch(M){setTimeout(()=>{throw M},0)}})};return _(f,Na.EventType.OPEN,()=>{h||(X(Rt,`RPC '${t}' stream ${i} transport opened.`),m.So())}),_(f,Na.EventType.CLOSE,()=>{h||(h=!0,X(Rt,`RPC '${t}' stream ${i} transport closed`),m.Do())}),_(f,Na.EventType.ERROR,T=>{h||(h=!0,Es(Rt,`RPC '${t}' stream ${i} transport errored:`,T),m.Do(new J(B.UNAVAILABLE,"The operation could not be completed")))}),_(f,Na.EventType.MESSAGE,T=>{var y;if(!h){const E=T.data[0];Ae(!!E);const w=E,M=(w==null?void 0:w.error)||((y=w[0])===null||y===void 0?void 0:y.error);if(M){X(Rt,`RPC '${t}' stream ${i} received error:`,M);const F=M.status;let P=function(C){const I=Je[C];if(I!==void 0)return XT(I)}(F),b=M.message;P===void 0&&(P=B.INTERNAL,b="Unknown error status: "+F+" with message "+M.message),h=!0,m.Do(new J(P,b)),f.close()}else X(Rt,`RPC '${t}' stream ${i} received:`,E),m.vo(E)}}),_(a,ET.STAT_EVENT,T=>{T.stat===fm.PROXY?X(Rt,`RPC '${t}' stream ${i} detected buffering proxy`):T.stat===fm.NOPROXY&&X(Rt,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.bo()},0),m}}function bh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(e){return new ZL(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(t,n,r=1e3,i=1.5,o=6e4){this.li=t,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(t){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),t())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(t,n,r,i,o,s,a,l){this.li=t,this.Yo=r,this.Zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new lx(t,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(t){this.l_(),this.stream.send(t)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(t,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,t!==4?this.r_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Nr(n.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.po(n)}P_(){}auth(){this.state=1;const t=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{t(()=>{const i=new J(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.d_(i)})})}I_(t,n){const r=this.T_(this.Xo);this.stream=this.E_(t,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.d_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(t){return X("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}T_(t){return n=>{this.li.enqueueAndForget(()=>this.Xo===t?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WM extends ux{constructor(t,n,r,i,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}E_(t,n){return this.connection.qo("Listen",t,n)}A_(t){return this.onNext(t)}onNext(t){this.r_.reset();const n=nM(this.serializer,t),r=function(o){if(!("targetChange"in o))return ce.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ce.min():s.readTime?nr(s.readTime):ce.min()}(t);return this.listener.R_(n,r)}V_(t){const n={};n.database=Sm(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=gm(l)?{documents:oM(o,l)}:{query:sM(o,l).ct},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=JT(o,s.resumeToken);const u=vm(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ce.min())>0){a.readTime=ud(o,s.snapshotVersion.toTimestamp());const u=vm(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const r=lM(this.serializer,t);r&&(n.labels=r),this.c_(n)}m_(t){const n={};n.database=Sm(this.serializer),n.removeTarget=t,this.c_(n)}}class KM extends ux{constructor(t,n,r,i,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(t,n){return this.connection.qo("Write",t,n)}A_(t){return Ae(!!t.streamToken),this.lastStreamToken=t.streamToken,Ae(!t.writeResults||t.writeResults.length===0),this.listener.p_()}onNext(t){Ae(!!t.streamToken),this.lastStreamToken=t.streamToken,this.r_.reset();const n=iM(t.writeResults,t.commitTime),r=nr(t.commitTime);return this.listener.y_(r,n)}w_(){const t={};t.database=Sm(this.serializer),this.c_(t)}g_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>rM(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new J(B.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(t,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Oo(t,Em(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(B.UNKNOWN,o.toString())})}ko(t,n,r,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.ko(t,Em(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(B.UNKNOWN,s.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class QM{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(t){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.M_("Offline")))}set(t){this.N_(),this.D_=0,t==="Online"&&(this.C_=!1),this.M_(t)}M_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}x_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Nr(n),this.C_=!1):X("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(t,n,r,i,o){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(s=>{r.enqueueAndForget(async()=>{xo(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=fe(l);u.k_.add(4),await Hl(u),u.K_.set("Unknown"),u.k_.delete(4),await sf(u)}(this))})}),this.K_=new QM(r,i)}}async function sf(e){if(xo(e))for(const t of e.q_)await t(!0)}async function Hl(e){for(const t of e.q_)await t(!1)}function cx(e,t){const n=fe(e);n.L_.has(t.targetId)||(n.L_.set(t.targetId,t),Sy(n)?wy(n):Us(n).s_()&&Ey(n,t))}function vy(e,t){const n=fe(e),r=Us(n);n.L_.delete(t),r.s_()&&dx(n,t),n.L_.size===0&&(r.s_()?r.a_():xo(n)&&n.K_.set("Unknown"))}function Ey(e,t){if(e.U_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ce.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Us(e).V_(t)}function dx(e,t){e.U_.xe(t),Us(e).m_(t)}function wy(e){e.U_=new XL({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>e.L_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Us(e).start(),e.K_.F_()}function Sy(e){return xo(e)&&!Us(e).i_()&&e.L_.size>0}function xo(e){return fe(e).k_.size===0}function fx(e){e.U_=void 0}async function JM(e){e.K_.set("Online")}async function ZM(e){e.L_.forEach((t,n)=>{Ey(e,t)})}async function e3(e,t){fx(e),Sy(e)?(e.K_.O_(t),wy(e)):e.K_.set("Unknown")}async function t3(e,t,n){if(e.K_.set("Online"),t instanceof YT&&t.state===2&&t.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.L_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.L_.delete(a),i.U_.removeTarget(a))}(e,t)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await dd(e,r)}else if(t instanceof wc?e.U_.$e(t):t instanceof QT?e.U_.Je(t):e.U_.Ge(t),!n.isEqual(ce.min()))try{const r=await ax(e.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.U_.it(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=o.L_.get(u);d&&o.L_.set(u,d.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const d=o.L_.get(l);if(!d)return;o.L_.set(l,d.withResumeToken(wt.EMPTY_BYTE_STRING,d.snapshotVersion)),dx(o,l);const f=new oi(d.target,l,u,d.sequenceNumber);Ey(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await dd(e,r)}}async function dd(e,t,n){if(!$s(t))throw t;e.k_.add(1),await Hl(e),e.K_.set("Offline"),n||(n=()=>ax(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await n(),e.k_.delete(1),await sf(e)})}function hx(e,t){return t().catch(n=>dd(e,n,t))}async function af(e){const t=fe(e),n=Ai(t);let r=t.B_.length>0?t.B_[t.B_.length-1].batchId:-1;for(;n3(t);)try{const i=await $M(t.localStore,r);if(i===null){t.B_.length===0&&n.a_();break}r=i.batchId,r3(t,i)}catch(i){await dd(t,i)}px(t)&&mx(t)}function n3(e){return xo(e)&&e.B_.length<10}function r3(e,t){e.B_.push(t);const n=Ai(e);n.s_()&&n.f_&&n.g_(t.mutations)}function px(e){return xo(e)&&!Ai(e).i_()&&e.B_.length>0}function mx(e){Ai(e).start()}async function i3(e){Ai(e).w_()}async function o3(e){const t=Ai(e);for(const n of e.B_)t.g_(n.mutations)}async function s3(e,t,n){const r=e.B_.shift(),i=hy.from(r,t,n);await hx(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await af(e)}async function a3(e,t){t&&Ai(e).f_&&await async function(r,i){if(function(s){return qL(s)&&s!==B.ABORTED}(i.code)){const o=r.B_.shift();Ai(r).__(),await hx(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await af(r)}}(e,t),px(e)&&mx(e)}async function T1(e,t){const n=fe(e);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=xo(n);n.k_.add(3),await Hl(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.k_.delete(3),await sf(n)}async function l3(e,t){const n=fe(e);t?(n.k_.delete(2),await sf(n)):t||(n.k_.add(2),await Hl(n),n.K_.set("Unknown"))}function Us(e){return e.W_||(e.W_=function(n,r,i){const o=fe(n);return o.b_(),new WM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{Ro:JM.bind(null,e),mo:ZM.bind(null,e),po:e3.bind(null,e),R_:t3.bind(null,e)}),e.q_.push(async t=>{t?(e.W_.__(),Sy(e)?wy(e):e.K_.set("Unknown")):(await e.W_.stop(),fx(e))})),e.W_}function Ai(e){return e.G_||(e.G_=function(n,r,i){const o=fe(n);return o.b_(),new KM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{Ro:()=>Promise.resolve(),mo:i3.bind(null,e),po:a3.bind(null,e),p_:o3.bind(null,e),y_:s3.bind(null,e)}),e.q_.push(async t=>{t?(e.G_.__(),await af(e)):(await e.G_.stop(),e.B_.length>0&&(X("RemoteStore",`Stopping write stream with ${e.B_.length} pending writes`),e.B_=[]))})),e.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,o){const s=Date.now()+r,a=new Iy(t,n,s,i,o);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(B.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ty(e,t){if(Nr("AsyncQueue",`${t}: ${e}`),$s(e))return new J(B.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{static emptySet(t){return new ss(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=Oa(),this.sortedSet=new We(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ss)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new ss;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(){this.z_=new We(ee.comparator)}track(t){const n=t.doc.key,r=this.z_.get(n);r?t.type!==0&&r.type===3?this.z_=this.z_.insert(n,t):t.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.z_=this.z_.remove(n):t.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:t.doc}):le():this.z_=this.z_.insert(n,t)}j_(){const t=[];return this.z_.inorderTraversal((n,r)=>{t.push(r)}),t}}class xs{constructor(t,n,r,i,o,s,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new xs(t,n,ss.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Jd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(t=>t.Z_())}}class c3{constructor(){this.queries=C1(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=fe(n),o=i.queries;i.queries=C1(),o.forEach((s,a)=>{for(const l of a.J_)l.onError(r)})})(this,new J(B.ABORTED,"Firestore shutting down"))}}function C1(){return new Io(e=>MT(e),Jd)}async function d3(e,t){const n=fe(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.Y_()&&t.Z_()&&(r=2):(o=new u3,r=t.Z_()?0:1);try{switch(r){case 0:o.H_=await n.onListen(i,!0);break;case 1:o.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=Ty(s,`Initialization of query '${Mo(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,o),o.J_.push(t),t.ea(n.onlineState),o.H_&&t.ta(o.H_)&&xy(n)}async function f3(e,t){const n=fe(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const s=o.J_.indexOf(t);s>=0&&(o.J_.splice(s,1),o.J_.length===0?i=t.Z_()?0:1:!o.Y_()&&t.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function h3(e,t){const n=fe(e);let r=!1;for(const i of t){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.J_)a.ta(i)&&(r=!0);s.H_=i}}r&&xy(n)}function p3(e,t,n){const r=fe(e),i=r.queries.get(t);if(i)for(const o of i.J_)o.onError(n);r.queries.delete(t)}function xy(e){e.X_.forEach(t=>{t.next()})}var Tm,R1;(R1=Tm||(Tm={})).na="default",R1.Cache="cache";class m3{constructor(t,n,r){this.query=t,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new xs(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ia?this.oa(t)&&(this.ra.next(t),n=!0):this._a(t,this.onlineState)&&(this.aa(t),n=!0),this.sa=t,n}onError(t){this.ra.error(t)}ea(t){this.onlineState=t;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,t)&&(this.aa(this.sa),n=!0),n}_a(t,n){if(!t.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}oa(t){if(t.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(t){t=xs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ia=!0,this.ra.next(t)}Z_(){return this.options.source!==Tm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(t){this.key=t}}class yx{constructor(t){this.key=t}}class g3{constructor(t,n){this.query=t,this.Ea=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=ve(),this.mutatedKeys=ve(),this.Va=FT(t),this.ma=new ss(this.Va)}get fa(){return this.Ea}ga(t,n){const r=n?n.pa:new x1,i=n?n.ma:this.ma;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((d,f)=>{const p=i.get(d),h=Zd(this.query,f)?f:null,m=!!p&&this.mutatedKeys.has(p.key),_=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let T=!1;p&&h?p.data.isEqual(h.data)?m!==_&&(r.track({type:3,doc:h}),T=!0):this.ya(p,h)||(r.track({type:2,doc:h}),T=!0,(l&&this.Va(h,l)>0||u&&this.Va(h,u)<0)&&(a=!0)):!p&&h?(r.track({type:0,doc:h}),T=!0):p&&!h&&(r.track({type:1,doc:p}),T=!0,(l||u)&&(a=!0)),T&&(h?(s=s.add(h),o=_?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{ma:s,pa:r,ss:a,mutatedKeys:o}}ya(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const o=this.ma;this.ma=t.ma,this.mutatedKeys=t.mutatedKeys;const s=t.pa.j_();s.sort((d,f)=>function(h,m){const _=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return _(h)-_(m)}(d.type,f.type)||this.Va(d.doc,f.doc)),this.wa(r),i=i!=null&&i;const a=n&&!i?this.Sa():[],l=this.Ra.size===0&&this.current&&!i?1:0,u=l!==this.Aa;return this.Aa=l,s.length!==0||u?{snapshot:new xs(this.query,t.ma,o,s,t.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:a}:{ba:a}}ea(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new x1,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(t){return!this.Ea.has(t)&&!!this.ma.has(t)&&!this.ma.get(t).hasLocalMutations}wa(t){t&&(t.addedDocuments.forEach(n=>this.Ea=this.Ea.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ea=this.Ea.delete(n)),this.current=t.current)}Sa(){if(!this.current)return[];const t=this.Ra;this.Ra=ve(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return t.forEach(r=>{this.Ra.has(r)||n.push(new yx(r))}),this.Ra.forEach(r=>{t.has(r)||n.push(new gx(r))}),n}va(t){this.Ea=t.Es,this.Ra=ve();const n=this.ga(t.documents);return this.applyChanges(n,!0)}Ca(){return xs.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class y3{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class _3{constructor(t){this.key=t,this.Fa=!1}}class v3{constructor(t,n,r,i,o,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ma={},this.xa=new Io(a=>MT(a),Jd),this.Oa=new Map,this.Na=new Set,this.Ba=new We(ee.comparator),this.La=new Map,this.ka=new gy,this.qa={},this.Qa=new Map,this.Ka=Ts.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function E3(e,t,n=!0){const r=Ix(e);let i;const o=r.xa.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ca()):i=await _x(r,t,n,!0),i}async function w3(e,t){const n=Ix(e);await _x(n,t,!0,!1)}async function _x(e,t,n,r){const i=await UM(e.localStore,tr(t)),o=i.targetId,s=e.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await S3(e,t,o,s==="current",i.resumeToken)),e.isPrimaryClient&&n&&cx(e.remoteStore,i),a}async function S3(e,t,n,r,i){e.Ua=(f,p,h)=>async function(_,T,y,E){let w=T.view.ga(y);w.ss&&(w=await w1(_.localStore,T.query,!1).then(({documents:b})=>T.view.ga(b,w)));const M=E&&E.targetChanges.get(T.targetId),F=E&&E.targetMismatches.get(T.targetId)!=null,P=T.view.applyChanges(w,_.isPrimaryClient,M,F);return A1(_,T.targetId,P.ba),P.snapshot}(e,f,p,h);const o=await w1(e.localStore,t,!0),s=new g3(t,o.Es),a=s.ga(o.documents),l=Bl.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=s.applyChanges(a,e.isPrimaryClient,l);A1(e,n,u.ba);const d=new y3(t,n,s);return e.xa.set(t,d),e.Oa.has(n)?e.Oa.get(n).push(t):e.Oa.set(n,[t]),u.snapshot}async function I3(e,t,n){const r=fe(e),i=r.xa.get(t),o=r.Oa.get(i.targetId);if(o.length>1)return r.Oa.set(i.targetId,o.filter(s=>!Jd(s,t))),void r.xa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Im(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&vy(r.remoteStore,i.targetId),xm(r,i.targetId)}).catch(Vs)):(xm(r,i.targetId),await Im(r.localStore,i.targetId,!0))}async function T3(e,t){const n=fe(e),r=n.xa.get(t),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vy(n.remoteStore,r.targetId))}async function x3(e,t,n){const r=D3(e);try{const i=await function(s,a){const l=fe(s),u=ot.now(),d=a.reduce((h,m)=>h.add(m.key),ve());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let m=Or(),_=ve();return l.hs.getEntries(h,d).next(T=>{m=T,m.forEach((y,E)=>{E.isValidDocument()||(_=_.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,m)).next(T=>{f=T;const y=[];for(const E of a){const w=zL(E,f.get(E.key).overlayedDocument);w!=null&&y.push(new To(E.key,w,RT(w.value.mapValue),Cr.exists(!0)))}return l.mutationQueue.addMutationBatch(h,u,y,a)}).next(T=>{p=T;const y=T.applyToLocalDocumentSet(f,_);return l.documentOverlayCache.saveOverlays(h,T.batchId,y)})}).then(()=>({batchId:p.batchId,changes:$T(f)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.qa[s.currentUser.toKey()];u||(u=new We(Ee)),u=u.insert(a,l),s.qa[s.currentUser.toKey()]=u}(r,i.batchId,n),await Gl(r,i.changes),await af(r.remoteStore)}catch(i){const o=Ty(i,"Failed to persist write");n.reject(o)}}async function vx(e,t){const n=fe(e);try{const r=await FM(n.localStore,t);t.targetChanges.forEach((i,o)=>{const s=n.La.get(o);s&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Fa=!0:i.modifiedDocuments.size>0?Ae(s.Fa):i.removedDocuments.size>0&&(Ae(s.Fa),s.Fa=!1))}),await Gl(n,r,t)}catch(r){await Vs(r)}}function b1(e,t,n){const r=fe(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((o,s)=>{const a=s.view.ea(t);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=fe(s);l.onlineState=a;let u=!1;l.queries.forEach((d,f)=>{for(const p of f.J_)p.ea(a)&&(u=!0)}),u&&xy(l)}(r.eventManager,t),i.length&&r.Ma.R_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function C3(e,t,n){const r=fe(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.La.get(t),o=i&&i.key;if(o){let s=new We(ee.comparator);s=s.insert(o,Pt.newNoDocument(o,ce.min()));const a=ve().add(o),l=new rf(ce.min(),new Map,new We(Ee),s,a);await vx(r,l),r.Ba=r.Ba.remove(o),r.La.delete(t),Cy(r)}else await Im(r.localStore,t,!1).then(()=>xm(r,t,n)).catch(Vs)}async function R3(e,t){const n=fe(e),r=t.batch.batchId;try{const i=await MM(n.localStore,t);wx(n,r,null),Ex(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gl(n,i)}catch(i){await Vs(i)}}async function b3(e,t,n){const r=fe(e);try{const i=await function(s,a){const l=fe(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Ae(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,t);wx(r,t,n),Ex(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Gl(r,i)}catch(i){await Vs(i)}}function Ex(e,t){(e.Qa.get(t)||[]).forEach(n=>{n.resolve()}),e.Qa.delete(t)}function wx(e,t,n){const r=fe(e);let i=r.qa[r.currentUser.toKey()];if(i){const o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.qa[r.currentUser.toKey()]=i}}function xm(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Oa.get(t))e.xa.delete(r),n&&e.Ma.Wa(r,n);e.Oa.delete(t),e.isPrimaryClient&&e.ka.yr(t).forEach(r=>{e.ka.containsKey(r)||Sx(e,r)})}function Sx(e,t){e.Na.delete(t.path.canonicalString());const n=e.Ba.get(t);n!==null&&(vy(e.remoteStore,n),e.Ba=e.Ba.remove(t),e.La.delete(n),Cy(e))}function A1(e,t,n){for(const r of n)r instanceof gx?(e.ka.addReference(r.key,t),A3(e,r)):r instanceof yx?(X("SyncEngine","Document no longer in limbo: "+r.key),e.ka.removeReference(r.key,t),e.ka.containsKey(r.key)||Sx(e,r.key)):le()}function A3(e,t){const n=t.key,r=n.path.canonicalString();e.Ba.get(n)||e.Na.has(r)||(X("SyncEngine","New document in limbo: "+n),e.Na.add(r),Cy(e))}function Cy(e){for(;e.Na.size>0&&e.Ba.size<e.maxConcurrentLimboResolutions;){const t=e.Na.values().next().value;e.Na.delete(t);const n=new ee(Ve.fromString(t)),r=e.Ka.next();e.La.set(r,new _3(n)),e.Ba=e.Ba.insert(n,r),cx(e.remoteStore,new oi(tr(OT(n.path)),r,"TargetPurposeLimboResolution",Xd.oe))}}async function Gl(e,t,n){const r=fe(e),i=[],o=[],s=[];r.xa.isEmpty()||(r.xa.forEach((a,l)=>{s.push(r.Ua(l,t,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=_y.zi(l.targetId,u);o.push(f)}}))}),await Promise.all(s),r.Ma.R_(i),await async function(l,u){const d=fe(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>j.forEach(u,p=>j.forEach(p.Wi,h=>d.persistence.referenceDelegate.addReference(f,p.targetId,h)).next(()=>j.forEach(p.Gi,h=>d.persistence.referenceDelegate.removeReference(f,p.targetId,h)))))}catch(f){if(!$s(f))throw f;X("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const h=d.us.get(p),m=h.snapshotVersion,_=h.withLastLimboFreeSnapshotVersion(m);d.us=d.us.insert(p,_)}}}(r.localStore,o))}async function k3(e,t){const n=fe(e);if(!n.currentUser.isEqual(t)){X("SyncEngine","User change. New user:",t.toKey());const r=await sx(n.localStore,t);n.currentUser=t,function(o,s){o.Qa.forEach(a=>{a.forEach(l=>{l.reject(new J(B.CANCELLED,s))})}),o.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Gl(n,r.Ts)}}function P3(e,t){const n=fe(e),r=n.La.get(t);if(r&&r.Fa)return ve().add(r.key);{let i=ve();const o=n.Oa.get(t);if(!o)return i;for(const s of o){const a=n.xa.get(s);i=i.unionWith(a.view.fa)}return i}}function Ix(e){const t=fe(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=vx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=P3.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=C3.bind(null,t),t.Ma.R_=h3.bind(null,t.eventManager),t.Ma.Wa=p3.bind(null,t.eventManager),t}function D3(e){const t=fe(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=R3.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=b3.bind(null,t),t}class fd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=of(t.databaseInfo.databaseId),this.sharedClientState=this.za(t),this.persistence=this.ja(t),await this.persistence.start(),this.localStore=this.Ha(t),this.gcScheduler=this.Ja(t,this.localStore),this.indexBackfillerScheduler=this.Ya(t,this.localStore)}Ja(t,n){return null}Ya(t,n){return null}Ha(t){return LM(this.persistence,new NM,t.initialUser,this.serializer)}ja(t){return new ox(yy.ei,this.serializer)}za(t){return new jM}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fd.provider={build:()=>new fd};class N3 extends fd{constructor(t){super(),this.cacheSizeBytes=t}Ja(t,n){Ae(this.persistence.referenceDelegate instanceof cd);const r=this.persistence.referenceDelegate.garbageCollector;return new _M(r,t.asyncQueue,n)}ja(t){const n=this.cacheSizeBytes!==void 0?qt.withCacheSize(this.cacheSizeBytes):qt.DEFAULT;return new ox(r=>cd.ei(r,n),this.serializer)}}class Cm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>b1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=k3.bind(null,this.syncEngine),await l3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new c3}()}createDatastore(t){const n=of(t.databaseInfo.databaseId),r=function(o){return new qM(o)}(t.databaseInfo);return function(o,s,a,l){return new XM(o,s,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,o,s,a){return new YM(r,i,o,s,a)}(this.localStore,this.datastore,t.asyncQueue,n=>b1(this.syncEngine,n,0),function(){return I1.p()?new I1:new BM}())}createSyncEngine(t,n){return function(i,o,s,a,l,u,d){const f=new v3(i,o,s,a,l,u);return d&&(f.$a=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(i){const o=fe(i);X("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await Hl(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Cm.provider={build:()=>new Cm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Xa(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Xa(this.observer.error,t):Nr("Uncaught Error in snapshot listener:",t.toString()))}eu(){this.muted=!0}Xa(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(t,n,r,i,o){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=At.UNAUTHENTICATED,this.clientId=TT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{X("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(X("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Ty(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Ah(e,t){e.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await sx(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function k1(e,t){e.asyncQueue.verifyOperationInProgress();const n=await M3(e);X("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>T1(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>T1(t.remoteStore,i)),e._onlineComponents=t}async function M3(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ah(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===B.FAILED_PRECONDITION||i.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Es("Error using user provided cache. Falling back to memory cache: "+n),await Ah(e,new fd)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await Ah(e,new N3(void 0));return e._offlineComponents}async function Tx(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await k1(e,e._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await k1(e,new Cm))),e._onlineComponents}function F3(e){return Tx(e).then(t=>t.syncEngine)}async function V3(e){const t=await Tx(e),n=t.eventManager;return n.onListen=E3.bind(null,t.syncEngine),n.onUnlisten=I3.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=w3.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=T3.bind(null,t.syncEngine),n}function $3(e,t,n={}){const r=new vi;return e.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const d=new O3({next:p=>{d.eu(),s.enqueueAndForget(()=>f3(o,f)),p.fromCache&&l.source==="server"?u.reject(new J(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new m3(a,d,{includeMetadataChanges:!0,ua:!0});return d3(o,f)}(await V3(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(e,t,n){if(!n)throw new J(B.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function U3(e,t,n,r){if(t===!0&&r===!0)throw new J(B.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function D1(e){if(!ee.isDocumentKey(e))throw new J(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function N1(e){if(ee.isDocumentKey(e))throw new J(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function lf(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":le()}function xl(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new J(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lf(e);throw new J(B.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new J(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new J(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}U3("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xx((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class uf{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new O1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new J(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new O1(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new KO;switch(r.type){case"firstParty":return new JO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=P1.get(n);r&&(X("ComponentProvider","Removing Datastore"),P1.delete(n),r.terminate())}(this),Promise.resolve()}}function z3(e,t,n,r={}){var i;const o=(e=xl(e,uf))._getSettings(),s=`${t}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Es("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=At.MOCK_USER;else{a=SN(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new J(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new At(u)}e._authCredentials=new XO(new IT(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new zs(this.firestore,t,this._query)}}class cn{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new cn(this.firestore,t,this._key)}}class Ei extends zs{constructor(t,n,r){super(t,n,OT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new cn(this.firestore,null,new ee(t))}withConverter(t){return new Ei(this.firestore,t,this._path)}}function Rx(e,t,...n){if(e=dt(e),Cx("collection","path",t),e instanceof uf){const r=Ve.fromString(t,...n);return N1(r),new Ei(e,null,r)}{if(!(e instanceof cn||e instanceof Ei))throw new J(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ve.fromString(t,...n));return N1(r),new Ei(e.firestore,null,r)}}function j3(e,t,...n){if(e=dt(e),arguments.length===1&&(t=TT.newId()),Cx("doc","path",t),e instanceof uf){const r=Ve.fromString(t,...n);return D1(r),new cn(e,null,new ee(r))}{if(!(e instanceof cn||e instanceof Ei))throw new J(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ve.fromString(t,...n));return D1(r),new cn(e.firestore,e instanceof Ei?e.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(t=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new lx(this,"async_queue_retry"),this.fu=()=>{const r=bh();r&&X("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=t;const n=bh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.pu(),this.yu(t)}enterRestrictedMode(t){if(!this.du){this.du=!0,this.Vu=t||!1;const n=bh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(t){if(this.pu(),this.du)return new Promise(()=>{});const n=new vi;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Iu.push(t),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(t){if(!$s(t))throw t;X("AsyncQueue","Operation failed with retryable error: "+t)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(t){const n=this.gu.then(()=>(this.Ru=!0,t().catch(r=>{this.Au=r,this.Ru=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Nr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(t,n,r){this.pu(),this.mu.indexOf(t)>-1&&(n=0);const i=Iy.createAndSchedule(this,t,n,r,o=>this.Su(o));return this.Eu.push(i),i}pu(){this.Au&&le()}verifyOperationInProgress(){}async bu(){let t;do t=this.gu,await t;while(t!==this.gu)}Du(t){for(const n of this.Eu)if(n.timerId===t)return!0;return!1}vu(t){return this.bu().then(()=>{this.Eu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Eu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.bu()})}Cu(t){this.mu.push(t)}Su(t){const n=this.Eu.indexOf(t);this.Eu.splice(n,1)}}class Ry extends uf{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new L1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new L1(t),this._firestoreClient=void 0,await t}}}function B3(e,t){const n=typeof e=="object"?e:pT(),r=typeof e=="string"?e:"(default)",i=sy(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=EN("firestore");o&&z3(i,...o)}return i}function bx(e){if(e._terminated)throw new J(B.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||H3(e),e._firestoreClient}function H3(e){var t,n,r;const i=e._freezeSettings(),o=function(a,l,u,d){return new hL(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,xx(d.experimentalLongPollingOptions),d.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new L3(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Cs(wt.fromBase64String(t))}catch(n){throw new J(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Cs(wt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new J(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _t(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new J(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new J(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ee(this._lat,t._lat)||Ee(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=/^__.*__$/;class Ax{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new To(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function kx(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}class Py{constructor(t,n,r,i,o,s){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(t){return new Py(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xu({path:r,Nu:!1});return i.Bu(t),i}Lu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(t){return this.xu({path:void 0,Nu:!0})}qu(t){return hd(t,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Bu(this.path.get(t))}Bu(t){if(t.length===0)throw this.qu("Document fields must not be empty");if(kx(this.Mu)&&G3.test(t))throw this.qu('Document fields cannot begin and end with "__"')}}class q3{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||of(t)}$u(t,n,r,i=!1){return new Py({Mu:t,methodName:n,Ku:r,path:_t.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Px(e){const t=e._freezeSettings(),n=of(e._databaseId);return new q3(e._databaseId,!!t.ignoreUndefinedProperties,n)}class df extends by{_toFieldTransform(t){if(t.Mu!==2)throw t.Mu===1?t.qu(`${this._methodName}() can only appear at the top level of your update data`):t.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof df}}function W3(e,t,n,r){const i=e.$u(1,t,n);Nx("Data must be an object, but it was:",i,r);const o=[],s=an.empty();Fi(r,(l,u)=>{const d=Dy(t,l,n);u=dt(u);const f=i.Lu(d);if(u instanceof df)o.push(d);else{const p=ql(u,f);p!=null&&(o.push(d),s.set(d,p))}});const a=new Mn(o);return new Ax(s,a,i.fieldTransforms)}function K3(e,t,n,r,i,o){const s=e.$u(1,t,n),a=[M1(t,r,n)],l=[i];if(o.length%2!=0)throw new J(B.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<o.length;p+=2)a.push(M1(t,o[p])),l.push(o[p+1]);const u=[],d=an.empty();for(let p=a.length-1;p>=0;--p)if(!J3(u,a[p])){const h=a[p];let m=l[p];m=dt(m);const _=s.Lu(h);if(m instanceof df)u.push(h);else{const T=ql(m,_);T!=null&&(u.push(h),d.set(h,T))}}const f=new Mn(u);return new Ax(d,f,s.fieldTransforms)}function X3(e,t,n,r=!1){return ql(n,e.$u(r?4:3,t))}function ql(e,t){if(Dx(e=dt(e)))return Nx("Unsupported field value:",t,e),Q3(e,t);if(e instanceof by)return function(r,i){if(!kx(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Nu&&t.Mu!==4)throw t.qu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=ql(a,i.ku(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(e,t)}return function(r,i){if((r=dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return LL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ot.fromDate(r);return{timestampValue:ud(i.serializer,o)}}if(r instanceof ot){const o=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ud(i.serializer,o)}}if(r instanceof Ay)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Cs)return{bytesValue:JT(i.serializer,r._byteString)};if(r instanceof cn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.qu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:my(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ky)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.qu("VectorValues must only contain numeric values.");return fy(a.serializer,l)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${lf(r)}`)}(e,t)}function Q3(e,t){const n={};return xT(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fi(e,(r,i)=>{const o=ql(i,t.Ou(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Dx(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ot||e instanceof Ay||e instanceof Cs||e instanceof cn||e instanceof by||e instanceof ky)}function Nx(e,t,n){if(!Dx(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=lf(n);throw r==="an object"?t.qu(e+" a custom object"):t.qu(e+" "+r)}}function M1(e,t,n){if((t=dt(t))instanceof cf)return t._internalPath;if(typeof t=="string")return Dy(e,t);throw hd("Field path arguments must be of type string or ",e,!1,void 0,n)}const Y3=new RegExp("[~\\*/\\[\\]]");function Dy(e,t,n){if(t.search(Y3)>=0)throw hd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new cf(...t.split("."))._internalPath}catch{throw hd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function hd(e,t,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new J(B.INVALID_ARGUMENT,a+e+l)}function J3(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Z3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Ny("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Z3 extends Ox{data(){return super.data()}}function Ny(e,t){return typeof t=="string"?Dy(e,t):t instanceof cf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new J(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Oy{}class t2 extends Oy{}function n2(e,t,...n){let r=[];t instanceof Oy&&r.push(t),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof Ly).length,a=o.filter(l=>l instanceof ff).length;if(s>1||s>0&&a>0)throw new J(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class ff extends t2{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new ff(t,n,r)}_apply(t){const n=this._parse(t);return Lx(t._query,n),new zs(t.firestore,t.converter,ym(t._query,n))}_parse(t){const n=Px(t.firestore);return function(o,s,a,l,u,d,f){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new J(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){V1(f,d);const h=[];for(const m of f)h.push(F1(l,o,m));p={arrayValue:{values:h}}}else p=F1(l,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||V1(f,d),p=X3(a,s,f,d==="in"||d==="not-in");return tt.create(u,d,p)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function r2(e,t,n){const r=t,i=Ny("where",e);return ff._create(i,r,n)}class Ly extends Oy{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Ly(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Bn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)Lx(s,l),s=ym(s,l)}(t._query,n),new zs(t.firestore,t.converter,ym(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function F1(e,t,n){if(typeof(n=dt(n))=="string"){if(n==="")throw new J(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LT(t)&&n.indexOf("/")!==-1)throw new J(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Ve.fromString(n));if(!ee.isDocumentKey(r))throw new J(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return r1(e,new ee(r))}if(n instanceof cn)return r1(e,n._key);throw new J(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lf(n)}.`)}function V1(e,t){if(!Array.isArray(e)||e.length===0)throw new J(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Lx(e,t){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new J(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new J(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class i2{convertValue(t,n="none"){switch(bi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Qe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ri(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw le()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Fi(t,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(t){var n,r,i;const o=(i=(r=(n=t.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Qe(s.doubleValue));return new ky(o)}convertGeoPoint(t){return new Ay(Qe(t.latitude),Qe(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Yd(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(El(t));default:return null}}convertTimestamp(t){const n=Ci(t);return new ot(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Ve.fromString(t);Ae(ix(r));const i=new wl(r.get(1),r.get(3)),o=new ee(r.popFirst(5));return i.isEqual(n)||Nr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class o2 extends Ox{constructor(t,n,r,i,o,s){super(t,n,r,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Ny("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Sc extends o2{data(t={}){return super.data(t)}}class s2{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new qu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Sc(this._firestore,this._userDataWriter,r.key,r,new qu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Sc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Sc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:a2(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function a2(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}class l2 extends i2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Cs(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new cn(this.firestore,null,n)}}function Mx(e){e=xl(e,zs);const t=xl(e.firestore,Ry),n=bx(t),r=new l2(t);return e2(e._query),$3(n,e._query).then(i=>new s2(t,r,e,i))}function u2(e,t,n,...r){e=xl(e,cn);const i=xl(e.firestore,Ry),o=Px(i);let s;return s=typeof(t=dt(t))=="string"||t instanceof cf?K3(o,"updateDoc",e._key,t,n,r):W3(o,"updateDoc",e._key,t),c2(i,[s.toMutation(e._key,Cr.exists(!0))])}function c2(e,t){return function(r,i){const o=new vi;return r.asyncQueue.enqueueAndForget(async()=>x3(await F3(r),i,o)),o.promise}(bx(e),t)}(function(t,n=!0){(function(i){Fs=i})(Ms),vs(new ho("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Ry(new QO(r.getProvider("auth-internal")),new eL(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new J(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wl(u.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),yi(Y0,"4.7.6",t),yi(Y0,"4.7.6","esm2017")})();function My(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Fx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const d2=Fx,Vx=new Ul("auth","Firebase",Fx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd=new iy("@firebase/auth");function f2(e,...t){pd.logLevel<=_e.WARN&&pd.warn(`Auth (${Ms}): ${e}`,...t)}function Ic(e,...t){pd.logLevel<=_e.ERROR&&pd.error(`Auth (${Ms}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(e,...t){throw Fy(e,...t)}function rr(e,...t){return Fy(e,...t)}function $x(e,t,n){const r=Object.assign(Object.assign({},d2()),{[t]:n});return new Ul("auth","Firebase",r).create(t,{appName:e.name})}function wi(e){return $x(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fy(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Vx.create(e,...t)}function ae(e,t,...n){if(!e)throw Fy(t,...n)}function wr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ic(t),new Error(t)}function Lr(e,t){e||wr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function h2(){return $1()==="http:"||$1()==="https:"}function $1(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(h2()||CN()||"connection"in navigator)?navigator.onLine:!0}function m2(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Lr(n>t,"Short delay should be less than long delay!"),this.isMobile=IN()||RN()}get(){return p2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(e,t){Lr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=new Wl(3e4,6e4);function Co(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Vi(e,t,n,r,i={}){return zx(e,i,async()=>{let o={},s={};r&&(t==="GET"?s=r:o={body:JSON.stringify(r)});const a=zl(Object.assign({key:e.config.apiKey},s)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u=Object.assign({method:t,headers:l},o);return xN()||(u.referrerPolicy="no-referrer"),Ux.fetch()(jx(e,e.config.apiHost,n,a),u)})}async function zx(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},g2),t);try{const i=new v2(e),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Wu(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wu(e,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Wu(e,"email-already-in-use",s);if(l==="USER_DISABLED")throw Wu(e,"user-disabled",s);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw $x(e,d,u);Hn(e,d)}}catch(i){if(i instanceof Fr)throw i;Hn(e,"network-request-failed",{message:String(i)})}}async function hf(e,t,n,r,i={}){const o=await Vi(e,t,n,r,i);return"mfaPendingCredential"in o&&Hn(e,"multi-factor-auth-required",{_serverResponse:o}),o}function jx(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Vy(e.config,i):`${e.config.apiScheme}://${i}`}function _2(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class v2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(rr(this.auth,"network-request-failed")),y2.get())})}}function Wu(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=rr(e,t,r);return i.customData._tokenResponse=n,i}function U1(e){return e!==void 0&&e.enterprise!==void 0}class E2{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return _2(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function w2(e,t){return Vi(e,"GET","/v2/recaptchaConfig",Co(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S2(e,t){return Vi(e,"POST","/v1/accounts:delete",t)}async function Bx(e,t){return Vi(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function I2(e,t=!1){const n=dt(e),r=await n.getIdToken(t),i=$y(r);ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Xa(kh(i.auth_time)),issuedAtTime:Xa(kh(i.iat)),expirationTime:Xa(kh(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function kh(e){return Number(e)*1e3}function $y(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Ic("JWT malformed, contained fewer than 3 sections"),null;try{const i=aT(n);return i?JSON.parse(i):(Ic("Failed to decode base64 JWT payload"),null)}catch(i){return Ic("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function z1(e){const t=$y(e);return ae(t,"internal-error"),ae(typeof t.exp<"u","internal-error"),ae(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Fr&&T2(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function T2({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xa(this.lastLoginAt),this.creationTime=Xa(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function md(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Cl(e,Bx(n,{idToken:r}));ae(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?Hx(o.providerUserInfo):[],a=R2(e.providerData,s),l=e.isAnonymous,u=!(e.email&&o.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new bm(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(e,f)}async function C2(e){const t=dt(e);await md(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function R2(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function Hx(e){return e.map(t=>{var{providerId:n}=t,r=My(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b2(e,t){const n=await zx(e,{},async()=>{const r=zl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=jx(e,i,"/v1/token",`key=${o}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ux.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function A2(e,t){return Vi(e,"POST","/v2/accounts:revokeToken",Co(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ae(t.idToken,"internal-error"),ae(typeof t.idToken<"u","internal-error"),ae(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):z1(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){ae(t.length!==0,"internal-error");const n=z1(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await b2(t,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new as;return r&&(ae(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),i&&(ae(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),o&&(ae(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new as,this.toJSON())}_performRefresh(){return wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(e,t){ae(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Sr{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=My(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new x2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new bm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Cl(this,this.stsTokenManager.getToken(this.auth,t));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return I2(this,t)}reload(){return C2(this)}_assign(t){this!==t&&(ae(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Sr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await md(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Er(this.auth.app))return Promise.reject(wi(this.auth));const t=await this.getIdToken();return await Cl(this,S2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,s,a,l,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,m=(s=n.photoURL)!==null&&s!==void 0?s:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,E=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:w,emailVerified:M,isAnonymous:F,providerData:P,stsTokenManager:b}=n;ae(w&&b,t,"internal-error");const x=as.fromJSON(this.name,b);ae(typeof w=="string",t,"internal-error"),Wr(f,t.name),Wr(p,t.name),ae(typeof M=="boolean",t,"internal-error"),ae(typeof F=="boolean",t,"internal-error"),Wr(h,t.name),Wr(m,t.name),Wr(_,t.name),Wr(T,t.name),Wr(y,t.name),Wr(E,t.name);const C=new Sr({uid:w,auth:t,email:p,emailVerified:M,displayName:f,isAnonymous:F,photoURL:m,phoneNumber:h,tenantId:_,stsTokenManager:x,createdAt:y,lastLoginAt:E});return P&&Array.isArray(P)&&(C.providerData=P.map(I=>Object.assign({},I))),T&&(C._redirectEventId=T),C}static async _fromIdTokenResponse(t,n,r=!1){const i=new as;i.updateFromServerResponse(n);const o=new Sr({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await md(o),o}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];ae(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Hx(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new as;a.updateFromIdToken(r);const l=new Sr({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new bm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=new Map;function Ir(e){Lr(e instanceof Function,"Expected a class definition");let t=j1.get(e);return t?(Lr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,j1.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Gx.type="NONE";const B1=Gx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(e,t,n){return`firebase:${e}:${t}:${n}`}class ls{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Tc(this.userKey,i.apiKey,o),this.fullPersistenceKey=Tc("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Sr._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new ls(Ir(B1),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Ir(B1);const s=Tc(r,t.config.apiKey,t.name);let a=null;for(const u of n)try{const d=await u._get(s);if(d){const f=Sr._fromJSON(t,d);u!==o&&(a=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new ls(o,t,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new ls(o,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Xx(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(qx(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Yx(t))return"Blackberry";if(Jx(t))return"Webos";if(Wx(t))return"Safari";if((t.includes("chrome/")||Kx(t))&&!t.includes("edge/"))return"Chrome";if(Qx(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function qx(e=Lt()){return/firefox\//i.test(e)}function Wx(e=Lt()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Kx(e=Lt()){return/crios\//i.test(e)}function Xx(e=Lt()){return/iemobile/i.test(e)}function Qx(e=Lt()){return/android/i.test(e)}function Yx(e=Lt()){return/blackberry/i.test(e)}function Jx(e=Lt()){return/webos/i.test(e)}function Uy(e=Lt()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function k2(e=Lt()){var t;return Uy(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function P2(){return bN()&&document.documentMode===10}function Zx(e=Lt()){return Uy(e)||Qx(e)||Jx(e)||Yx(e)||/windows phone/i.test(e)||Xx(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(e,t=[]){let n;switch(e){case"Browser":n=H1(Lt());break;case"Worker":n=`${H1(Lt())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ms}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=o=>new Promise((s,a)=>{try{const l=t(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N2(e,t={}){return Vi(e,"GET","/v2/passwordPolicy",Co(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=6;class L2{constructor(t){var n,r,i,o;const s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:O2,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new G1(this),this.idTokenSubscription=new G1(this),this.beforeStateQueue=new D2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ir(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ls.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Bx(this,{idToken:t}),r=await Sr._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Er(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await md(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=m2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Er(this.app))return Promise.reject(wi(this));const n=t?dt(t):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&ae(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Er(this.app)?Promise.reject(wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Er(this.app)?Promise.reject(wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ir(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await N2(this),n=new L2(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Ul("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await A2(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ir(t)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await ls.create(this,[Ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=t.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=eC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&f2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function js(e){return dt(e)}class G1{constructor(t){this.auth=t,this.observer=null,this.addObserver=MN(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function F2(e){pf=e}function tC(e){return pf.loadJS(e)}function V2(){return pf.recaptchaEnterpriseScript}function $2(){return pf.gapiScript}function U2(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class z2{constructor(){this.enterprise=new j2}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class j2{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const B2="recaptcha-enterprise",nC="NO_RECAPTCHA";class H2{constructor(t){this.type=B2,this.auth=js(t)}async verify(t="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{w2(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new E2(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;U1(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:t}).then(u=>{s(u)}).catch(()=>{s(nC)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new z2().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&U1(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=V2();l.length!==0&&(l+=a),tC(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function q1(e,t,n,r=!1,i=!1){const o=new H2(e);let s;if(i)s=nC;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const a=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function W1(e,t,n,r,i){var o;if(!((o=e._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await q1(e,t,n,n==="getOobCode");return r(e,s)}else return r(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await q1(e,t,n,n==="getOobCode");return r(e,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(e,t){const n=sy(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(nd(o,t??{}))return i;Hn(i,"already-initialized")}return n.initialize({options:t})}function q2(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ir);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function W2(e,t,n){const r=js(e);ae(r._canInitEmulator,r,"emulator-config-failed"),ae(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,o=rC(t),{host:s,port:a}=K2(t),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),X2()}function rC(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function K2(e){const t=rC(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:K1(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:K1(s)}}}function K1(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function X2(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return wr("not implemented")}_getIdTokenResponse(t){return wr("not implemented")}_linkToIdToken(t,n){return wr("not implemented")}_getReauthenticationResolver(t){return wr("not implemented")}}async function Q2(e,t){return Vi(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y2(e,t){return hf(e,"POST","/v1/accounts:signInWithPassword",Co(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J2(e,t){return hf(e,"POST","/v1/accounts:signInWithEmailLink",Co(e,t))}async function Z2(e,t){return hf(e,"POST","/v1/accounts:signInWithEmailLink",Co(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl extends zy{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new Rl(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Rl(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return W1(t,n,"signInWithPassword",Y2);case"emailLink":return J2(t,{email:this._email,oobCode:this._password});default:Hn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return W1(t,r,"signUpPassword",Q2);case"emailLink":return Z2(t,{idToken:n,email:this._email,oobCode:this._password});default:Hn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function us(e,t){return hf(e,"POST","/v1/accounts:signInWithIdp",Co(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF="http://localhost";class mo extends zy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new mo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Hn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,o=My(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new mo(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(t){const n=this.buildRequest();return us(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,us(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,us(t,n)}buildRequest(){const t={requestUri:eF,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=zl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tF(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nF(e){const t=Pa(Da(e)).link,n=t?Pa(Da(t)).deep_link_id:null,r=Pa(Da(e)).deep_link_id;return(r?Pa(Da(r)).link:null)||r||n||t||e}class jy{constructor(t){var n,r,i,o,s,a;const l=Pa(Da(t)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=tF((i=l.mode)!==null&&i!==void 0?i:null);ae(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){const n=nF(t);try{return new jy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(){this.providerId=Bs.PROVIDER_ID}static credential(t,n){return Rl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=jy.parseLink(n);return ae(r,"argument-error"),Rl._fromEmailAndCode(t,r.code,r.tenantId)}}Bs.PROVIDER_ID="password";Bs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends iC{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Kl{constructor(){super("facebook.com")}static credential(t){return mo._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zr.credentialFromTaggedObject(t)}static credentialFromError(t){return Zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zr.credential(t.oauthAccessToken)}catch{return null}}}Zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends Kl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return mo._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ei.credentialFromTaggedObject(t)}static credentialFromError(t){return ei.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ei.credential(n,r)}catch{return null}}}ei.GOOGLE_SIGN_IN_METHOD="google.com";ei.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends Kl{constructor(){super("github.com")}static credential(t){return mo._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ti.credentialFromTaggedObject(t)}static credentialFromError(t){return ti.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ti.credential(t.oauthAccessToken)}catch{return null}}}ti.GITHUB_SIGN_IN_METHOD="github.com";ti.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends Kl{constructor(){super("twitter.com")}static credential(t,n){return mo._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ni.credentialFromTaggedObject(t)}static credentialFromError(t){return ni.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ni.credential(n,r)}catch{return null}}}ni.TWITTER_SIGN_IN_METHOD="twitter.com";ni.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const o=await Sr._fromIdTokenResponse(t,r,i),s=X1(r);return new Rs({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=X1(r);return new Rs({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function X1(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd extends Fr{constructor(t,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,gd.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new gd(t,n,r,i)}}function oC(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?gd._fromErrorAndOperation(e,o,t,r):o})}async function rF(e,t,n=!1){const r=await Cl(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Rs._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iF(e,t,n=!1){const{auth:r}=e;if(Er(r.app))return Promise.reject(wi(r));const i="reauthenticate";try{const o=await Cl(e,oC(r,i,t,e),n);ae(o.idToken,r,"internal-error");const s=$y(o.idToken);ae(s,r,"internal-error");const{sub:a}=s;return ae(e.uid===a,r,"user-mismatch"),Rs._forOperation(e,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Hn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC(e,t,n=!1){if(Er(e.app))return Promise.reject(wi(e));const r="signIn",i=await oC(e,r,t),o=await Rs._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function oF(e,t){return sC(js(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sF(e){const t=js(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function aF(e,t,n){return Er(e.app)?Promise.reject(wi(e)):oF(dt(e),Bs.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&sF(e),r})}function lF(e,t,n,r){return dt(e).onIdTokenChanged(t,n,r)}function uF(e,t,n){return dt(e).beforeAuthStateChanged(t,n)}function cF(e,t,n,r){return dt(e).onAuthStateChanged(t,n,r)}function dF(e){return dt(e).signOut()}const yd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yd,"1"),this.storage.removeItem(yd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF=1e3,hF=10;class lC extends aC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Zx(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);P2()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,hF):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},fF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}lC.type="LOCAL";const pF=lC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC extends aC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}uC.type="SESSION";const cC=uC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new mf(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await mF(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=By("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(p.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(){return window}function yF(e){ir().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(){return typeof ir().WorkerGlobalScope<"u"&&typeof ir().importScripts=="function"}async function _F(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vF(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function EF(){return dC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="firebaseLocalStorageDb",wF=1,_d="firebaseLocalStorage",hC="fbase_key";class Xl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gf(e,t){return e.transaction([_d],t?"readwrite":"readonly").objectStore(_d)}function SF(){const e=indexedDB.deleteDatabase(fC);return new Xl(e).toPromise()}function Am(){const e=indexedDB.open(fC,wF);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(_d,{keyPath:hC})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(_d)?t(r):(r.close(),await SF(),t(await Am()))})})}async function Q1(e,t,n){const r=gf(e,!0).put({[hC]:t,value:n});return new Xl(r).toPromise()}async function IF(e,t){const n=gf(e,!1).get(t),r=await new Xl(n).toPromise();return r===void 0?null:r.value}function Y1(e,t){const n=gf(e,!0).delete(t);return new Xl(n).toPromise()}const TF=800,xF=3;class pC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Am(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>xF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mf._getInstance(EF()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await _F(),!this.activeServiceWorker)return;this.sender=new gF(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||vF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Am();return await Q1(t,yd,"1"),await Y1(t,yd),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Q1(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>IF(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Y1(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const o=gf(i,!1).getAll();return new Xl(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:o}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pC.type="LOCAL";const CF=pC;new Wl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RF(e,t){return t?Ir(t):(ae(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy extends zy{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return us(t,this._buildIdpRequest())}_linkToIdToken(t,n){return us(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return us(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function bF(e){return sC(e.auth,new Hy(e),e.bypassAuthState)}function AF(e){const{auth:t,user:n}=e;return ae(n,t,"internal-error"),iF(n,new Hy(e),e.bypassAuthState)}async function kF(e){const{auth:t,user:n}=e;return ae(n,t,"internal-error"),rF(n,new Hy(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(t,n,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=t;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return bF;case"linkViaPopup":case"linkViaRedirect":return kF;case"reauthViaPopup":case"reauthViaRedirect":return AF;default:Hn(this.auth,"internal-error")}}resolve(t){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF=new Wl(2e3,1e4);class Jo extends mC{constructor(t,n,r,i,o){super(t,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Jo.currentPopupAction&&Jo.currentPopupAction.cancel(),Jo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ae(t,this.auth,"internal-error"),t}async onExecution(){Lr(this.filter.length===1,"Popup operations only handle one event");const t=By();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,PF.get())};t()}}Jo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF="pendingRedirect",xc=new Map;class NF extends mC{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=xc.get(this.auth._key());if(!t){try{const r=await OF(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}xc.set(this.auth._key(),t)}return this.bypassAuthState||xc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OF(e,t){const n=FF(t),r=MF(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function LF(e,t){xc.set(e._key(),t)}function MF(e){return Ir(e._redirectPersistence)}function FF(e){return Tc(DF,e.config.apiKey,e.name)}async function VF(e,t,n=!1){if(Er(e.app))return Promise.reject(wi(e));const r=js(e),i=RF(r,t),s=await new NF(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F=10*60*1e3;class UF{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!zF(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!gC(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(rr(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=$F&&this.cachedEventUids.clear(),this.cachedEventUids.has(J1(t))}saveEventToCache(t){this.cachedEventUids.add(J1(t)),this.lastProcessedEventTime=Date.now()}}function J1(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function gC({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function zF(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gC(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jF(e,t={}){return Vi(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HF=/^https?/;async function GF(e){if(e.config.emulator)return;const{authorizedDomains:t}=await jF(e);for(const n of t)try{if(qF(n))return}catch{}Hn(e,"unauthorized-domain")}function qF(e){const t=Rm(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return s.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!HF.test(n))return!1;if(BF.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF=new Wl(3e4,6e4);function Z1(){const e=ir().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function KF(e){return new Promise((t,n)=>{var r,i,o;function s(){Z1(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Z1(),n(rr(e,"network-request-failed"))},timeout:WF.get()})}if(!((i=(r=ir().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((o=ir().gapi)===null||o===void 0)&&o.load)s();else{const a=U2("iframefcb");return ir()[a]=()=>{gapi.load?s():n(rr(e,"network-request-failed"))},tC(`${$2()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw Cc=null,t})}let Cc=null;function XF(e){return Cc=Cc||KF(e),Cc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QF=new Wl(5e3,15e3),YF="__/auth/iframe",JF="emulator/auth/iframe",ZF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tV(e){const t=e.config;ae(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Vy(t,JF):`https://${e.config.authDomain}/${YF}`,r={apiKey:t.apiKey,appName:e.name,v:Ms},i=eV.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${zl(r).slice(1)}`}async function nV(e){const t=await XF(e),n=ir().gapi;return ae(n,e,"internal-error"),t.open({where:document.body,url:tV(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZF,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=rr(e,"network-request-failed"),a=ir().setTimeout(()=>{o(s)},QF.get());function l(){ir().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iV=500,oV=600,sV="_blank",aV="http://localhost";class eE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lV(e,t,n,r=iV,i=oV){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},rV),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Lt().toLowerCase();n&&(a=Kx(u)?sV:n),qx(u)&&(t=t||aV,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[h,m])=>`${p}${h}=${m},`,"");if(k2(u)&&a!=="_self")return uV(t||"",a),new eE(null);const f=window.open(t||"",a,d);ae(f,e,"popup-blocked");try{f.focus()}catch{}return new eE(f)}function uV(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV="__/auth/handler",dV="emulator/auth/handler",fV=encodeURIComponent("fac");async function tE(e,t,n,r,i,o){ae(e.config.authDomain,e,"auth-domain-config-required"),ae(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ms,eventId:i};if(t instanceof iC){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",LN(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,f]of Object.entries({}))s[d]=f}if(t instanceof Kl){const d=t.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await e._getAppCheckToken(),u=l?`#${fV}=${encodeURIComponent(l)}`:"";return`${hV(e)}?${zl(a).slice(1)}${u}`}function hV({config:e}){return e.emulator?Vy(e,dV):`https://${e.authDomain}/${cV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph="webStorageSupport";class pV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cC,this._completeRedirectFn=VF,this._overrideRedirectResult=LF}async _openPopup(t,n,r,i){var o;Lr((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await tE(t,n,r,Rm(),i);return lV(t,s,By())}async _openRedirect(t,n,r,i){await this._originValidation(t);const o=await tE(t,n,r,Rm(),i);return yF(o),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Lr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await nV(t),r=new UF(t);return n.register("authEvent",i=>(ae(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Ph,{type:Ph},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Ph];s!==void 0&&n(!!s),Hn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=GF(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Zx()||Wx()||Uy()}}const mV=pV;var nE="@firebase/auth",rE="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _V(e){vs(new ho("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ae(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eC(e)},u=new M2(r,i,o,l);return q2(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),vs(new ho("auth-internal",t=>{const n=js(t.getProvider("auth").getImmediate());return(r=>new gV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),yi(nE,rE,yV(e)),yi(nE,rE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV=5*60,EV=cT("authIdTokenMaxAge")||vV;let iE=null;const wV=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>EV)return;const i=n==null?void 0:n.token;iE!==i&&(iE=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function SV(e=pT()){const t=sy(e,"auth");if(t.isInitialized())return t.getImmediate();const n=G2(e,{popupRedirectResolver:mV,persistence:[CF,pF,cC]}),r=cT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=wV(o.toString());uF(n,s,()=>s(n.currentUser)),lF(n,a=>s(a))}}const i=lT("auth");return i&&W2(n,`http://${i}`),n}function IV(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}F2({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const o=rr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",IV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_V("Browser");var Hi={LANGUAGE:"en_US",USER:"fadelyang",LC_TIME:"id_ID.UTF-8",npm_config_user_agent:"npm/9.8.1 node/v18.18.0 linux x64 workspaces/false",XDG_SESSION_TYPE:"x11",BUN_INSTALL:"/home/fadelyang/.bun",GIT_ASKPASS:"/usr/share/code/resources/app/extensions/git/dist/askpass.sh",npm_node_execpath:"/home/fadelyang/.nvm/versions/node/v18.18.0/bin/node",SHLVL:"3",npm_config_noproxy:"",HOME:"/home/fadelyang",OLDPWD:"/home/fadelyang/Documents/work/2-wir/wir-chat",LESS:"-R",CHROME_DESKTOP:"code-url-handler.desktop",DESKTOP_SESSION:"ubuntu",NVM_BIN:"/home/fadelyang/.nvm/versions/node/v18.18.0/bin",TERM_PROGRAM_VERSION:"1.85.1",npm_package_json:"/home/fadelyang/Documents/work/2-wir/wir-chat/package.json",ZSH:"/home/fadelyang/.oh-my-zsh",LSCOLORS:"Gxfxcxdxbxegedabagacad",NVM_INC:"/home/fadelyang/.nvm/versions/node/v18.18.0/include/node",GTK_MODULES:"gail:atk-bridge",XDG_SEAT_PATH:"/org/freedesktop/DisplayManager/Seat0",GNOME_SHELL_SESSION_MODE:"ubuntu",PAGER:"less",VSCODE_GIT_ASKPASS_MAIN:"/usr/share/code/resources/app/extensions/git/dist/askpass-main.js",LC_MONETARY:"id_ID.UTF-8",VSCODE_GIT_ASKPASS_NODE:"/usr/share/code/code",npm_config_userconfig:"/home/fadelyang/.npmrc",npm_config_local_prefix:"/home/fadelyang/Documents/work/2-wir/wir-chat",SYSTEMD_EXEC_PID:"2309",DBUS_SESSION_BUS_ADDRESS:"unix:path=/run/user/1000/bus",COLORTERM:"truecolor",COLOR:"1",NVM_DIR:"/home/fadelyang/.nvm",npm_config_metrics_registry:"https://registry.npmjs.org/",GTK_IM_MODULE:"ibus",LOGNAME:"fadelyang",_:"/home/fadelyang/.nvm/versions/node/v18.18.0/bin/npm",npm_config_prefix:"/home/fadelyang/.nvm/versions/node/v18.18.0",npm_config_npm_version:"9.8.1",XDG_SESSION_CLASS:"user",USER_ZDOTDIR:"/home/fadelyang",TERM:"xterm-256color",npm_config_cache:"/home/fadelyang/.npm",GNOME_DESKTOP_SESSION_ID:"this-is-deprecated",npm_config_node_gyp:"/home/fadelyang/.nvm/versions/node/v18.18.0/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/fadelyang/Documents/work/2-wir/wir-chat/node_modules/.bin:/home/fadelyang/Documents/work/2-wir/node_modules/.bin:/home/fadelyang/Documents/work/node_modules/.bin:/home/fadelyang/Documents/node_modules/.bin:/home/fadelyang/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/fadelyang/.nvm/versions/node/v18.18.0/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/fadelyang/.bun/bin:/home/fadelyang/.fly/bin:/home/fadelyang/.config/composer/vendor/bin:/home/fadelyang/.bun/bin:/home/fadelyang/.fly/bin:/home/fadelyang/.config/composer/vendor/bin:/home/fadelyang/.bun/bin:/home/fadelyang/.fly/bin:/home/fadelyang/.config/composer/vendor/bin:/home/fadelyang/.nvm/versions/node/v18.18.0/bin:/home/fadelyang/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/home/fadelyang/.dotnet/tools",SESSION_MANAGER:"local/fadela-lenovo:@/tmp/.ICE-unix/2038,unix/fadela-lenovo:/tmp/.ICE-unix/2038",GTK3_MODULES:"xapp-gtk3-module",GDM_LANG:"en_US",NODE:"/home/fadelyang/.nvm/versions/node/v18.18.0/bin/node",npm_package_name:"wir-chat",GNOME_TERMINAL_SCREEN:"/org/gnome/Terminal/screen/a9009bd0_8896_4dfb_b1af_c0ee439fa32d",XDG_MENU_PREFIX:"gnome-",XDG_SESSION_PATH:"/org/freedesktop/DisplayManager/Session0",XDG_RUNTIME_DIR:"/run/user/1000",LC_ADDRESS:"id_ID.UTF-8",GDK_BACKEND:"x11",DISPLAY:":0",LANG:"en_US.UTF-8",XDG_CURRENT_DESKTOP:"Unity",DOTNET_BUNDLE_EXTRACT_BASE_DIR:"/home/fadelyang/.cache/dotnet_bundle_extract",LC_TELEPHONE:"id_ID.UTF-8",VSCODE_INJECTION:"1",XDG_SESSION_DESKTOP:"ubuntu",XMODIFIERS:"@im=ibus",GNOME_TERMINAL_SERVICE:":1.108",XAUTHORITY:"/home/fadelyang/.Xauthority",LS_COLORS:"rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:",TERM_PROGRAM:"vscode",VSCODE_GIT_IPC_HANDLE:"/run/user/1000/vscode-git-b5930ab35c.sock",npm_lifecycle_script:"vite build",SSH_AUTH_SOCK:"/run/user/1000/keyring/ssh",XDG_GREETER_DATA_DIR:"/var/lib/lightdm-data/fadelyang",SSH_AGENT_LAUNCHER:"gnome-keyring",ORIGINAL_XDG_CURRENT_DESKTOP:"Unity",GOPATH:"/home/fadelyang/go",SHELL:"/usr/bin/zsh",LC_NAME:"id_ID.UTF-8",npm_package_version:"0.0.0",npm_lifecycle_event:"build",QT_ACCESSIBILITY:"1",GDMSESSION:"ubuntu",FLYCTL_INSTALL:"/home/fadelyang/.fly",NO_AT_BRIDGE:"1",LC_MEASUREMENT:"id_ID.UTF-8",LC_IDENTIFICATION:"id_ID.UTF-8",GPG_AGENT_INFO:"/run/user/1000/gnupg/S.gpg-agent:0:1",QT_IM_MODULE:"ibus",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",npm_config_globalconfig:"/home/fadelyang/.nvm/versions/node/v18.18.0/etc/npmrc",npm_config_init_module:"/home/fadelyang/.npm-init.js",PWD:"/home/fadelyang/Documents/work/2-wir/wir-chat",npm_execpath:"/home/fadelyang/.nvm/versions/node/v18.18.0/lib/node_modules/npm/bin/npm-cli.js",XDG_CONFIG_DIRS:"/etc/xdg/xdg-ubuntu:/etc/xdg",XDG_DATA_DIRS:"/usr/share/ubuntu:/usr/share/gnome:/home/fadelyang/.local/share/flatpak/exports/share:/var/lib/flatpak/exports/share:/usr/local/share:/usr/share:/var/lib/snapd/desktop",NVM_CD_FLAGS:"-q",ZDOTDIR:"/home/fadelyang",npm_config_global_prefix:"/home/fadelyang/.nvm/versions/node/v18.18.0",LC_NUMERIC:"id_ID.UTF-8",npm_command:"run-script",LC_PAPER:"id_ID.UTF-8",VTE_VERSION:"6800",INIT_CWD:"/home/fadelyang/Documents/work/2-wir/wir-chat",EDITOR:"vi",NODE_ENV:"production",REACT_APP_BACKEND_URL:"https://ea.wirglobal.com",REACT_APP_CURRENT_VERSION:"3.1.0",REACT_APP_FIREBASE_API_KEY:"AIzaSyDoyWyWKSk_8ovvS8_0d1A64DIRVhsEPdE",REACT_APP_FIREBASE_AUTH_DOMAIN:"wirchat-22331.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"wirchat-22331",REACT_APP_FIREBASE_STORAGE_BUCKET:"wirchat-22331.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"279788642755",REACT_APP_FIREBASE_APP_ID:"1:279788642755:web:61bafae06f7d1932765d76",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-97GNX3XH66"};const TV={apiKey:Hi.REACT_APP_FIREBASE_API_KEY,authDomain:Hi.REACT_APP_FIREBASE_AUTH_DOMAIN,projectId:Hi.REACT_APP_FIREBASE_PROJECT_ID,storageBucket:Hi.REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:Hi.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,appId:Hi.REACT_APP_FIREBASE_APP_ID,measurementId:Hi.REACT_APP_FIREBASE_MEASUREMENT_ID},yC=hT(TV),Gy=SV(yC),qy=B3(yC),xV=async()=>{try{const e=Rx(qy,"languages");return(await Mx(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error fetching languages:",e.message),new Error("Failed to connect to the database. Please try again later.")}},CV=async(e,t)=>{const n=j3(qy,"languages",e);await u2(n,{selected_collection:t})},_C=async e=>{const t=Rx(qy,"languages"),n=n2(t,r2("language_code","==",e));return(await Mx(n)).docs.map(o=>({id:o.id,...o.data()}))},oE={id:{loadingText:"Sedang memproses, silahkan menunggu...",errorMessage:"Gagal menjawab pertanyaan, server mengalami masalah. Silahkan hubungi tim IT Governance.",suggestMessage1:"Adakah bisnis unit yang relevan untuk membuat platform eCommerce dengan pengalaman AR?",suggestMessage2:"Apa yang kamu ketahui tentang AR&Co?",inputPlaceholder:"Kirim pertanyaan...",heroText:"Ada yang bisa saya bantu?",sendButtonText:"Kirim",startNewChatButtonText:"Mulai chat baru",startNewChatConfirmationText:"Apakah kamu yakin? chat yang ada sekarang akan terhapus"},en:{loadingText:"Processing, please wait...",errorMessage:"Failed to answer the question. The server encountered an issue. Please contact the IT Governance team.",suggestMessage1:"Is there a relevant business unit to create an eCommerce platform with an AR experience?",suggestMessage2:"What do you know about AR&Co?",inputPlaceholder:"Send a question...",heroText:"Can I help you?",sendButtonText:"Send",startNewChatButtonText:"Start a new chat",startNewChatConfirmationText:"Are you sure? The current chat will be deleted"},ja:{loadingText:"...",errorMessage:"IT",suggestMessage1:"ARe",suggestMessage2:"AR&Co",inputPlaceholder:"...",heroText:"",sendButtonText:"",startNewChatButtonText:"",startNewChatConfirmationText:""},zhCn:{loadingText:"...",errorMessage:"IT",suggestMessage1:"AR",suggestMessage2:"AR&Co",inputPlaceholder:"...",heroText:"",sendButtonText:"",startNewChatButtonText:"",startNewChatConfirmationText:""}},Hs=S.createContext(),RV=({children:e})=>{const[t,n]=S.useState(localStorage.getItem("languageCode")||"id"),[r,i]=S.useState(null),[o,s]=S.useState(""),[a,l]=S.useState(""),[u,d]=S.useState(""),[f,p]=S.useState(""),[h,m]=S.useState(""),[_,T]=S.useState(""),[y,E]=S.useState(""),[w,M]=S.useState(""),[F,P]=S.useState(""),[b,x]=S.useState(localStorage.getItem("selectedCollection")||""),[C,I]=S.useState(localStorage.getItem("dbLocation")||"");S.useEffect(()=>{(async()=>{const Y=await _C(t);if(Y&&Y.length>0){const{selected_collection:Z,db_location:re}=Y[0];i(Y[0]),x(Z),I(re),localStorage.setItem("selectedCollection",Z),localStorage.setItem("dbLocation",re)}})();const k=oE[t]||oE.id;s(k.loadingText),l(k.errorMessage),d(k.suggestMessage1),p(k.suggestMessage2),m(k.inputPlaceholder),T(k.heroText),E(k.sendButtonText),M(k.startNewChatButtonText),P(k.startNewChatConfirmationText)},[t]);const A=L=>{n(L),localStorage.setItem("languageCode",L)};return D.jsx(Hs.Provider,{value:{languageCode:t,languageSelectedCollection:b,languageDbLocation:C,loadingText:o,errorMessage:a,suggestMessage1:u,suggestMessage2:f,inputPlaceholder:h,heroText:_,sendButtonText:y,startNewChatButtonText:w,startNewChatConfirmationText:F,changeLanguage:A},children:e})},bV=({inputValue:e,onSendMessageClick:t,onMessageChange:n,onEnterKeyDown:r,conversations:i})=>{const{inputPlaceholder:o,sendButtonText:s}=S.useContext(Hs);return D.jsx("div",{className:`sticky bottom-0 pt-3 pb-8 bg-white ${i?"":"my-auto"}`,children:D.jsxs("form",{className:"flex justify-center gap-1 mx-1 sm:mx-10",children:[D.jsx(fN,{className:"w-full px-5 py-2 border border-black resize-none box box-orer xl:w-1/2 sm:w-2/3 rounded-xl h-11 max-h-36",value:e,placeholder:o,type:"text",id:"messageInputTextareaComponent",onChange:n,onKeyDown:r}),e?D.jsx($0,{className:"self-end inline-block px-4 text-white bg-black item-start hover:bg-gray-900 rounded-xl h-11 whitespace-nowrap",onClick:t,children:s,type:"submit"}):D.jsx($0,{className:"items-start self-end inline-block px-4 text-white bg-black hover:bg-gray-900 rounded-xl h-11 whitespace-nowrap",children:s})]})})},vC="/logo.png",AV=({className:e})=>D.jsx("img",{src:vC,className:e}),kV=({conversations:e})=>{const{heroText:t}=S.useContext(Hs);return D.jsx(D.Fragment,{children:D.jsxs("div",{className:`flex flex-col ${e.length==0?"my-auto":"hidden"}`,children:[D.jsx("div",{className:"flex justify-center main-logo",children:D.jsx(AV,{className:"relative w-56"})}),D.jsx("h1",{className:"mb-3 text-2xl font-bold text-center sm:text-3xl",children:t})]})})};function PV(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const DV=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,NV=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,OV={};function sE(e,t){return(OV.jsx?NV:DV).test(e)}const LV=/[ \t\n\f\r]/g;function MV(e){return typeof e=="object"?e.type==="text"?aE(e.value):!1:aE(e)}function aE(e){return e.replace(LV,"")===""}class Ql{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}Ql.prototype.property={};Ql.prototype.normal={};Ql.prototype.space=null;function EC(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new Ql(n,r,t)}function km(e){return e.toLowerCase()}class Rn{constructor(t,n){this.property=t,this.attribute=n}}Rn.prototype.space=null;Rn.prototype.boolean=!1;Rn.prototype.booleanish=!1;Rn.prototype.overloadedBoolean=!1;Rn.prototype.number=!1;Rn.prototype.commaSeparated=!1;Rn.prototype.spaceSeparated=!1;Rn.prototype.commaOrSpaceSeparated=!1;Rn.prototype.mustUseProperty=!1;Rn.prototype.defined=!1;let FV=0;const he=Ro(),Ze=Ro(),wC=Ro(),q=Ro(),Oe=Ro(),cs=Ro(),on=Ro();function Ro(){return 2**++FV}const Pm=Object.freeze(Object.defineProperty({__proto__:null,boolean:he,booleanish:Ze,commaOrSpaceSeparated:on,commaSeparated:cs,number:q,overloadedBoolean:wC,spaceSeparated:Oe},Symbol.toStringTag,{value:"Module"})),Dh=Object.keys(Pm);class Wy extends Rn{constructor(t,n,r,i){let o=-1;if(super(t,n),lE(this,"space",i),typeof r=="number")for(;++o<Dh.length;){const s=Dh[o];lE(this,Dh[o],(r&Pm[s])===Pm[s])}}}Wy.prototype.defined=!0;function lE(e,t,n){n&&(e[t]=n)}const VV={}.hasOwnProperty;function Gs(e){const t={},n={};let r;for(r in e.properties)if(VV.call(e.properties,r)){const i=e.properties[r],o=new Wy(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[km(r)]=r,n[km(o.attribute)]=r}return new Ql(t,n,e.space)}const SC=Gs({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),IC=Gs({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function TC(e,t){return t in e?e[t]:t}function xC(e,t){return TC(e,t.toLowerCase())}const CC=Gs({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:xC,properties:{xmlns:null,xmlnsXLink:null}}),RC=Gs({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Ze,ariaAutoComplete:null,ariaBusy:Ze,ariaChecked:Ze,ariaColCount:q,ariaColIndex:q,ariaColSpan:q,ariaControls:Oe,ariaCurrent:null,ariaDescribedBy:Oe,ariaDetails:null,ariaDisabled:Ze,ariaDropEffect:Oe,ariaErrorMessage:null,ariaExpanded:Ze,ariaFlowTo:Oe,ariaGrabbed:Ze,ariaHasPopup:null,ariaHidden:Ze,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Oe,ariaLevel:q,ariaLive:null,ariaModal:Ze,ariaMultiLine:Ze,ariaMultiSelectable:Ze,ariaOrientation:null,ariaOwns:Oe,ariaPlaceholder:null,ariaPosInSet:q,ariaPressed:Ze,ariaReadOnly:Ze,ariaRelevant:null,ariaRequired:Ze,ariaRoleDescription:Oe,ariaRowCount:q,ariaRowIndex:q,ariaRowSpan:q,ariaSelected:Ze,ariaSetSize:q,ariaSort:null,ariaValueMax:q,ariaValueMin:q,ariaValueNow:q,ariaValueText:null,role:null}}),$V=Gs({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:xC,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:cs,acceptCharset:Oe,accessKey:Oe,action:null,allow:null,allowFullScreen:he,allowPaymentRequest:he,allowUserMedia:he,alt:null,as:null,async:he,autoCapitalize:null,autoComplete:Oe,autoFocus:he,autoPlay:he,blocking:Oe,capture:null,charSet:null,checked:he,cite:null,className:Oe,cols:q,colSpan:null,content:null,contentEditable:Ze,controls:he,controlsList:Oe,coords:q|cs,crossOrigin:null,data:null,dateTime:null,decoding:null,default:he,defer:he,dir:null,dirName:null,disabled:he,download:wC,draggable:Ze,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:he,formTarget:null,headers:Oe,height:q,hidden:he,high:q,href:null,hrefLang:null,htmlFor:Oe,httpEquiv:Oe,id:null,imageSizes:null,imageSrcSet:null,inert:he,inputMode:null,integrity:null,is:null,isMap:he,itemId:null,itemProp:Oe,itemRef:Oe,itemScope:he,itemType:Oe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:he,low:q,manifest:null,max:null,maxLength:q,media:null,method:null,min:null,minLength:q,multiple:he,muted:he,name:null,nonce:null,noModule:he,noValidate:he,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:he,optimum:q,pattern:null,ping:Oe,placeholder:null,playsInline:he,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:he,referrerPolicy:null,rel:Oe,required:he,reversed:he,rows:q,rowSpan:q,sandbox:Oe,scope:null,scoped:he,seamless:he,selected:he,shadowRootClonable:he,shadowRootDelegatesFocus:he,shadowRootMode:null,shape:null,size:q,sizes:null,slot:null,span:q,spellCheck:Ze,src:null,srcDoc:null,srcLang:null,srcSet:null,start:q,step:null,style:null,tabIndex:q,target:null,title:null,translate:null,type:null,typeMustMatch:he,useMap:null,value:Ze,width:q,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Oe,axis:null,background:null,bgColor:null,border:q,borderColor:null,bottomMargin:q,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:he,declare:he,event:null,face:null,frame:null,frameBorder:null,hSpace:q,leftMargin:q,link:null,longDesc:null,lowSrc:null,marginHeight:q,marginWidth:q,noResize:he,noHref:he,noShade:he,noWrap:he,object:null,profile:null,prompt:null,rev:null,rightMargin:q,rules:null,scheme:null,scrolling:Ze,standby:null,summary:null,text:null,topMargin:q,valueType:null,version:null,vAlign:null,vLink:null,vSpace:q,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:he,disableRemotePlayback:he,prefix:null,property:null,results:q,security:null,unselectable:null}}),UV=Gs({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:TC,properties:{about:on,accentHeight:q,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:q,amplitude:q,arabicForm:null,ascent:q,attributeName:null,attributeType:null,azimuth:q,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:q,by:null,calcMode:null,capHeight:q,className:Oe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:q,diffuseConstant:q,direction:null,display:null,dur:null,divisor:q,dominantBaseline:null,download:he,dx:null,dy:null,edgeMode:null,editable:null,elevation:q,enableBackground:null,end:null,event:null,exponent:q,externalResourcesRequired:null,fill:null,fillOpacity:q,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:cs,g2:cs,glyphName:cs,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:q,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:q,horizOriginX:q,horizOriginY:q,id:null,ideographic:q,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:q,k:q,k1:q,k2:q,k3:q,k4:q,kernelMatrix:on,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:q,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:q,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:q,overlineThickness:q,paintOrder:null,panose1:null,path:null,pathLength:q,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Oe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:q,pointsAtY:q,pointsAtZ:q,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:on,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:on,rev:on,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:on,requiredFeatures:on,requiredFonts:on,requiredFormats:on,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:q,specularExponent:q,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:q,strikethroughThickness:q,string:null,stroke:null,strokeDashArray:on,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:q,strokeOpacity:q,strokeWidth:null,style:null,surfaceScale:q,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:on,tabIndex:q,tableValues:null,target:null,targetX:q,targetY:q,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:on,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:q,underlineThickness:q,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:q,values:null,vAlphabetic:q,vMathematical:q,vectorEffect:null,vHanging:q,vIdeographic:q,version:null,vertAdvY:q,vertOriginX:q,vertOriginY:q,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:q,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),zV=/^data[-\w.:]+$/i,uE=/-[a-z]/g,jV=/[A-Z]/g;function BV(e,t){const n=km(t);let r=t,i=Rn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&zV.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(uE,GV);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!uE.test(o)){let s=o.replace(jV,HV);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=Wy}return new i(r,t)}function HV(e){return"-"+e.toLowerCase()}function GV(e){return e.charAt(1).toUpperCase()}const qV={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},WV=EC([IC,SC,CC,RC,$V],"html"),Ky=EC([IC,SC,CC,RC,UV],"svg");function KV(e){return e.join(" ").trim()}var bC={},cE=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,XV=/\n/g,QV=/^\s*/,YV=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,JV=/^:\s*/,ZV=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,e4=/^[;\s]*/,t4=/^\s+|\s+$/g,n4=`
`,dE="/",fE="*",Yi="",r4="comment",i4="declaration",o4=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(m){var _=m.match(XV);_&&(n+=_.length);var T=m.lastIndexOf(n4);r=~T?m.length-T:r+m.length}function o(){var m={line:n,column:r};return function(_){return _.position=new s(m),u(),_}}function s(m){this.start=m,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function a(m){var _=new Error(t.source+":"+n+":"+r+": "+m);if(_.reason=m,_.filename=t.source,_.line=n,_.column=r,_.source=e,!t.silent)throw _}function l(m){var _=m.exec(e);if(_){var T=_[0];return i(T),e=e.slice(T.length),_}}function u(){l(QV)}function d(m){var _;for(m=m||[];_=f();)_!==!1&&m.push(_);return m}function f(){var m=o();if(!(dE!=e.charAt(0)||fE!=e.charAt(1))){for(var _=2;Yi!=e.charAt(_)&&(fE!=e.charAt(_)||dE!=e.charAt(_+1));)++_;if(_+=2,Yi===e.charAt(_-1))return a("End of comment missing");var T=e.slice(2,_-2);return r+=2,i(T),e=e.slice(_),r+=2,m({type:r4,comment:T})}}function p(){var m=o(),_=l(YV);if(_){if(f(),!l(JV))return a("property missing ':'");var T=l(ZV),y=m({type:i4,property:hE(_[0].replace(cE,Yi)),value:T?hE(T[0].replace(cE,Yi)):Yi});return l(e4),y}}function h(){var m=[];d(m);for(var _;_=p();)_!==!1&&(m.push(_),d(m));return m}return u(),h()};function hE(e){return e?e.replace(t4,Yi):Yi}var s4=Sv&&Sv.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bC,"__esModule",{value:!0});var pE=bC.default=l4,a4=s4(o4);function l4(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,a4.default)(e),i=typeof t=="function";return r.forEach(function(o){if(o.type==="declaration"){var s=o.property,a=o.value;i?t(s,a,o):a&&(n=n||{},n[s]=a)}}),n}const u4=pE.default||pE,AC=kC("end"),Xy=kC("start");function kC(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function c4(e){const t=Xy(e),n=AC(e);if(t&&n)return{start:t,end:n}}function Qa(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?mE(e.position):"start"in e||"end"in e?mE(e):"line"in e||"column"in e?Dm(e):""}function Dm(e){return gE(e&&e.line)+":"+gE(e&&e.column)}function mE(e){return Dm(e&&e.start)+"-"+Dm(e&&e.end)}function gE(e){return e&&typeof e=="number"?e:1}class Mt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},s=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(s=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?o.ruleId=r:(o.source=r.slice(0,l),o.ruleId=r.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const a=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=Qa(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=s&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}Mt.prototype.file="";Mt.prototype.name="";Mt.prototype.reason="";Mt.prototype.message="";Mt.prototype.stack="";Mt.prototype.column=void 0;Mt.prototype.line=void 0;Mt.prototype.ancestors=void 0;Mt.prototype.cause=void 0;Mt.prototype.fatal=void 0;Mt.prototype.place=void 0;Mt.prototype.ruleId=void 0;Mt.prototype.source=void 0;const Qy={}.hasOwnProperty,d4=new Map,f4=/[A-Z]/g,h4=/-([a-z])/g,p4=new Set(["table","tbody","thead","tfoot","tr"]),m4=new Set(["td","th"]),PC="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function g4(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=T4(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=I4(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Ky:WV,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=DC(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function DC(e,t,n){if(t.type==="element")return y4(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return _4(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return E4(e,t,n);if(t.type==="mdxjsEsm")return v4(e,t);if(t.type==="root")return w4(e,t,n);if(t.type==="text")return S4(e,t)}function y4(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Ky,e.schema=i),e.ancestors.push(t);const o=OC(e,t.tagName,!1),s=x4(e,t);let a=Jy(e,t);return p4.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!MV(l):!0})),NC(e,s,o,t),Yy(s,a),e.ancestors.pop(),e.schema=r,e.create(t,o,s,n)}function _4(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}bl(e,t.position)}function v4(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);bl(e,t.position)}function E4(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Ky,e.schema=i),e.ancestors.push(t);const o=t.name===null?e.Fragment:OC(e,t.name,!0),s=C4(e,t),a=Jy(e,t);return NC(e,s,o,t),Yy(s,a),e.ancestors.pop(),e.schema=r,e.create(t,o,s,n)}function w4(e,t,n){const r={};return Yy(r,Jy(e,t)),e.create(t,e.Fragment,r,n)}function S4(e,t){return t.value}function NC(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Yy(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function I4(e,t,n){return r;function r(i,o,s,a){const u=Array.isArray(s.children)?n:t;return a?u(o,s,a):u(o,s)}}function T4(e,t){return n;function n(r,i,o,s){const a=Array.isArray(o.children),l=Xy(r);return t(i,o,s,a,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function x4(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&Qy.call(t.properties,i)){const o=R4(e,i,t.properties[i]);if(o){const[s,a]=o;e.tableCellAlignToStyle&&s==="align"&&typeof a=="string"&&m4.has(t.tagName)?r=a:n[s]=a}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function C4(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const s=o.expression;s.type;const a=s.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else bl(e,t.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,o=e.evaluater.evaluateExpression(a.expression)}else bl(e,t.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function Jy(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:d4;for(;++r<t.children.length;){const o=t.children[r];let s;if(e.passKeys){const l=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(l){const u=i.get(l)||0;s=l+"-"+u,i.set(l,u+1)}}const a=DC(e,o,s);a!==void 0&&n.push(a)}return n}function R4(e,t,n){const r=BV(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?PV(n):KV(n)),r.property==="style"){let i=typeof n=="object"?n:b4(e,String(n));return e.stylePropertyNameCase==="css"&&(i=A4(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?qV[r.property]||r.property:r.attribute,n]}}function b4(e,t){const n={};try{u4(t,r)}catch(i){if(!e.ignoreInvalidStyle){const o=i,s=new Mt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:o,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=PC+"#cannot-parse-style-attribute",s}}return n;function r(i,o){let s=i;s.slice(0,2)!=="--"&&(s.slice(0,4)==="-ms-"&&(s="ms-"+s.slice(4)),s=s.replace(h4,P4)),n[s]=o}}function OC(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let o=-1,s;for(;++o<i.length;){const a=sE(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};s=s?{type:"MemberExpression",object:s,property:a,computed:!!(o&&a.type==="Literal"),optional:!1}:a}r=s}else r=sE(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return Qy.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);bl(e)}function bl(e,t){const n=new Mt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=PC+"#cannot-handle-mdx-estrees-without-createevaluater",n}function A4(e){const t={};let n;for(n in e)Qy.call(e,n)&&(t[k4(n)]=e[n]);return t}function k4(e){let t=e.replace(f4,D4);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function P4(e,t){return t.toUpperCase()}function D4(e){return"-"+e.toLowerCase()}const Nh={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},N4={};function Zy(e,t){const n=N4,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return LC(e,r,i)}function LC(e,t,n){if(O4(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return yE(e.children,t,n)}return Array.isArray(e)?yE(e,t,n):""}function yE(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=LC(e[i],t,n);return r.join("")}function O4(e){return!!(e&&typeof e=="object")}const _E=document.createElement("i");function e_(e){const t="&"+e+";";_E.innerHTML=t;const n=_E.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Tn(e,t,n,r){const i=e.length;let o=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);o<r.length;)s=r.slice(o,o+1e4),s.unshift(t,0),e.splice(...s),o+=1e4,t+=1e4}function En(e,t){return e.length>0?(Tn(e,e.length,0,t),e):t}const vE={}.hasOwnProperty;function MC(e){const t={};let n=-1;for(;++n<e.length;)L4(t,e[n]);return t}function L4(e,t){let n;for(n in t){const i=(vE.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let s;if(o)for(s in o){vE.call(i,s)||(i[s]=[]);const a=o[s];M4(i[s],Array.isArray(a)?a:a?[a]:[])}}}function M4(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Tn(e,0,0,r)}function FC(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function $n(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ut=$i(/[A-Za-z]/),Nt=$i(/[\dA-Za-z]/),F4=$i(/[#-'*+\--9=?A-Z^-~]/);function vd(e){return e!==null&&(e<32||e===127)}const Nm=$i(/\d/),V4=$i(/[\dA-Fa-f]/),$4=$i(/[!-/:-@[-`{-~]/);function te(e){return e!==null&&e<-2}function Ne(e){return e!==null&&(e<0||e===32)}function me(e){return e===-2||e===-1||e===32}const yf=$i(new RegExp("\\p{P}|\\p{S}","u")),go=$i(/\s/);function $i(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function qs(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let s="";if(o===37&&Nt(e.charCodeAt(n+1))&&Nt(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(s=String.fromCharCode(o));else if(o>55295&&o<57344){const a=e.charCodeAt(n+1);o<56320&&a>56319&&a<57344?(s=String.fromCharCode(o,a),i=1):s=""}else s=String.fromCharCode(o);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Se(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return s;function s(l){return me(l)?(e.enter(n),a(l)):t(l)}function a(l){return me(l)&&o++<i?(e.consume(l),a):(e.exit(n),t(l))}}const U4={tokenize:z4};function z4(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Se(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),o(a)}function o(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(a)}function s(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return te(a)?(e.consume(a),e.exit("chunkText"),o):(e.consume(a),s)}}const j4={tokenize:B4},EE={tokenize:H4};function B4(e){const t=this,n=[];let r=0,i,o,s;return a;function a(w){if(r<n.length){const M=n[r];return t.containerState=M[1],e.attempt(M[0].continuation,l,u)(w)}return u(w)}function l(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&E();const M=t.events.length;let F=M,P;for(;F--;)if(t.events[F][0]==="exit"&&t.events[F][1].type==="chunkFlow"){P=t.events[F][1].end;break}y(r);let b=M;for(;b<t.events.length;)t.events[b][1].end=Object.assign({},P),b++;return Tn(t.events,F+1,0,t.events.slice(M)),t.events.length=b,u(w)}return a(w)}function u(w){if(r===n.length){if(!i)return p(w);if(i.currentConstruct&&i.currentConstruct.concrete)return m(w);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(EE,d,f)(w)}function d(w){return i&&E(),y(r),p(w)}function f(w){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,m(w)}function p(w){return t.containerState={},e.attempt(EE,h,m)(w)}function h(w){return r++,n.push([t.currentConstruct,t.containerState]),p(w)}function m(w){if(w===null){i&&E(),y(0),e.consume(w);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:o,_tokenizer:i}),_(w)}function _(w){if(w===null){T(e.exit("chunkFlow"),!0),y(0),e.consume(w);return}return te(w)?(e.consume(w),T(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(w),_)}function T(w,M){const F=t.sliceStream(w);if(M&&F.push(null),w.previous=o,o&&(o.next=w),o=w,i.defineSkip(w.start),i.write(F),t.parser.lazy[w.start.line]){let P=i.events.length;for(;P--;)if(i.events[P][1].start.offset<s&&(!i.events[P][1].end||i.events[P][1].end.offset>s))return;const b=t.events.length;let x=b,C,I;for(;x--;)if(t.events[x][0]==="exit"&&t.events[x][1].type==="chunkFlow"){if(C){I=t.events[x][1].end;break}C=!0}for(y(r),P=b;P<t.events.length;)t.events[P][1].end=Object.assign({},I),P++;Tn(t.events,x+1,0,t.events.slice(b)),t.events.length=P}}function y(w){let M=n.length;for(;M-- >w;){const F=n[M];t.containerState=F[1],F[0].exit.call(t,e)}n.length=w}function E(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function H4(e,t,n){return Se(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function bs(e){if(e===null||Ne(e)||go(e))return 1;if(yf(e))return 2}function _f(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const Om={name:"attention",tokenize:q4,resolveAll:G4};function G4(e,t){let n=-1,r,i,o,s,a,l,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f=Object.assign({},e[r][1].end),p=Object.assign({},e[n][1].start);wE(f,-l),wE(p,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},e[r][1].end)},a={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:p},o={type:l>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},s.start),end:Object.assign({},a.end)},e[r][1].end=Object.assign({},s.start),e[n][1].start=Object.assign({},a.end),u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=En(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=En(u,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",o,t]]),u=En(u,_f(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=En(u,[["exit",o,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=En(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Tn(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function q4(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=bs(r);let o;return s;function s(l){return o=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===o)return e.consume(l),a;const u=e.exit("attentionSequence"),d=bs(l),f=!d||d===2&&i||n.includes(l),p=!i||i===2&&d||n.includes(r);return u._open=!!(o===42?f:f&&(i||!p)),u._close=!!(o===42?p:p&&(d||!f)),t(l)}}function wE(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const W4={name:"autolink",tokenize:K4};function K4(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(h){return Ut(h)?(e.consume(h),s):h===64?n(h):u(h)}function s(h){return h===43||h===45||h===46||Nt(h)?(r=1,a(h)):u(h)}function a(h){return h===58?(e.consume(h),r=0,l):(h===43||h===45||h===46||Nt(h))&&r++<32?(e.consume(h),a):(r=0,u(h))}function l(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||vd(h)?n(h):(e.consume(h),l)}function u(h){return h===64?(e.consume(h),d):F4(h)?(e.consume(h),u):n(h)}function d(h){return Nt(h)?f(h):n(h)}function f(h){return h===46?(e.consume(h),r=0,d):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):p(h)}function p(h){if((h===45||Nt(h))&&r++<63){const m=h===45?p:f;return e.consume(h),m}return n(h)}}const Yl={tokenize:X4,partial:!0};function X4(e,t,n){return r;function r(o){return me(o)?Se(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||te(o)?t(o):n(o)}}const VC={name:"blockQuote",tokenize:Q4,continuation:{tokenize:Y4},exit:J4};function Q4(e,t,n){const r=this;return i;function i(s){if(s===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),o}return n(s)}function o(s){return me(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function Y4(e,t,n){const r=this;return i;function i(s){return me(s)?Se(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):o(s)}function o(s){return e.attempt(VC,t,n)(s)}}function J4(e){e.exit("blockQuote")}const $C={name:"characterEscape",tokenize:Z4};function Z4(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return $4(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const UC={name:"characterReference",tokenize:e$};function e$(e,t,n){const r=this;let i=0,o,s;return a;function a(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),o=31,s=Nt,d(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,s=V4,d):(e.enter("characterReferenceValue"),o=7,s=Nm,d(f))}function d(f){if(f===59&&i){const p=e.exit("characterReferenceValue");return s===Nt&&!e_(r.sliceSerialize(p))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(f)&&i++<o?(e.consume(f),d):n(f)}}const SE={tokenize:n$,partial:!0},IE={name:"codeFenced",tokenize:t$,concrete:!0};function t$(e,t,n){const r=this,i={tokenize:F,partial:!0};let o=0,s=0,a;return l;function l(P){return u(P)}function u(P){const b=r.events[r.events.length-1];return o=b&&b[1].type==="linePrefix"?b[2].sliceSerialize(b[1],!0).length:0,a=P,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(P)}function d(P){return P===a?(s++,e.consume(P),d):s<3?n(P):(e.exit("codeFencedFenceSequence"),me(P)?Se(e,f,"whitespace")(P):f(P))}function f(P){return P===null||te(P)?(e.exit("codeFencedFence"),r.interrupt?t(P):e.check(SE,_,M)(P)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(P))}function p(P){return P===null||te(P)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(P)):me(P)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Se(e,h,"whitespace")(P)):P===96&&P===a?n(P):(e.consume(P),p)}function h(P){return P===null||te(P)?f(P):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(P))}function m(P){return P===null||te(P)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(P)):P===96&&P===a?n(P):(e.consume(P),m)}function _(P){return e.attempt(i,M,T)(P)}function T(P){return e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),y}function y(P){return o>0&&me(P)?Se(e,E,"linePrefix",o+1)(P):E(P)}function E(P){return P===null||te(P)?e.check(SE,_,M)(P):(e.enter("codeFlowValue"),w(P))}function w(P){return P===null||te(P)?(e.exit("codeFlowValue"),E(P)):(e.consume(P),w)}function M(P){return e.exit("codeFenced"),t(P)}function F(P,b,x){let C=0;return I;function I(Z){return P.enter("lineEnding"),P.consume(Z),P.exit("lineEnding"),A}function A(Z){return P.enter("codeFencedFence"),me(Z)?Se(P,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Z):L(Z)}function L(Z){return Z===a?(P.enter("codeFencedFenceSequence"),k(Z)):x(Z)}function k(Z){return Z===a?(C++,P.consume(Z),k):C>=s?(P.exit("codeFencedFenceSequence"),me(Z)?Se(P,Y,"whitespace")(Z):Y(Z)):x(Z)}function Y(Z){return Z===null||te(Z)?(P.exit("codeFencedFence"),b(Z)):x(Z)}}}function n$(e,t,n){const r=this;return i;function i(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),o)}function o(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const Oh={name:"codeIndented",tokenize:i$},r$={tokenize:o$,partial:!0};function i$(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),Se(e,o,"linePrefix",5)(u)}function o(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?s(u):n(u)}function s(u){return u===null?l(u):te(u)?e.attempt(r$,s,l)(u):(e.enter("codeFlowValue"),a(u))}function a(u){return u===null||te(u)?(e.exit("codeFlowValue"),s(u)):(e.consume(u),a)}function l(u){return e.exit("codeIndented"),t(u)}}function o$(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):te(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):Se(e,o,"linePrefix",5)(s)}function o(s){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(s):te(s)?i(s):n(s)}}const s$={name:"codeText",tokenize:u$,resolve:a$,previous:l$};function a$(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function l$(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function u$(e,t,n){let r=0,i,o;return s;function s(f){return e.enter("codeText"),e.enter("codeTextSequence"),a(f)}function a(f){return f===96?(e.consume(f),r++,a):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(o=e.enter("codeTextSequence"),i=0,d(f)):te(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||te(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),u)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(o.type="codeTextData",u(f))}}class c${constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Ia(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Ia(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Ia(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Ia(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Ia(this.left,n.reverse())}}}function Ia(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function zC(e){const t={};let n=-1,r,i,o,s,a,l,u;const d=new c$(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,d$(d,n)),n=t[n],u=!0);else if(r[1]._container){for(o=n,i=void 0;o--&&(s=d.get(o),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank");)s[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=o);i&&(r[1].end=Object.assign({},d.get(i)[1].start),a=d.slice(i,n),a.unshift(r),d.splice(i,n-i+1,a))}}return Tn(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function d$(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[],s=n._tokenizer||r.parser[n.contentType](n.start),a=s.events,l=[],u={};let d,f,p=-1,h=n,m=0,_=0;const T=[_];for(;h;){for(;e.get(++i)[1]!==h;);o.push(i),h._tokenizer||(d=r.sliceStream(h),h.next||d.push(null),f&&s.defineSkip(h.start),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(d),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++p<a.length;)a[p][0]==="exit"&&a[p-1][0]==="enter"&&a[p][1].type===a[p-1][1].type&&a[p][1].start.line!==a[p][1].end.line&&(_=p+1,T.push(_),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(s.events=[],h?(h._tokenizer=void 0,h.previous=void 0):T.pop(),p=T.length;p--;){const y=a.slice(T[p],T[p+1]),E=o.pop();l.push([E,E+y.length-1]),e.splice(E,2,y)}for(l.reverse(),p=-1;++p<l.length;)u[m+l[p][0]]=m+l[p][1],m+=l[p][1]-l[p][0]-1;return u}const f$={tokenize:m$,resolve:p$},h$={tokenize:g$,partial:!0};function p$(e){return zC(e),e}function m$(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?o(a):te(a)?e.check(h$,s,o)(a):(e.consume(a),i)}function o(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function s(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function g$(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Se(e,o,"linePrefix")}function o(s){if(s===null||te(s))return n(s);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function jC(e,t,n,r,i,o,s,a,l){const u=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(y){return y===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(y),e.exit(o),p):y===null||y===32||y===41||vd(y)?n(y):(e.enter(r),e.enter(s),e.enter(a),e.enter("chunkString",{contentType:"string"}),_(y))}function p(y){return y===62?(e.enter(o),e.consume(y),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===62?(e.exit("chunkString"),e.exit(a),p(y)):y===null||y===60||te(y)?n(y):(e.consume(y),y===92?m:h)}function m(y){return y===60||y===62||y===92?(e.consume(y),h):h(y)}function _(y){return!d&&(y===null||y===41||Ne(y))?(e.exit("chunkString"),e.exit(a),e.exit(s),e.exit(r),t(y)):d<u&&y===40?(e.consume(y),d++,_):y===41?(e.consume(y),d--,_):y===null||y===32||y===40||vd(y)?n(y):(e.consume(y),y===92?T:_)}function T(y){return y===40||y===41||y===92?(e.consume(y),_):_(y)}}function BC(e,t,n,r,i,o){const s=this;let a=0,l;return u;function u(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(o),d}function d(h){return a>999||h===null||h===91||h===93&&!l||h===94&&!a&&"_hiddenFootnoteSupport"in s.parser.constructs?n(h):h===93?(e.exit(o),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):te(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||te(h)||a++>999?(e.exit("chunkString"),d(h)):(e.consume(h),l||(l=!me(h)),h===92?p:f)}function p(h){return h===91||h===92||h===93?(e.consume(h),a++,f):f(h)}}function HC(e,t,n,r,i,o){let s;return a;function a(p){return p===34||p===39||p===40?(e.enter(r),e.enter(i),e.consume(p),e.exit(i),s=p===40?41:p,l):n(p)}function l(p){return p===s?(e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):(e.enter(o),u(p))}function u(p){return p===s?(e.exit(o),l(s)):p===null?n(p):te(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),Se(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===s||p===null||te(p)?(e.exit("chunkString"),u(p)):(e.consume(p),p===92?f:d)}function f(p){return p===s||p===92?(e.consume(p),d):d(p)}}function Ya(e,t){let n;return r;function r(i){return te(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):me(i)?Se(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const y$={name:"definition",tokenize:v$},_$={tokenize:E$,partial:!0};function v$(e,t,n){const r=this;let i;return o;function o(h){return e.enter("definition"),s(h)}function s(h){return BC.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function a(h){return i=$n(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),l):n(h)}function l(h){return Ne(h)?Ya(e,u)(h):u(h)}function u(h){return jC(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function d(h){return e.attempt(_$,f,f)(h)}function f(h){return me(h)?Se(e,p,"whitespace")(h):p(h)}function p(h){return h===null||te(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function E$(e,t,n){return r;function r(a){return Ne(a)?Ya(e,i)(a):n(a)}function i(a){return HC(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function o(a){return me(a)?Se(e,s,"whitespace")(a):s(a)}function s(a){return a===null||te(a)?t(a):n(a)}}const w$={name:"hardBreakEscape",tokenize:S$};function S$(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return te(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const I$={name:"headingAtx",tokenize:x$,resolve:T$};function T$(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Tn(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function x$(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),o(d)}function o(d){return e.enter("atxHeadingSequence"),s(d)}function s(d){return d===35&&r++<6?(e.consume(d),s):d===null||Ne(d)?(e.exit("atxHeadingSequence"),a(d)):n(d)}function a(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||te(d)?(e.exit("atxHeading"),t(d)):me(d)?Se(e,a,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),a(d))}function u(d){return d===null||d===35||Ne(d)?(e.exit("atxHeadingText"),a(d)):(e.consume(d),u)}}const C$=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],TE=["pre","script","style","textarea"],R$={name:"htmlFlow",tokenize:P$,resolveTo:k$,concrete:!0},b$={tokenize:N$,partial:!0},A$={tokenize:D$,partial:!0};function k$(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function P$(e,t,n){const r=this;let i,o,s,a,l;return u;function u(O){return d(O)}function d(O){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(O),f}function f(O){return O===33?(e.consume(O),p):O===47?(e.consume(O),o=!0,_):O===63?(e.consume(O),i=3,r.interrupt?t:N):Ut(O)?(e.consume(O),s=String.fromCharCode(O),T):n(O)}function p(O){return O===45?(e.consume(O),i=2,h):O===91?(e.consume(O),i=5,a=0,m):Ut(O)?(e.consume(O),i=4,r.interrupt?t:N):n(O)}function h(O){return O===45?(e.consume(O),r.interrupt?t:N):n(O)}function m(O){const ye="CDATA[";return O===ye.charCodeAt(a++)?(e.consume(O),a===ye.length?r.interrupt?t:L:m):n(O)}function _(O){return Ut(O)?(e.consume(O),s=String.fromCharCode(O),T):n(O)}function T(O){if(O===null||O===47||O===62||Ne(O)){const ye=O===47,Ue=s.toLowerCase();return!ye&&!o&&TE.includes(Ue)?(i=1,r.interrupt?t(O):L(O)):C$.includes(s.toLowerCase())?(i=6,ye?(e.consume(O),y):r.interrupt?t(O):L(O)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(O):o?E(O):w(O))}return O===45||Nt(O)?(e.consume(O),s+=String.fromCharCode(O),T):n(O)}function y(O){return O===62?(e.consume(O),r.interrupt?t:L):n(O)}function E(O){return me(O)?(e.consume(O),E):I(O)}function w(O){return O===47?(e.consume(O),I):O===58||O===95||Ut(O)?(e.consume(O),M):me(O)?(e.consume(O),w):I(O)}function M(O){return O===45||O===46||O===58||O===95||Nt(O)?(e.consume(O),M):F(O)}function F(O){return O===61?(e.consume(O),P):me(O)?(e.consume(O),F):w(O)}function P(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(e.consume(O),l=O,b):me(O)?(e.consume(O),P):x(O)}function b(O){return O===l?(e.consume(O),l=null,C):O===null||te(O)?n(O):(e.consume(O),b)}function x(O){return O===null||O===34||O===39||O===47||O===60||O===61||O===62||O===96||Ne(O)?F(O):(e.consume(O),x)}function C(O){return O===47||O===62||me(O)?w(O):n(O)}function I(O){return O===62?(e.consume(O),A):n(O)}function A(O){return O===null||te(O)?L(O):me(O)?(e.consume(O),A):n(O)}function L(O){return O===45&&i===2?(e.consume(O),re):O===60&&i===1?(e.consume(O),ne):O===62&&i===4?(e.consume(O),de):O===63&&i===3?(e.consume(O),N):O===93&&i===5?(e.consume(O),W):te(O)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(b$,ue,k)(O)):O===null||te(O)?(e.exit("htmlFlowData"),k(O)):(e.consume(O),L)}function k(O){return e.check(A$,Y,ue)(O)}function Y(O){return e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),Z}function Z(O){return O===null||te(O)?k(O):(e.enter("htmlFlowData"),L(O))}function re(O){return O===45?(e.consume(O),N):L(O)}function ne(O){return O===47?(e.consume(O),s="",z):L(O)}function z(O){if(O===62){const ye=s.toLowerCase();return TE.includes(ye)?(e.consume(O),de):L(O)}return Ut(O)&&s.length<8?(e.consume(O),s+=String.fromCharCode(O),z):L(O)}function W(O){return O===93?(e.consume(O),N):L(O)}function N(O){return O===62?(e.consume(O),de):O===45&&i===2?(e.consume(O),N):L(O)}function de(O){return O===null||te(O)?(e.exit("htmlFlowData"),ue(O)):(e.consume(O),de)}function ue(O){return e.exit("htmlFlow"),t(O)}}function D$(e,t,n){const r=this;return i;function i(s){return te(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),o):n(s)}function o(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function N$(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Yl,t,n)}}const O$={name:"htmlText",tokenize:L$};function L$(e,t,n){const r=this;let i,o,s;return a;function a(N){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(N),l}function l(N){return N===33?(e.consume(N),u):N===47?(e.consume(N),F):N===63?(e.consume(N),w):Ut(N)?(e.consume(N),x):n(N)}function u(N){return N===45?(e.consume(N),d):N===91?(e.consume(N),o=0,m):Ut(N)?(e.consume(N),E):n(N)}function d(N){return N===45?(e.consume(N),h):n(N)}function f(N){return N===null?n(N):N===45?(e.consume(N),p):te(N)?(s=f,ne(N)):(e.consume(N),f)}function p(N){return N===45?(e.consume(N),h):f(N)}function h(N){return N===62?re(N):N===45?p(N):f(N)}function m(N){const de="CDATA[";return N===de.charCodeAt(o++)?(e.consume(N),o===de.length?_:m):n(N)}function _(N){return N===null?n(N):N===93?(e.consume(N),T):te(N)?(s=_,ne(N)):(e.consume(N),_)}function T(N){return N===93?(e.consume(N),y):_(N)}function y(N){return N===62?re(N):N===93?(e.consume(N),y):_(N)}function E(N){return N===null||N===62?re(N):te(N)?(s=E,ne(N)):(e.consume(N),E)}function w(N){return N===null?n(N):N===63?(e.consume(N),M):te(N)?(s=w,ne(N)):(e.consume(N),w)}function M(N){return N===62?re(N):w(N)}function F(N){return Ut(N)?(e.consume(N),P):n(N)}function P(N){return N===45||Nt(N)?(e.consume(N),P):b(N)}function b(N){return te(N)?(s=b,ne(N)):me(N)?(e.consume(N),b):re(N)}function x(N){return N===45||Nt(N)?(e.consume(N),x):N===47||N===62||Ne(N)?C(N):n(N)}function C(N){return N===47?(e.consume(N),re):N===58||N===95||Ut(N)?(e.consume(N),I):te(N)?(s=C,ne(N)):me(N)?(e.consume(N),C):re(N)}function I(N){return N===45||N===46||N===58||N===95||Nt(N)?(e.consume(N),I):A(N)}function A(N){return N===61?(e.consume(N),L):te(N)?(s=A,ne(N)):me(N)?(e.consume(N),A):C(N)}function L(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(e.consume(N),i=N,k):te(N)?(s=L,ne(N)):me(N)?(e.consume(N),L):(e.consume(N),Y)}function k(N){return N===i?(e.consume(N),i=void 0,Z):N===null?n(N):te(N)?(s=k,ne(N)):(e.consume(N),k)}function Y(N){return N===null||N===34||N===39||N===60||N===61||N===96?n(N):N===47||N===62||Ne(N)?C(N):(e.consume(N),Y)}function Z(N){return N===47||N===62||Ne(N)?C(N):n(N)}function re(N){return N===62?(e.consume(N),e.exit("htmlTextData"),e.exit("htmlText"),t):n(N)}function ne(N){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),z}function z(N){return me(N)?Se(e,W,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N):W(N)}function W(N){return e.enter("htmlTextData"),s(N)}}const t_={name:"labelEnd",tokenize:z$,resolveTo:U$,resolveAll:$$},M$={tokenize:j$},F$={tokenize:B$},V$={tokenize:H$};function $$(e){let t=-1;for(;++t<e.length;){const n=e[t][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++)}return e}function U$(e,t){let n=e.length,r=0,i,o,s,a;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:e[o][1].type==="labelLink"?"link":"image",start:Object.assign({},e[o][1].start),end:Object.assign({},e[e.length-1][1].end)},u={type:"label",start:Object.assign({},e[o][1].start),end:Object.assign({},e[s][1].end)},d={type:"labelText",start:Object.assign({},e[o+r+2][1].end),end:Object.assign({},e[s-2][1].start)};return a=[["enter",l,t],["enter",u,t]],a=En(a,e.slice(o+1,o+r+3)),a=En(a,[["enter",d,t]]),a=En(a,_f(t.parser.constructs.insideSpan.null,e.slice(o+r+4,s-3),t)),a=En(a,[["exit",d,t],e[s-2],e[s-1],["exit",u,t]]),a=En(a,e.slice(s+1)),a=En(a,[["exit",l,t]]),Tn(e,o,e.length,a),e}function z$(e,t,n){const r=this;let i=r.events.length,o,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return a;function a(p){return o?o._inactive?f(p):(s=r.parser.defined.includes($n(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):n(p)}function l(p){return p===40?e.attempt(M$,d,s?d:f)(p):p===91?e.attempt(F$,d,s?u:f)(p):s?d(p):f(p)}function u(p){return e.attempt(V$,d,f)(p)}function d(p){return t(p)}function f(p){return o._balanced=!0,n(p)}}function j$(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Ne(f)?Ya(e,o)(f):o(f)}function o(f){return f===41?d(f):jC(e,s,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return Ne(f)?Ya(e,l)(f):d(f)}function a(f){return n(f)}function l(f){return f===34||f===39||f===40?HC(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return Ne(f)?Ya(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function B$(e,t,n){const r=this;return i;function i(a){return BC.call(r,e,o,s,"reference","referenceMarker","referenceString")(a)}function o(a){return r.parser.defined.includes($n(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function s(a){return n(a)}}function H$(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const G$={name:"labelStartImage",tokenize:q$,resolveAll:t_.resolveAll};function q$(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),o}function o(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),s):n(a)}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const W$={name:"labelStartLink",tokenize:K$,resolveAll:t_.resolveAll};function K$(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),o}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const Lh={name:"lineEnding",tokenize:X$};function X$(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Se(e,t,"linePrefix")}}const Rc={name:"thematicBreak",tokenize:Q$};function Q$(e,t,n){let r=0,i;return o;function o(u){return e.enter("thematicBreak"),s(u)}function s(u){return i=u,a(u)}function a(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||te(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),me(u)?Se(e,a,"whitespace")(u):a(u))}}const Gt={name:"list",tokenize:Z$,continuation:{tokenize:eU},exit:nU},Y$={tokenize:rU,partial:!0},J$={tokenize:tU,partial:!0};function Z$(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return a;function a(h){const m=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:Nm(h)){if(r.containerState.type||(r.containerState.type=m,e.enter(m,{_container:!0})),m==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(Rc,n,u)(h):u(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(h)}return n(h)}function l(h){return Nm(h)&&++s<10?(e.consume(h),l):(!r.interrupt||s<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),u(h)):n(h)}function u(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(Yl,r.interrupt?n:d,e.attempt(Y$,p,f))}function d(h){return r.containerState.initialBlankLine=!0,o++,p(h)}function f(h){return me(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),p):n(h)}function p(h){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function eU(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Yl,i,o);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Se(e,t,"listItemIndent",r.containerState.size+1)(a)}function o(a){return r.containerState.furtherBlankLines||!me(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(J$,t,s)(a))}function s(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Se(e,e.attempt(Gt,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function tU(e,t,n){const r=this;return Se(e,i,"listItemIndent",r.containerState.size+1);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(o):n(o)}}function nU(e){e.exit(this.containerState.type)}function rU(e,t,n){const r=this;return Se(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const s=r.events[r.events.length-1];return!me(o)&&s&&s[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const xE={name:"setextUnderline",tokenize:oU,resolveTo:iU};function iU(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const s={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",s,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[o][1].end)):e[r][1]=s,e.push(["exit",s,t]),e}function oU(e,t,n){const r=this;let i;return o;function o(u){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=u,s(u)):n(u)}function s(u){return e.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(e.consume(u),a):(e.exit("setextHeadingLineSequence"),me(u)?Se(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||te(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const sU={tokenize:aU};function aU(e){const t=this,n=e.attempt(Yl,r,e.attempt(this.parser.constructs.flowInitial,i,Se(e,e.attempt(this.parser.constructs.flow,i,e.attempt(f$,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const lU={resolveAll:qC()},uU=GC("string"),cU=GC("text");function GC(e){return{tokenize:t,resolveAll:qC(e==="text"?dU:void 0)};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,s,a);return s;function s(d){return u(d)?o(d):a(d)}function a(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return u(d)?(n.exit("data"),o(d)):(n.consume(d),l)}function u(d){if(d===null)return!0;const f=i[d];let p=-1;if(f)for(;++p<f.length;){const h=f[p];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function qC(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function dU(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,s=-1,a=0,l;for(;o--;){const u=i[o];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)a++,s--;if(s)break;s=-1}else if(u===-2)l=!0,a++;else if(u!==-1){o++;break}}if(a){const u={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+o,_bufferIndex:o?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},u.start),r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}function fU(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},o=[];let s=[],a=[];const l={consume:E,enter:w,exit:M,attempt:b(F),check:b(P),interrupt:b(P,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:p,now:m,defineSkip:_,write:f};let d=t.tokenize.call(u,l);return t.resolveAll&&o.push(t),u;function f(A){return s=En(s,A),T(),s[s.length-1]!==null?[]:(x(t,0),u.events=_f(o,u.events,u),u.events)}function p(A,L){return pU(h(A),L)}function h(A){return hU(s,A)}function m(){const{line:A,column:L,offset:k,_index:Y,_bufferIndex:Z}=r;return{line:A,column:L,offset:k,_index:Y,_bufferIndex:Z}}function _(A){i[A.line]=A.column,I()}function T(){let A;for(;r._index<s.length;){const L=s[r._index];if(typeof L=="string")for(A=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===A&&r._bufferIndex<L.length;)y(L.charCodeAt(r._bufferIndex));else y(L)}}function y(A){d=d(A)}function E(A){te(A)?(r.line++,r.column=1,r.offset+=A===-3?2:1,I()):A!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=A}function w(A,L){const k=L||{};return k.type=A,k.start=m(),u.events.push(["enter",k,u]),a.push(k),k}function M(A){const L=a.pop();return L.end=m(),u.events.push(["exit",L,u]),L}function F(A,L){x(A,L.from)}function P(A,L){L.restore()}function b(A,L){return k;function k(Y,Z,re){let ne,z,W,N;return Array.isArray(Y)?ue(Y):"tokenize"in Y?ue([Y]):de(Y);function de(Ce){return ht;function ht(gn){const Wn=gn!==null&&Ce[gn],Zt=gn!==null&&Ce.null,kn=[...Array.isArray(Wn)?Wn:Wn?[Wn]:[],...Array.isArray(Zt)?Zt:Zt?[Zt]:[]];return ue(kn)(gn)}}function ue(Ce){return ne=Ce,z=0,Ce.length===0?re:O(Ce[z])}function O(Ce){return ht;function ht(gn){return N=C(),W=Ce,Ce.partial||(u.currentConstruct=Ce),Ce.name&&u.parser.constructs.disable.null.includes(Ce.name)?Ue():Ce.tokenize.call(L?Object.assign(Object.create(u),L):u,l,ye,Ue)(gn)}}function ye(Ce){return A(W,N),Z}function Ue(Ce){return N.restore(),++z<ne.length?O(ne[z]):re}}}function x(A,L){A.resolveAll&&!o.includes(A)&&o.push(A),A.resolve&&Tn(u.events,L,u.events.length-L,A.resolve(u.events.slice(L),u)),A.resolveTo&&(u.events=A.resolveTo(u.events,u))}function C(){const A=m(),L=u.previous,k=u.currentConstruct,Y=u.events.length,Z=Array.from(a);return{restore:re,from:Y};function re(){r=A,u.previous=L,u.currentConstruct=k,u.events.length=Y,a=Z,I()}}function I(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function hU(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let s;if(n===i)s=[e[n].slice(r,o)];else{if(s=e.slice(n,i),r>-1){const a=s[0];typeof a=="string"?s[0]=a.slice(r):s.shift()}o>0&&s.push(e[i].slice(0,o))}return s}function pU(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let s;if(typeof o=="string")s=o;else switch(o){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(o)}i=o===-2,r.push(s)}return r.join("")}const mU={42:Gt,43:Gt,45:Gt,48:Gt,49:Gt,50:Gt,51:Gt,52:Gt,53:Gt,54:Gt,55:Gt,56:Gt,57:Gt,62:VC},gU={91:y$},yU={[-2]:Oh,[-1]:Oh,32:Oh},_U={35:I$,42:Rc,45:[xE,Rc],60:R$,61:xE,95:Rc,96:IE,126:IE},vU={38:UC,92:$C},EU={[-5]:Lh,[-4]:Lh,[-3]:Lh,33:G$,38:UC,42:Om,60:[W4,O$],91:W$,92:[w$,$C],93:t_,95:Om,96:s$},wU={null:[Om,lU]},SU={null:[42,95]},IU={null:[]},TU=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:SU,contentInitial:gU,disable:IU,document:mU,flow:_U,flowInitial:yU,insideSpan:wU,string:vU,text:EU},Symbol.toStringTag,{value:"Module"}));function xU(e){const n=MC([TU,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(U4),document:i(j4),flow:i(sU),string:i(uU),text:i(cU)};return r;function i(o){return s;function s(a){return fU(r,o,a)}}}function CU(e){for(;!zC(e););return e}const CE=/[\0\t\n\r]/g;function RU(){let e=1,t="",n=!0,r;return i;function i(o,s,a){const l=[];let u,d,f,p,h;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(s||void 0).decode(o)),f=0,t="",n&&(o.charCodeAt(0)===65279&&f++,n=void 0);f<o.length;){if(CE.lastIndex=f,u=CE.exec(o),p=u&&u.index!==void 0?u.index:o.length,h=o.charCodeAt(p),!u){t=o.slice(f);break}if(h===10&&f===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<p&&(l.push(o.slice(f,p)),e+=p-f),h){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=p+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const bU=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function AU(e){return e.replace(bU,kU)}function kU(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return FC(n.slice(o?2:1),o?16:10)}return e_(n)||e}const WC={}.hasOwnProperty;function PU(e,t,n){return typeof t!="string"&&(n=t,t=void 0),DU(n)(CU(xU(n).document().write(RU()(e,t,!0))))}function DU(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Zs),autolinkProtocol:C,autolinkEmail:C,atxHeading:o(Ur),blockQuote:o(Zt),characterEscape:C,characterReference:C,codeFenced:o(kn),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:o(kn,s),codeText:o(Re,s),codeTextData:C,data:C,codeFlowValue:C,definition:o(Be),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:o(St),hardBreakEscape:o(Js),hardBreakTrailing:o(Js),htmlFlow:o(ou,s),htmlFlowData:C,htmlText:o(ou,s),htmlTextData:C,image:o(Pf),label:s,link:o(Zs),listItem:o(su),listItemValue:p,listOrdered:o(bo,f),listUnordered:o(bo),paragraph:o(Df),reference:O,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:o(Ur),strong:o(ea),thematicBreak:o(au)},exit:{atxHeading:l(),atxHeadingSequence:F,autolink:l(),autolinkEmail:Wn,autolinkProtocol:gn,blockQuote:l(),characterEscapeValue:I,characterReferenceMarkerHexadecimal:Ue,characterReferenceMarkerNumeric:Ue,characterReferenceValue:Ce,characterReference:ht,codeFenced:l(T),codeFencedFence:_,codeFencedFenceInfo:h,codeFencedFenceMeta:m,codeFlowValue:I,codeIndented:l(y),codeText:l(Z),codeTextData:I,data:I,definition:l(),definitionDestinationString:M,definitionLabelString:E,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(L),hardBreakTrailing:l(L),htmlFlow:l(k),htmlFlowData:I,htmlText:l(Y),htmlTextData:I,image:l(ne),label:W,labelText:z,lineEnding:A,link:l(re),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:ye,resourceDestinationString:N,resourceTitleString:de,resource:ue,setextHeading:l(x),setextHeadingLineSequence:b,setextHeadingText:P,strong:l(),thematicBreak:l()}};KC(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(U){let H={type:"root",children:[]};const ie={stack:[H],tokenStack:[],config:t,enter:a,exit:u,buffer:s,resume:d,data:n},pe=[];let be=-1;for(;++be<U.length;)if(U[be][1].type==="listOrdered"||U[be][1].type==="listUnordered")if(U[be][0]==="enter")pe.push(be);else{const en=pe.pop();be=i(U,en,be)}for(be=-1;++be<U.length;){const en=t[U[be][0]];WC.call(en,U[be][1].type)&&en[U[be][1].type].call(Object.assign({sliceSerialize:U[be][2].sliceSerialize},ie),U[be][1])}if(ie.tokenStack.length>0){const en=ie.tokenStack[ie.tokenStack.length-1];(en[1]||RE).call(ie,void 0,en[0])}for(H.position={start:Kr(U.length>0?U[0][1].start:{line:1,column:1,offset:0}),end:Kr(U.length>0?U[U.length-2][1].end:{line:1,column:1,offset:0})},be=-1;++be<t.transforms.length;)H=t.transforms[be](H)||H;return H}function i(U,H,ie){let pe=H-1,be=-1,en=!1,tn,yn,zr,fr;for(;++pe<=ie;){const Ft=U[pe];switch(Ft[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ft[0]==="enter"?be++:be--,fr=void 0;break}case"lineEndingBlank":{Ft[0]==="enter"&&(tn&&!fr&&!be&&!zr&&(zr=pe),fr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:fr=void 0}if(!be&&Ft[0]==="enter"&&Ft[1].type==="listItemPrefix"||be===-1&&Ft[0]==="exit"&&(Ft[1].type==="listUnordered"||Ft[1].type==="listOrdered")){if(tn){let jr=pe;for(yn=void 0;jr--;){const nn=U[jr];if(nn[1].type==="lineEnding"||nn[1].type==="lineEndingBlank"){if(nn[0]==="exit")continue;yn&&(U[yn][1].type="lineEndingBlank",en=!0),nn[1].type="lineEnding",yn=jr}else if(!(nn[1].type==="linePrefix"||nn[1].type==="blockQuotePrefix"||nn[1].type==="blockQuotePrefixWhitespace"||nn[1].type==="blockQuoteMarker"||nn[1].type==="listItemIndent"))break}zr&&(!yn||zr<yn)&&(tn._spread=!0),tn.end=Object.assign({},yn?U[yn][1].start:Ft[1].end),U.splice(yn||pe,0,["exit",tn,Ft[2]]),pe++,ie++}if(Ft[1].type==="listItemPrefix"){const jr={type:"listItem",_spread:!1,start:Object.assign({},Ft[1].start),end:void 0};tn=jr,U.splice(pe,0,["enter",jr,Ft[2]]),pe++,ie++,zr=void 0,fr=!0}}}return U[H][1]._spread=en,ie}function o(U,H){return ie;function ie(pe){a.call(this,U(pe),pe),H&&H.call(this,pe)}}function s(){this.stack.push({type:"fragment",children:[]})}function a(U,H,ie){this.stack[this.stack.length-1].children.push(U),this.stack.push(U),this.tokenStack.push([H,ie||void 0]),U.position={start:Kr(H.start),end:void 0}}function l(U){return H;function H(ie){U&&U.call(this,ie),u.call(this,ie)}}function u(U,H){const ie=this.stack.pop(),pe=this.tokenStack.pop();if(pe)pe[0].type!==U.type&&(H?H.call(this,U,pe[0]):(pe[1]||RE).call(this,U,pe[0]));else throw new Error("Cannot close `"+U.type+"` ("+Qa({start:U.start,end:U.end})+"): its not open");ie.position.end=Kr(U.end)}function d(){return Zy(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(U){if(this.data.expectingFirstListItemValue){const H=this.stack[this.stack.length-2];H.start=Number.parseInt(this.sliceSerialize(U),10),this.data.expectingFirstListItemValue=void 0}}function h(){const U=this.resume(),H=this.stack[this.stack.length-1];H.lang=U}function m(){const U=this.resume(),H=this.stack[this.stack.length-1];H.meta=U}function _(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function T(){const U=this.resume(),H=this.stack[this.stack.length-1];H.value=U.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const U=this.resume(),H=this.stack[this.stack.length-1];H.value=U.replace(/(\r?\n|\r)$/g,"")}function E(U){const H=this.resume(),ie=this.stack[this.stack.length-1];ie.label=H,ie.identifier=$n(this.sliceSerialize(U)).toLowerCase()}function w(){const U=this.resume(),H=this.stack[this.stack.length-1];H.title=U}function M(){const U=this.resume(),H=this.stack[this.stack.length-1];H.url=U}function F(U){const H=this.stack[this.stack.length-1];if(!H.depth){const ie=this.sliceSerialize(U).length;H.depth=ie}}function P(){this.data.setextHeadingSlurpLineEnding=!0}function b(U){const H=this.stack[this.stack.length-1];H.depth=this.sliceSerialize(U).codePointAt(0)===61?1:2}function x(){this.data.setextHeadingSlurpLineEnding=void 0}function C(U){const ie=this.stack[this.stack.length-1].children;let pe=ie[ie.length-1];(!pe||pe.type!=="text")&&(pe=ta(),pe.position={start:Kr(U.start),end:void 0},ie.push(pe)),this.stack.push(pe)}function I(U){const H=this.stack.pop();H.value+=this.sliceSerialize(U),H.position.end=Kr(U.end)}function A(U){const H=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ie=H.children[H.children.length-1];ie.position.end=Kr(U.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(H.type)&&(C.call(this,U),I.call(this,U))}function L(){this.data.atHardBreak=!0}function k(){const U=this.resume(),H=this.stack[this.stack.length-1];H.value=U}function Y(){const U=this.resume(),H=this.stack[this.stack.length-1];H.value=U}function Z(){const U=this.resume(),H=this.stack[this.stack.length-1];H.value=U}function re(){const U=this.stack[this.stack.length-1];if(this.data.inReference){const H=this.data.referenceType||"shortcut";U.type+="Reference",U.referenceType=H,delete U.url,delete U.title}else delete U.identifier,delete U.label;this.data.referenceType=void 0}function ne(){const U=this.stack[this.stack.length-1];if(this.data.inReference){const H=this.data.referenceType||"shortcut";U.type+="Reference",U.referenceType=H,delete U.url,delete U.title}else delete U.identifier,delete U.label;this.data.referenceType=void 0}function z(U){const H=this.sliceSerialize(U),ie=this.stack[this.stack.length-2];ie.label=AU(H),ie.identifier=$n(H).toLowerCase()}function W(){const U=this.stack[this.stack.length-1],H=this.resume(),ie=this.stack[this.stack.length-1];if(this.data.inReference=!0,ie.type==="link"){const pe=U.children;ie.children=pe}else ie.alt=H}function N(){const U=this.resume(),H=this.stack[this.stack.length-1];H.url=U}function de(){const U=this.resume(),H=this.stack[this.stack.length-1];H.title=U}function ue(){this.data.inReference=void 0}function O(){this.data.referenceType="collapsed"}function ye(U){const H=this.resume(),ie=this.stack[this.stack.length-1];ie.label=H,ie.identifier=$n(this.sliceSerialize(U)).toLowerCase(),this.data.referenceType="full"}function Ue(U){this.data.characterReferenceType=U.type}function Ce(U){const H=this.sliceSerialize(U),ie=this.data.characterReferenceType;let pe;ie?(pe=FC(H,ie==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):pe=e_(H);const be=this.stack[this.stack.length-1];be.value+=pe}function ht(U){const H=this.stack.pop();H.position.end=Kr(U.end)}function gn(U){I.call(this,U);const H=this.stack[this.stack.length-1];H.url=this.sliceSerialize(U)}function Wn(U){I.call(this,U);const H=this.stack[this.stack.length-1];H.url="mailto:"+this.sliceSerialize(U)}function Zt(){return{type:"blockquote",children:[]}}function kn(){return{type:"code",lang:null,meta:null,value:""}}function Re(){return{type:"inlineCode",value:""}}function Be(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function St(){return{type:"emphasis",children:[]}}function Ur(){return{type:"heading",depth:0,children:[]}}function Js(){return{type:"break"}}function ou(){return{type:"html",value:""}}function Pf(){return{type:"image",title:null,url:"",alt:null}}function Zs(){return{type:"link",title:null,url:"",children:[]}}function bo(U){return{type:"list",ordered:U.type==="listOrdered",start:null,spread:U._spread,children:[]}}function su(U){return{type:"listItem",spread:U._spread,checked:null,children:[]}}function Df(){return{type:"paragraph",children:[]}}function ea(){return{type:"strong",children:[]}}function ta(){return{type:"text",value:""}}function au(){return{type:"thematicBreak"}}}function Kr(e){return{line:e.line,column:e.column,offset:e.offset}}function KC(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?KC(e,r):NU(e,r)}}function NU(e,t){let n;for(n in t)if(WC.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function RE(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Qa({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Qa({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Qa({start:t.start,end:t.end})+") is still open")}function OU(e){const t=this;t.parser=n;function n(r){return PU(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function LU(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function MU(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function FU(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function VU(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function $U(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function UU(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=qs(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let s,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=o+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function zU(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function jU(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function XC(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function BU(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return XC(e,t);const i={src:qs(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function HU(e,t){const n={src:qs(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function GU(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function qU(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return XC(e,t);const i={href:qs(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function WU(e,t){const n={href:qs(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function KU(e,t,n){const r=e.all(t),i=n?XU(n):QC(t),o={},s=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const d=r[a];(i||a!==0||d.type!=="element"||d.tagName!=="p")&&s.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?s.push(...d.children):s.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:s};return e.patch(t,u),e.applyData(t,u)}function XU(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=QC(n[r])}return t}function QC(e){const t=e.spread;return t??e.children.length>1}function QU(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function YU(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function JU(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function ZU(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ez(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=Xy(t.children[1]),l=AC(t.children[t.children.length-1]);a&&l&&(s.position={start:a,end:l}),i.push(s)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function tz(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,a=s?s.length:t.children.length;let l=-1;const u=[];for(;++l<a;){const f=t.children[l],p={},h=s?s[l]:void 0;h&&(p.align=h);let m={type:"element",tagName:o,properties:p,children:[]};f&&(m.children=e.all(f),e.patch(f,m),m=e.applyData(f,m)),u.push(m)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function nz(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const bE=9,AE=32;function rz(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(kE(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(kE(t.slice(i),i>0,!1)),o.join("")}function kE(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===bE||o===AE;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===bE||o===AE;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function iz(e,t){const n={type:"text",value:rz(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function oz(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const sz={blockquote:LU,break:MU,code:FU,delete:VU,emphasis:$U,footnoteReference:UU,heading:zU,html:jU,imageReference:BU,image:HU,inlineCode:GU,linkReference:qU,link:WU,listItem:KU,list:QU,paragraph:YU,root:JU,strong:ZU,table:ez,tableCell:nz,tableRow:tz,text:iz,thematicBreak:oz,toml:Ku,yaml:Ku,definition:Ku,footnoteDefinition:Ku};function Ku(){}const YC=-1,vf=0,Ed=1,wd=2,n_=3,r_=4,i_=5,o_=6,JC=7,ZC=8,PE=typeof self=="object"?self:globalThis,az=(e,t)=>{const n=(i,o)=>(e.set(o,i),i),r=i=>{if(e.has(i))return e.get(i);const[o,s]=t[i];switch(o){case vf:case YC:return n(s,i);case Ed:{const a=n([],i);for(const l of s)a.push(r(l));return a}case wd:{const a=n({},i);for(const[l,u]of s)a[r(l)]=r(u);return a}case n_:return n(new Date(s),i);case r_:{const{source:a,flags:l}=s;return n(new RegExp(a,l),i)}case i_:{const a=n(new Map,i);for(const[l,u]of s)a.set(r(l),r(u));return a}case o_:{const a=n(new Set,i);for(const l of s)a.add(r(l));return a}case JC:{const{name:a,message:l}=s;return n(new PE[a](l),i)}case ZC:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i)}return n(new PE[o](s),i)};return r},DE=e=>az(new Map,e)(0),Oo="",{toString:lz}={},{keys:uz}=Object,Ta=e=>{const t=typeof e;if(t!=="object"||!e)return[vf,t];const n=lz.call(e).slice(8,-1);switch(n){case"Array":return[Ed,Oo];case"Object":return[wd,Oo];case"Date":return[n_,Oo];case"RegExp":return[r_,Oo];case"Map":return[i_,Oo];case"Set":return[o_,Oo]}return n.includes("Array")?[Ed,n]:n.includes("Error")?[JC,n]:[wd,n]},Xu=([e,t])=>e===vf&&(t==="function"||t==="symbol"),cz=(e,t,n,r)=>{const i=(s,a)=>{const l=r.push(s)-1;return n.set(a,l),l},o=s=>{if(n.has(s))return n.get(s);let[a,l]=Ta(s);switch(a){case vf:{let d=s;switch(l){case"bigint":a=ZC,d=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([YC],s)}return i([a,d],s)}case Ed:{if(l)return i([l,[...s]],s);const d=[],f=i([a,d],s);for(const p of s)d.push(o(p));return f}case wd:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(t&&"toJSON"in s)return o(s.toJSON());const d=[],f=i([a,d],s);for(const p of uz(s))(e||!Xu(Ta(s[p])))&&d.push([o(p),o(s[p])]);return f}case n_:return i([a,s.toISOString()],s);case r_:{const{source:d,flags:f}=s;return i([a,{source:d,flags:f}],s)}case i_:{const d=[],f=i([a,d],s);for(const[p,h]of s)(e||!(Xu(Ta(p))||Xu(Ta(h))))&&d.push([o(p),o(h)]);return f}case o_:{const d=[],f=i([a,d],s);for(const p of s)(e||!Xu(Ta(p)))&&d.push(o(p));return f}}const{message:u}=s;return i([a,{name:l,message:u}],s)};return o},NE=(e,{json:t,lossy:n}={})=>{const r=[];return cz(!(t||n),!!t,new Map,r)(e),r},Sd=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?DE(NE(e,t)):structuredClone(e):(e,t)=>DE(NE(e,t));function dz(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function fz(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function hz(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||dz,r=e.options.footnoteBackLabel||fz,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const d=e.all(u),f=String(u.identifier).toUpperCase(),p=qs(f.toLowerCase());let h=0;const m=[],_=e.footnoteCounts.get(f);for(;_!==void 0&&++h<=_;){m.length>0&&m.push({type:"text",value:" "});let E=typeof n=="string"?n:n(l,h);typeof E=="string"&&(E={type:"text",value:E}),m.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,h),className:["data-footnote-backref"]},children:Array.isArray(E)?E:[E]})}const T=d[d.length-1];if(T&&T.type==="element"&&T.tagName==="p"){const E=T.children[T.children.length-1];E&&E.type==="text"?E.value+=" ":T.children.push({type:"text",value:" "}),T.children.push(...m)}else d.push(...m);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(d,!0)};e.patch(u,y),a.push(y)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Sd(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const Ef=function(e){if(e==null)return yz;if(typeof e=="function")return wf(e);if(typeof e=="object")return Array.isArray(e)?pz(e):mz(e);if(typeof e=="string")return gz(e);throw new Error("Expected function, string, or object as test")};function pz(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Ef(e[n]);return wf(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function mz(e){const t=e;return wf(n);function n(r){const i=r;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function gz(e){return wf(t);function t(n){return n&&n.type===e}}function wf(e){return t;function t(n,r,i){return!!(_z(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function yz(){return!0}function _z(e){return e!==null&&typeof e=="object"&&"type"in e}const eR=[],vz=!0,Lm=!1,Ez="skip";function tR(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const o=Ef(i),s=r?-1:1;a(e,void 0,[])();function a(l,u,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(h?"<"+h+">":""))+")"})}return p;function p(){let h=eR,m,_,T;if((!t||o(l,u,d[d.length-1]||void 0))&&(h=wz(n(l,d)),h[0]===Lm))return h;if("children"in l&&l.children){const y=l;if(y.children&&h[0]!==Ez)for(_=(r?y.children.length:-1)+s,T=d.concat(y);_>-1&&_<y.children.length;){const E=y.children[_];if(m=a(E,_,T)(),m[0]===Lm)return m;_=typeof m[1]=="number"?m[1]:_+s}}return h}}}function wz(e){return Array.isArray(e)?e:typeof e=="number"?[vz,e]:e==null?eR:[e]}function s_(e,t,n,r){let i,o,s;typeof t=="function"&&typeof n!="function"?(o=void 0,s=t,i=n):(o=t,s=n,i=r),tR(e,o,a,i);function a(l,u){const d=u[u.length-1],f=d?d.children.indexOf(l):void 0;return s(l,f,d)}}const Mm={}.hasOwnProperty,Sz={};function Iz(e,t){const n=t||Sz,r=new Map,i=new Map,o=new Map,s={...sz,...n.handlers},a={all:u,applyData:xz,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:s,one:l,options:n,patch:Tz,wrap:Rz};return s_(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,p=String(d.identifier).toUpperCase();f.has(p)||f.set(p,d)}}),a;function l(d,f){const p=d.type,h=a.handlers[p];if(Mm.call(a.handlers,p)&&h)return h(a,d,f);if(a.options.passThrough&&a.options.passThrough.includes(p)){if("children"in d){const{children:_,...T}=d,y=Sd(T);return y.children=a.all(d),y}return Sd(d)}return(a.options.unknownHandler||Cz)(a,d,f)}function u(d){const f=[];if("children"in d){const p=d.children;let h=-1;for(;++h<p.length;){const m=a.one(p[h],d);if(m){if(h&&p[h-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=OE(m.value)),!Array.isArray(m)&&m.type==="element")){const _=m.children[0];_&&_.type==="text"&&(_.value=OE(_.value))}Array.isArray(m)?f.push(...m):f.push(m)}}}return f}}function Tz(e,t){e.position&&(t.position=c4(e))}function xz(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&o&&Object.assign(n.properties,Sd(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Cz(e,t){const n=t.data||{},r="value"in t&&!(Mm.call(n,"hProperties")||Mm.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Rz(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function OE(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function LE(e,t){const n=Iz(e,t),r=n.one(e,void 0),i=hz(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function bz(e,t){return e&&"run"in e?async function(n,r){const i=LE(n,{file:r,...t});await e.run(i,r)}:function(n,r){return LE(n,{file:r,...e||t})}}function ME(e){if(e)throw e}var bc=Object.prototype.hasOwnProperty,nR=Object.prototype.toString,FE=Object.defineProperty,VE=Object.getOwnPropertyDescriptor,$E=function(t){return typeof Array.isArray=="function"?Array.isArray(t):nR.call(t)==="[object Array]"},UE=function(t){if(!t||nR.call(t)!=="[object Object]")return!1;var n=bc.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&bc.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||bc.call(t,i)},zE=function(t,n){FE&&n.name==="__proto__"?FE(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},jE=function(t,n){if(n==="__proto__")if(bc.call(t,n)){if(VE)return VE(t,n).value}else return;return t[n]},Az=function e(){var t,n,r,i,o,s,a=arguments[0],l=1,u=arguments.length,d=!1;for(typeof a=="boolean"&&(d=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=jE(a,n),i=jE(t,n),a!==i&&(d&&i&&(UE(i)||(o=$E(i)))?(o?(o=!1,s=r&&$E(r)?r:[]):s=r&&UE(r)?r:{},zE(a,{name:n,newValue:e(d,s,i)})):typeof i<"u"&&zE(a,{name:n,newValue:i}));return a};const Mh=Dw(Az);function Fm(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function kz(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);a(null,...i);function a(l,...u){const d=e[++o];let f=-1;if(l){s(l);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,d?Pz(d,a)(...u):s(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function Pz(e,t){let n;return r;function r(...s){const a=e.length>s.length;let l;a&&s.push(i);try{l=e.apply(this,s)}catch(u){const d=u;if(a&&n)throw d;return i(d)}a||(l&&l.then&&typeof l.then=="function"?l.then(o,i):l instanceof Error?i(l):o(l))}function i(s,...a){n||(n=!0,t(s,...a))}function o(s){i(null,s)}}const Qn={basename:Dz,dirname:Nz,extname:Oz,join:Lz,sep:"/"};function Dz(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Jl(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else s<0&&(o=!0,s=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function Nz(e){if(Jl(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Oz(e){Jl(e);let t=e.length,n=-1,r=0,i=-1,o=0,s;for(;t--;){const a=e.codePointAt(t);if(a===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),a===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function Lz(...e){let t=-1,n;for(;++t<e.length;)Jl(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Mz(n)}function Mz(e){Jl(e);const t=e.codePointAt(0)===47;let n=Fz(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Fz(e,t){let n="",r=0,i=-1,o=0,s=-1,a,l;for(;++s<=e.length;){if(s<e.length)a=e.codePointAt(s);else{if(a===47)break;a=47}if(a===47){if(!(i===s-1||o===1))if(i!==s-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,o=0;continue}}else if(n.length>0){n="",r=0,i=s,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,o=0}else a===46&&o>-1?o++:o=-1}return n}function Jl(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Vz={cwd:$z};function $z(){return"/"}function Vm(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Uz(e){if(typeof e=="string")e=new URL(e);else if(!Vm(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return zz(e)}function zz(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Fh=["history","path","basename","stem","extname","dirname"];class rR{constructor(t){let n;t?Vm(t)?n={path:t}:typeof t=="string"||jz(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Vz.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Fh.length;){const o=Fh[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)Fh.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Qn.basename(this.path):void 0}set basename(t){$h(t,"basename"),Vh(t,"basename"),this.path=Qn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Qn.dirname(this.path):void 0}set dirname(t){BE(this.basename,"dirname"),this.path=Qn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Qn.extname(this.path):void 0}set extname(t){if(Vh(t,"extname"),BE(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Qn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Vm(t)&&(t=Uz(t)),$h(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Qn.basename(this.path,this.extname):void 0}set stem(t){$h(t,"stem"),Vh(t,"stem"),this.path=Qn.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Mt(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Vh(e,t){if(e&&e.includes(Qn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Qn.sep+"`")}function $h(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function BE(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function jz(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Bz=function(e){const r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},Hz={}.hasOwnProperty;class a_ extends Bz{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=kz()}copy(){const t=new a_;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Mh(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(jh("data",this.frozen),this.namespace[t]=n,this):Hz.call(this.namespace,t)&&this.namespace[t]||void 0:t?(jh("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Qu(t),r=this.parser||this.Parser;return Uh("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Uh("process",this.parser||this.Parser),zh("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,s){const a=Qu(t),l=r.parse(a);r.run(l,a,function(d,f,p){if(d||!f||!p)return u(d);const h=f,m=r.stringify(h,p);Wz(m)?p.value=m:p.result=m,u(d,p)});function u(d,f){d||!f?s(d):o?o(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Uh("processSync",this.parser||this.Parser),zh("processSync",this.compiler||this.Compiler),this.process(t,i),GE("processSync","process",n),r;function i(o,s){n=!0,ME(o),r=s}}run(t,n,r){HE(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(s,a){const l=Qu(n);i.run(t,l,u);function u(d,f,p){const h=f||t;d?a(d):s?s(h):r(void 0,h,p)}}}runSync(t,n){let r=!1,i;return this.run(t,n,o),GE("runSync","run",r),i;function o(s,a){ME(s),i=a,r=!0}}stringify(t,n){this.freeze();const r=Qu(n),i=this.compiler||this.Compiler;return zh("stringify",i),HE(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(jh("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...f]=u;l(d,f)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=Mh(!0,i.settings,u.settings))}function a(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const f=u[d];o(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,d){let f=-1,p=-1;for(;++f<r.length;)if(r[f][0]===u){p=f;break}if(p===-1)r.push([u,...d]);else if(d.length>0){let[h,...m]=d;const _=r[p][1];Fm(_)&&Fm(h)&&(h=Mh(!0,_,h)),r[p]=[u,h,...m]}}}}const Gz=new a_().freeze();function Uh(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function zh(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function jh(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function HE(e){if(!Fm(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function GE(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Qu(e){return qz(e)?e:new rR(e)}function qz(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Wz(e){return typeof e=="string"||Kz(e)}function Kz(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Xz="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",qE=[],WE={allowDangerousHtml:!0},Qz=/^(https?|ircs?|mailto|xmpp)$/i,Yz=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function KE(e){const t=e.allowedElements,n=e.allowElement,r=e.children||"",i=e.className,o=e.components,s=e.disallowedElements,a=e.rehypePlugins||qE,l=e.remarkPlugins||qE,u=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...WE}:WE,d=e.skipHtml,f=e.unwrapDisallowed,p=e.urlTransform||Jz,h=Gz().use(OU).use(l).use(bz,u).use(a),m=new rR;typeof r=="string"&&(m.value=r);for(const E of Yz)Object.hasOwn(e,E.from)&&(""+E.from+(E.to?"use `"+E.to+"` instead":"remove it")+Xz+E.id,void 0);const _=h.parse(m);let T=h.runSync(_,m);return i&&(T={type:"element",tagName:"div",properties:{className:i},children:T.type==="root"?T.children:[T]}),s_(T,y),g4(T,{Fragment:D.Fragment,components:o,ignoreInvalidStyle:!0,jsx:D.jsx,jsxs:D.jsxs,passKeys:!0,passNode:!0});function y(E,w,M){if(E.type==="raw"&&M&&typeof w=="number")return d?M.children.splice(w,1):M.children[w]={type:"text",value:E.value},w;if(E.type==="element"){let F;for(F in Nh)if(Object.hasOwn(Nh,F)&&Object.hasOwn(E.properties,F)){const P=E.properties[F],b=Nh[F];(b===null||b.includes(E.tagName))&&(E.properties[F]=p(String(P||""),F,E))}}if(E.type==="element"){let F=t?!t.includes(E.tagName):s?s.includes(E.tagName):!1;if(!F&&n&&typeof w=="number"&&(F=!n(E,w,M)),F&&M&&typeof w=="number")return f&&E.children?M.children.splice(w,1,...E.children):M.children.splice(w,1),w}}}function Jz(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t<0||i>-1&&t>i||n>-1&&t>n||r>-1&&t>r||Qz.test(e.slice(0,t))?e:""}function XE(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function Zz(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function iR(e,t,n){const i=Ef((n||{}).ignore||[]),o=e5(t);let s=-1;for(;++s<o.length;)tR(e,"text",a);function a(u,d){let f=-1,p;for(;++f<d.length;){const h=d[f],m=p?p.children:void 0;if(i(h,m?m.indexOf(h):void 0,p))return;p=h}if(p)return l(u,d)}function l(u,d){const f=d[d.length-1],p=o[s][0],h=o[s][1];let m=0;const T=f.children.indexOf(u);let y=!1,E=[];p.lastIndex=0;let w=p.exec(u.value);for(;w;){const M=w.index,F={index:w.index,input:w.input,stack:[...d,u]};let P=h(...w,F);if(typeof P=="string"&&(P=P.length>0?{type:"text",value:P}:void 0),P===!1?p.lastIndex=M+1:(m!==M&&E.push({type:"text",value:u.value.slice(m,M)}),Array.isArray(P)?E.push(...P):P&&E.push(P),m=M+w[0].length,y=!0),!p.global)break;w=p.exec(u.value)}return y?(m<u.value.length&&E.push({type:"text",value:u.value.slice(m)}),f.children.splice(T,1,...E)):E=[u],T+E.length}}function e5(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([t5(i[0]),n5(i[1])])}return t}function t5(e){return typeof e=="string"?new RegExp(Zz(e),"g"):e}function n5(e){return typeof e=="function"?e:function(){return e}}const Bh="phrasing",Hh=["autolink","link","image","label"];function r5(){return{transforms:[c5],enter:{literalAutolink:o5,literalAutolinkEmail:Gh,literalAutolinkHttp:Gh,literalAutolinkWww:Gh},exit:{literalAutolink:u5,literalAutolinkEmail:l5,literalAutolinkHttp:s5,literalAutolinkWww:a5}}}function i5(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Bh,notInConstruct:Hh},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Bh,notInConstruct:Hh},{character:":",before:"[ps]",after:"\\/",inConstruct:Bh,notInConstruct:Hh}]}}function o5(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Gh(e){this.config.enter.autolinkProtocol.call(this,e)}function s5(e){this.config.exit.autolinkProtocol.call(this,e)}function a5(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function l5(e){this.config.exit.autolinkEmail.call(this,e)}function u5(e){this.exit(e)}function c5(e){iR(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,d5],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),f5]],{ignore:["link","linkReference"]})}function d5(e,t,n,r,i){let o="";if(!oR(i)||(/^w/i.test(t)&&(n=t+n,t="",o="http://"),!h5(n)))return!1;const s=p5(n+r);if(!s[0])return!1;const a={type:"link",title:null,url:o+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[a,{type:"text",value:s[1]}]:a}function f5(e,t,n,r){return!oR(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function h5(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function p5(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=XE(e,"(");let o=XE(e,")");for(;r!==-1&&i>o;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[e,n]}function oR(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||go(n)||yf(n))&&(!t||n!==47)}sR.peek=x5;function m5(){return{enter:{gfmFootnoteDefinition:y5,gfmFootnoteDefinitionLabelString:_5,gfmFootnoteCall:w5,gfmFootnoteCallString:S5},exit:{gfmFootnoteDefinition:E5,gfmFootnoteDefinitionLabelString:v5,gfmFootnoteCall:T5,gfmFootnoteCallString:I5}}}function g5(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:C5,footnoteReference:sR}}}function y5(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function _5(){this.buffer()}function v5(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=t,n.identifier=$n(this.sliceSerialize(e)).toLowerCase()}function E5(e){this.exit(e)}function w5(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function S5(){this.buffer()}function I5(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=t,n.identifier=$n(this.sliceSerialize(e)).toLowerCase()}function T5(e){this.exit(e)}function sR(e,t,n,r){const i=n.createTracker(r);let o=i.move("[^");const s=n.enter("footnoteReference"),a=n.enter("reference");return o+=i.move(n.safe(n.associationId(e),{...i.current(),before:o,after:"]"})),a(),s(),o+=i.move("]"),o}function x5(){return"["}function C5(e,t,n,r){const i=n.createTracker(r);let o=i.move("[^");const s=n.enter("footnoteDefinition"),a=n.enter("label");return o+=i.move(n.safe(n.associationId(e),{...i.current(),before:o,after:"]"})),a(),o+=i.move("]:"+(e.children&&e.children.length>0?" ":"")),i.shift(4),o+=i.move(n.indentLines(n.containerFlow(e,i.current()),R5)),s(),o}function R5(e,t,n){return t===0?e:(n?"":"    ")+e}const b5=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];aR.peek=N5;function A5(){return{canContainEols:["delete"],enter:{strikethrough:P5},exit:{strikethrough:D5}}}function k5(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:b5}],handlers:{delete:aR}}}function P5(e){this.enter({type:"delete",children:[]},e)}function D5(e){this.exit(e)}function aR(e,t,n,r){const i=n.createTracker(r),o=n.enter("strikethrough");let s=i.move("~~");return s+=n.containerPhrasing(e,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),o(),s}function N5(){return"~"}function O5(e){return e.length}function L5(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||O5,o=[],s=[],a=[],l=[];let u=0,d=-1;for(;++d<e.length;){const _=[],T=[];let y=-1;for(e[d].length>u&&(u=e[d].length);++y<e[d].length;){const E=M5(e[d][y]);if(n.alignDelimiters!==!1){const w=i(E);T[y]=w,(l[y]===void 0||w>l[y])&&(l[y]=w)}_.push(E)}s[d]=_,a[d]=T}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<u;)o[f]=QE(r[f]);else{const _=QE(r);for(;++f<u;)o[f]=_}f=-1;const p=[],h=[];for(;++f<u;){const _=o[f];let T="",y="";_===99?(T=":",y=":"):_===108?T=":":_===114&&(y=":");let E=n.alignDelimiters===!1?1:Math.max(1,l[f]-T.length-y.length);const w=T+"-".repeat(E)+y;n.alignDelimiters!==!1&&(E=T.length+E+y.length,E>l[f]&&(l[f]=E),h[f]=E),p[f]=w}s.splice(1,0,p),a.splice(1,0,h),d=-1;const m=[];for(;++d<s.length;){const _=s[d],T=a[d];f=-1;const y=[];for(;++f<u;){const E=_[f]||"";let w="",M="";if(n.alignDelimiters!==!1){const F=l[f]-(T[f]||0),P=o[f];P===114?w=" ".repeat(F):P===99?F%2?(w=" ".repeat(F/2+.5),M=" ".repeat(F/2-.5)):(w=" ".repeat(F/2),M=w):M=" ".repeat(F)}n.delimiterStart!==!1&&!f&&y.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&E==="")&&(n.delimiterStart!==!1||f)&&y.push(" "),n.alignDelimiters!==!1&&y.push(w),y.push(E),n.alignDelimiters!==!1&&y.push(M),n.padding!==!1&&y.push(" "),(n.delimiterEnd!==!1||f!==u-1)&&y.push("|")}m.push(n.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return m.join(`
`)}function M5(e){return e==null?"":String(e)}function QE(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function F5(e,t,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const s=n.indentLines(n.containerFlow(e,o.current()),V5);return i(),s}function V5(e,t,n){return">"+(n?"":" ")+e}function $5(e,t){return YE(e,t.inConstruct,!0)&&!YE(e,t.notInConstruct,!1)}function YE(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function JE(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&$5(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function U5(e,t){const n=String(e);let r=n.indexOf(t),i=r,o=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>s&&(s=o):o=1,i=r+t.length,r=n.indexOf(t,i);return s}function z5(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function j5(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function B5(e,t,n,r){const i=j5(n),o=e.value||"",s=i==="`"?"GraveAccent":"Tilde";if(z5(e,n)){const f=n.enter("codeIndented"),p=n.indentLines(o,H5);return f(),p}const a=n.createTracker(r),l=i.repeat(Math.max(U5(o,i)+1,3)),u=n.enter("codeFenced");let d=a.move(l);if(e.lang){const f=n.enter(`codeFencedLang${s}`);d+=a.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...a.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${s}`);d+=a.move(" "),d+=a.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...a.current()})),f()}return d+=a.move(`
`),o&&(d+=a.move(o+`
`)),d+=a.move(l),u(),d}function H5(e,t,n){return(n?"":"    ")+e}function l_(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function G5(e,t,n,r){const i=l_(n),o=i==='"'?"Quote":"Apostrophe",s=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),a(),!e.url||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...l.current()}))),a(),e.title&&(a=n.enter(`title${o}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),s(),u}function q5(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Al(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Id(e,t,n){const r=bs(e),i=bs(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}lR.peek=W5;function lR(e,t,n,r){const i=q5(n),o=n.enter("emphasis"),s=n.createTracker(r),a=s.move(i);let l=s.move(n.containerPhrasing(e,{after:i,before:a,...s.current()}));const u=l.charCodeAt(0),d=Id(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(l=Al(u)+l.slice(1));const f=l.charCodeAt(l.length-1),p=Id(r.after.charCodeAt(0),f,i);p.inside&&(l=l.slice(0,-1)+Al(f));const h=s.move(i);return o(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},a+l+h}function W5(e,t,n){return n.options.emphasis||"*"}function K5(e,t){let n=!1;return s_(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Lm}),!!((!e.depth||e.depth<3)&&Zy(e)&&(t.options.setext||n))}function X5(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),o=n.createTracker(r);if(K5(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),p=n.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return f(),d(),p+`
`+(i===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const s="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");o.move(s+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(u)&&(u=Al(u.charCodeAt(0))+u.slice(1)),u=u?s+" "+u:s,n.options.closeAtx&&(u+=" "+s),l(),a(),u}uR.peek=Q5;function uR(e){return e.value||""}function Q5(){return"<"}cR.peek=Y5;function cR(e,t,n,r){const i=l_(n),o=i==='"'?"Quote":"Apostrophe",s=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),a(),e.title&&(a=n.enter(`title${o}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),u+=l.move(")"),s(),u}function Y5(){return"!"}dR.peek=J5;function dR(e,t,n,r){const i=e.referenceType,o=n.enter("imageReference");let s=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const u=n.safe(e.alt,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return s(),n.stack=d,o(),i==="full"||!u||u!==f?l+=a.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function J5(){return"!"}fR.peek=Z5;function fR(e,t,n){let r=e.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const s=n.unsafe[o],a=n.compilePattern(s);let l;if(s.atBreak)for(;l=a.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function Z5(){return"`"}function hR(e,t){const n=Zy(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}pR.peek=ej;function pR(e,t,n,r){const i=l_(n),o=i==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let a,l;if(hR(e,n)){const d=n.stack;n.stack=[],a=n.enter("autolink");let f=s.move("<");return f+=s.move(n.containerPhrasing(e,{before:f,after:">",...s.current()})),f+=s.move(">"),a(),n.stack=d,f}a=n.enter("link"),l=n.enter("label");let u=s.move("[");return u+=s.move(n.containerPhrasing(e,{before:u,after:"](",...s.current()})),u+=s.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=s.move("<"),u+=s.move(n.safe(e.url,{before:u,after:">",...s.current()})),u+=s.move(">")):(l=n.enter("destinationRaw"),u+=s.move(n.safe(e.url,{before:u,after:e.title?" ":")",...s.current()}))),l(),e.title&&(l=n.enter(`title${o}`),u+=s.move(" "+i),u+=s.move(n.safe(e.title,{before:u,after:i,...s.current()})),u+=s.move(i),l()),u+=s.move(")"),a(),u}function ej(e,t,n){return hR(e,n)?"<":"["}mR.peek=tj;function mR(e,t,n,r){const i=e.referenceType,o=n.enter("linkReference");let s=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const u=n.containerPhrasing(e,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return s(),n.stack=d,o(),i==="full"||!u||u!==f?l+=a.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function tj(){return"["}function u_(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function nj(e){const t=u_(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function rj(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function gR(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function ij(e,t,n,r){const i=n.enter("list"),o=n.bulletCurrent;let s=e.ordered?rj(n):u_(n);const a=e.ordered?s==="."?")":".":nj(n);let l=t&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((s==="*"||s==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),gR(n)===s&&d){let f=-1;for(;++f<e.children.length;){const p=e.children[f];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(s=a),n.bulletCurrent=s;const u=n.containerFlow(e,r);return n.bulletLastUsed=s,n.bulletCurrent=o,i(),u}function oj(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function sj(e,t,n,r){const i=oj(n);let o=n.bulletCurrent||u_(n);t&&t.type==="list"&&t.ordered&&(o=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+o);let s=o.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const a=n.createTracker(r);a.move(o+" ".repeat(s-o.length)),a.shift(s);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,a.current()),d);return l(),u;function d(f,p,h){return p?(h?"":" ".repeat(s))+f:(h?o:o+" ".repeat(s-o.length))+f}}function aj(e,t,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),s=n.containerPhrasing(e,r);return o(),i(),s}const lj=Ef(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function uj(e,t,n,r){return(e.children.some(function(s){return lj(s)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function cj(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}yR.peek=dj;function yR(e,t,n,r){const i=cj(n),o=n.enter("strong"),s=n.createTracker(r),a=s.move(i+i);let l=s.move(n.containerPhrasing(e,{after:i,before:a,...s.current()}));const u=l.charCodeAt(0),d=Id(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(l=Al(u)+l.slice(1));const f=l.charCodeAt(l.length-1),p=Id(r.after.charCodeAt(0),f,i);p.inside&&(l=l.slice(0,-1)+Al(f));const h=s.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},a+l+h}function dj(e,t,n){return n.options.strong||"*"}function fj(e,t,n,r){return n.safe(e.value,r)}function hj(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function pj(e,t,n){const r=(gR(n)+(n.options.ruleSpaces?" ":"")).repeat(hj(n));return n.options.ruleSpaces?r.slice(0,-1):r}const _R={blockquote:F5,break:JE,code:B5,definition:G5,emphasis:lR,hardBreak:JE,heading:X5,html:uR,image:cR,imageReference:dR,inlineCode:fR,link:pR,linkReference:mR,list:ij,listItem:sj,paragraph:aj,root:uj,strong:yR,text:fj,thematicBreak:pj};function mj(){return{enter:{table:gj,tableData:ZE,tableHeader:ZE,tableRow:_j},exit:{codeText:vj,table:yj,tableData:qh,tableHeader:qh,tableRow:qh}}}function gj(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function yj(e){this.exit(e),this.data.inTable=void 0}function _j(e){this.enter({type:"tableRow",children:[]},e)}function qh(e){this.exit(e)}function ZE(e){this.enter({type:"tableCell",children:[]},e)}function vj(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Ej));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Ej(e,t){return t==="|"?t:e}function wj(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:s,tableCell:l,tableRow:a}};function s(h,m,_,T){return u(d(h,_,T),h.align)}function a(h,m,_,T){const y=f(h,_,T),E=u([y]);return E.slice(0,E.indexOf(`
`))}function l(h,m,_,T){const y=_.enter("tableCell"),E=_.enter("phrasing"),w=_.containerPhrasing(h,{...T,before:o,after:o});return E(),y(),w}function u(h,m){return L5(h,{align:m,alignDelimiters:r,padding:n,stringLength:i})}function d(h,m,_){const T=h.children;let y=-1;const E=[],w=m.enter("table");for(;++y<T.length;)E[y]=f(T[y],m,_);return w(),E}function f(h,m,_){const T=h.children;let y=-1;const E=[],w=m.enter("tableRow");for(;++y<T.length;)E[y]=l(T[y],h,m,_);return w(),E}function p(h,m,_){let T=_R.inlineCode(h,m,_);return _.stack.includes("tableCell")&&(T=T.replace(/\|/g,"\\$&")),T}}function Sj(){return{exit:{taskListCheckValueChecked:ew,taskListCheckValueUnchecked:ew,paragraph:Tj}}}function Ij(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:xj}}}function ew(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Tj(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let o=-1,s;for(;++o<i.length;){const a=i[o];if(a.type==="paragraph"){s=a;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function xj(e,t,n,r){const i=e.children[0],o=typeof e.checked=="boolean"&&i&&i.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",a=n.createTracker(r);o&&a.move(s);let l=_R.listItem(e,t,n,{...r,...a.current()});return o&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(d){return d+s}}function Cj(){return[r5(),m5(),A5(),mj(),Sj()]}function Rj(e){return{extensions:[i5(),g5(),k5(),wj(e),Ij()]}}const bj={tokenize:Oj,partial:!0},vR={tokenize:Lj,partial:!0},ER={tokenize:Mj,partial:!0},wR={tokenize:Fj,partial:!0},Aj={tokenize:Vj,partial:!0},SR={name:"wwwAutolink",tokenize:Dj,previous:TR},IR={name:"protocolAutolink",tokenize:Nj,previous:xR},Vr={name:"emailAutolink",tokenize:Pj,previous:CR},ur={};function kj(){return{text:ur}}let Gi=48;for(;Gi<123;)ur[Gi]=Vr,Gi++,Gi===58?Gi=65:Gi===91&&(Gi=97);ur[43]=Vr;ur[45]=Vr;ur[46]=Vr;ur[95]=Vr;ur[72]=[Vr,IR];ur[104]=[Vr,IR];ur[87]=[Vr,SR];ur[119]=[Vr,SR];function Pj(e,t,n){const r=this;let i,o;return s;function s(f){return!$m(f)||!CR.call(r,r.previous)||c_(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(f))}function a(f){return $m(f)?(e.consume(f),a):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(Aj,d,u)(f):f===45||f===95||Nt(f)?(o=!0,e.consume(f),l):d(f)}function u(f){return e.consume(f),i=!0,l}function d(f){return o&&i&&Ut(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function Dj(e,t,n){const r=this;return i;function i(s){return s!==87&&s!==119||!TR.call(r,r.previous)||c_(r.events)?n(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(bj,e.attempt(vR,e.attempt(ER,o),n),n)(s))}function o(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function Nj(e,t,n){const r=this;let i="",o=!1;return s;function s(f){return(f===72||f===104)&&xR.call(r,r.previous)&&!c_(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),a):n(f)}function a(f){if(Ut(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),a;if(f===58){const p=i.toLowerCase();if(p==="http"||p==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),o?u:(o=!0,l)):n(f)}function u(f){return f===null||vd(f)||Ne(f)||go(f)||yf(f)?n(f):e.attempt(vR,e.attempt(ER,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function Oj(e,t,n){let r=0;return i;function i(s){return(s===87||s===119)&&r<3?(r++,e.consume(s),i):s===46&&r===3?(e.consume(s),o):n(s)}function o(s){return s===null?n(s):t(s)}}function Lj(e,t,n){let r,i,o;return s;function s(u){return u===46||u===95?e.check(wR,l,a)(u):u===null||Ne(u)||go(u)||u!==45&&yf(u)?l(u):(o=!0,e.consume(u),s)}function a(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),s}function l(u){return i||r||!o?n(u):t(u)}}function Mj(e,t){let n=0,r=0;return i;function i(s){return s===40?(n++,e.consume(s),i):s===41&&r<n?o(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(wR,t,o)(s):s===null||Ne(s)||go(s)?t(s):(e.consume(s),i)}function o(s){return s===41&&r++,e.consume(s),i}}function Fj(e,t,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(e.consume(a),r):a===38?(e.consume(a),o):a===93?(e.consume(a),i):a===60||a===null||Ne(a)||go(a)?t(a):n(a)}function i(a){return a===null||a===40||a===91||Ne(a)||go(a)?t(a):r(a)}function o(a){return Ut(a)?s(a):n(a)}function s(a){return a===59?(e.consume(a),r):Ut(a)?(e.consume(a),s):n(a)}}function Vj(e,t,n){return r;function r(o){return e.consume(o),i}function i(o){return Nt(o)?n(o):t(o)}}function TR(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Ne(e)}function xR(e){return!Ut(e)}function CR(e){return!(e===47||$m(e))}function $m(e){return e===43||e===45||e===46||e===95||Nt(e)}function c_(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const $j={tokenize:Wj,partial:!0};function Uj(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Hj,continuation:{tokenize:Gj},exit:qj}},text:{91:{name:"gfmFootnoteCall",tokenize:Bj},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:zj,resolveTo:jj}}}}function zj(e,t,n){const r=this;let i=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){s=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!s||!s._balanced)return n(l);const u=$n(r.sliceSerialize({start:s.end,end:r.now()}));return u.codePointAt(0)!==94||!o.includes(u.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function jj(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},a=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",o,t],["enter",s,t],["exit",s,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...a),e}function Bj(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,s;return a;function a(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(f){if(o>999||f===93&&!s||f===null||f===91||Ne(f))return n(f);if(f===93){e.exit("chunkString");const p=e.exit("gfmFootnoteCallString");return i.includes($n(r.sliceSerialize(p)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Ne(f)||(s=!0),o++,e.consume(f),f===92?d:u}function d(f){return f===91||f===92||f===93?(e.consume(f),o++,u):u(f)}}function Hj(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,s=0,a;return l;function l(m){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(m){return m===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(m)}function d(m){if(s>999||m===93&&!a||m===null||m===91||Ne(m))return n(m);if(m===93){e.exit("chunkString");const _=e.exit("gfmFootnoteDefinitionLabelString");return o=$n(r.sliceSerialize(_)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),p}return Ne(m)||(a=!0),s++,e.consume(m),m===92?f:d}function f(m){return m===91||m===92||m===93?(e.consume(m),s++,d):d(m)}function p(m){return m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),i.includes(o)||i.push(o),Se(e,h,"gfmFootnoteDefinitionWhitespace")):n(m)}function h(m){return t(m)}}function Gj(e,t,n){return e.check(Yl,t,e.attempt($j,t,n))}function qj(e){e.exit("gfmFootnoteDefinition")}function Wj(e,t,n){const r=this;return Se(e,i,"gfmFootnoteDefinitionIndent",5);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(o):n(o)}}function Kj(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(s,a){let l=-1;for(;++l<s.length;)if(s[l][0]==="enter"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._close){let u=l;for(;u--;)if(s[u][0]==="exit"&&s[u][1].type==="strikethroughSequenceTemporary"&&s[u][1]._open&&s[l][1].end.offset-s[l][1].start.offset===s[u][1].end.offset-s[u][1].start.offset){s[l][1].type="strikethroughSequence",s[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},s[u][1].start),end:Object.assign({},s[l][1].end)},f={type:"strikethroughText",start:Object.assign({},s[u][1].end),end:Object.assign({},s[l][1].start)},p=[["enter",d,a],["enter",s[u][1],a],["exit",s[u][1],a],["enter",f,a]],h=a.parser.constructs.insideSpan.null;h&&Tn(p,p.length,0,_f(h,s.slice(u+1,l),a)),Tn(p,p.length,0,[["exit",f,a],["enter",s[l][1],a],["exit",s[l][1],a],["exit",d,a]]),Tn(s,u-1,l-u+3,p),l=u+p.length-2;break}}for(l=-1;++l<s.length;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function o(s,a,l){const u=this.previous,d=this.events;let f=0;return p;function p(m){return u===126&&d[d.length-1][1].type!=="characterEscape"?l(m):(s.enter("strikethroughSequenceTemporary"),h(m))}function h(m){const _=bs(u);if(m===126)return f>1?l(m):(s.consume(m),f++,h);if(f<2&&!n)return l(m);const T=s.exit("strikethroughSequenceTemporary"),y=bs(m);return T._open=!y||y===2&&!!_,T._close=!_||_===2&&!!y,a(m)}}}class Xj{constructor(){this.map=[]}add(t,n,r){Qj(this,t,n,r)}consume(t){if(this.map.sort(function(o,s){return o[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push([...t]),t.length=0;let i=r.pop();for(;i;)t.push(...i),i=r.pop();this.map.length=0}}function Qj(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function Yj(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Jj(){return{flow:{null:{name:"table",tokenize:Zj,resolveAll:eB}}}}function Zj(e,t,n){const r=this;let i=0,o=0,s;return a;function a(I){let A=r.events.length-1;for(;A>-1;){const Y=r.events[A][1].type;if(Y==="lineEnding"||Y==="linePrefix")A--;else break}const L=A>-1?r.events[A][1].type:null,k=L==="tableHead"||L==="tableRow"?P:l;return k===P&&r.parser.lazy[r.now().line]?n(I):k(I)}function l(I){return e.enter("tableHead"),e.enter("tableRow"),u(I)}function u(I){return I===124||(s=!0,o+=1),d(I)}function d(I){return I===null?n(I):te(I)?o>1?(o=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),h):n(I):me(I)?Se(e,d,"whitespace")(I):(o+=1,s&&(s=!1,i+=1),I===124?(e.enter("tableCellDivider"),e.consume(I),e.exit("tableCellDivider"),s=!0,d):(e.enter("data"),f(I)))}function f(I){return I===null||I===124||Ne(I)?(e.exit("data"),d(I)):(e.consume(I),I===92?p:f)}function p(I){return I===92||I===124?(e.consume(I),f):f(I)}function h(I){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(I):(e.enter("tableDelimiterRow"),s=!1,me(I)?Se(e,m,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):m(I))}function m(I){return I===45||I===58?T(I):I===124?(s=!0,e.enter("tableCellDivider"),e.consume(I),e.exit("tableCellDivider"),_):F(I)}function _(I){return me(I)?Se(e,T,"whitespace")(I):T(I)}function T(I){return I===58?(o+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(I),e.exit("tableDelimiterMarker"),y):I===45?(o+=1,y(I)):I===null||te(I)?M(I):F(I)}function y(I){return I===45?(e.enter("tableDelimiterFiller"),E(I)):F(I)}function E(I){return I===45?(e.consume(I),E):I===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(I),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(I))}function w(I){return me(I)?Se(e,M,"whitespace")(I):M(I)}function M(I){return I===124?m(I):I===null||te(I)?!s||i!==o?F(I):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(I)):F(I)}function F(I){return n(I)}function P(I){return e.enter("tableRow"),b(I)}function b(I){return I===124?(e.enter("tableCellDivider"),e.consume(I),e.exit("tableCellDivider"),b):I===null||te(I)?(e.exit("tableRow"),t(I)):me(I)?Se(e,b,"whitespace")(I):(e.enter("data"),x(I))}function x(I){return I===null||I===124||Ne(I)?(e.exit("data"),b(I)):(e.consume(I),I===92?C:x)}function C(I){return I===92||I===124?(e.consume(I),x):x(I)}}function eB(e,t){let n=-1,r=!0,i=0,o=[0,0,0,0],s=[0,0,0,0],a=!1,l=0,u,d,f;const p=new Xj;for(;++n<e.length;){const h=e[n],m=h[1];h[0]==="enter"?m.type==="tableHead"?(a=!1,l!==0&&(tw(p,t,l,u,d),d=void 0,l=0),u={type:"table",start:Object.assign({},m.start),end:Object.assign({},m.end)},p.add(n,0,[["enter",u,t]])):m.type==="tableRow"||m.type==="tableDelimiterRow"?(r=!0,f=void 0,o=[0,0,0,0],s=[0,n+1,0,0],a&&(a=!1,d={type:"tableBody",start:Object.assign({},m.start),end:Object.assign({},m.end)},p.add(n,0,[["enter",d,t]])),i=m.type==="tableDelimiterRow"?2:d?3:1):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(o[1]!==0&&(s[0]=s[1],f=Yu(p,t,o,i,void 0,f),o=[0,0,0,0]),s[2]=n)):m.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(s[0]=s[1],f=Yu(p,t,o,i,void 0,f)),o=s,s=[o[1],n,0,0])):m.type==="tableHead"?(a=!0,l=n):m.type==="tableRow"||m.type==="tableDelimiterRow"?(l=n,o[1]!==0?(s[0]=s[1],f=Yu(p,t,o,i,n,f)):s[1]!==0&&(f=Yu(p,t,s,i,n,f)),i=0):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")&&(s[3]=n)}for(l!==0&&tw(p,t,l,u,d),p.consume(t.events),n=-1;++n<t.events.length;){const h=t.events[n];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=Yj(t.events,n))}return e}function Yu(e,t,n,r,i,o){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(o.end=Object.assign({},$o(t.events,n[0])),e.add(n[0],0,[["exit",o,t]]));const l=$o(t.events,n[1]);if(o={type:s,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",o,t]]),n[2]!==0){const u=$o(t.events,n[2]),d=$o(t.events,n[3]),f={type:a,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const p=t.events[n[2]],h=t.events[n[3]];if(p[1].end=Object.assign({},h[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const m=n[2]+1,_=n[3]-n[2]-1;e.add(m,_,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return i!==void 0&&(o.end=Object.assign({},$o(t.events,i)),e.add(i,0,[["exit",o,t]]),o=void 0),o}function tw(e,t,n,r,i){const o=[],s=$o(t.events,n);i&&(i.end=Object.assign({},s),o.push(["exit",i,t])),r.end=Object.assign({},s),o.push(["exit",r,t]),e.add(n+1,0,o)}function $o(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const tB={name:"tasklistCheck",tokenize:rB};function nB(){return{text:{91:tB}}}function rB(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),o)}function o(l){return Ne(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),s):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),s):n(l)}function s(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(l)}function a(l){return te(l)?t(l):me(l)?e.check({tokenize:iB},t,n)(l):n(l)}}function iB(e,t,n){return Se(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function oB(e){return MC([kj(),Uj(),Kj(e),Jj(),nB()])}const sB={};function nw(e){const t=this,n=e||sB,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(oB(n)),o.push(Cj()),s.push(Rj(n))}function aB(e){iR(e,[/\r?\n|\r/g,lB])}function lB(){return{type:"break"}}function rw(){return function(e){aB(e)}}const mt=[];for(let e=0;e<256;++e)mt.push((e+256).toString(16).slice(1));function uB(e,t=0){return(mt[e[t+0]]+mt[e[t+1]]+mt[e[t+2]]+mt[e[t+3]]+"-"+mt[e[t+4]]+mt[e[t+5]]+"-"+mt[e[t+6]]+mt[e[t+7]]+"-"+mt[e[t+8]]+mt[e[t+9]]+"-"+mt[e[t+10]]+mt[e[t+11]]+mt[e[t+12]]+mt[e[t+13]]+mt[e[t+14]]+mt[e[t+15]]).toLowerCase()}let Wh;const cB=new Uint8Array(16);function dB(){if(!Wh){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Wh=crypto.getRandomValues.bind(crypto)}return Wh(cB)}const fB=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),iw={randomUUID:fB};function hB(e,t,n){if(iw.randomUUID&&!t&&!e)return iw.randomUUID();e=e||{};const r=e.random||(e.rng||dB)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,uB(r)}const RR=typeof document<"u"?De.useLayoutEffect:()=>{};function pB(e){const t=S.useRef(null);return RR(()=>{t.current=e},[e]),S.useCallback((...n)=>{const r=t.current;return r==null?void 0:r(...n)},[])}const Zl=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},no=e=>e&&"window"in e&&e.window===e?e:Zl(e).defaultView||window;function mB(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function gB(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function bR(e){let t=null;return()=>(t==null&&(t=e()),t)}const yB=bR(function(){return gB(/^Mac/i)}),_B=bR(function(){return mB(/Android/i)});function vB(e){return e.mozInputSource===0&&e.isTrusted?!0:_B()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}class EB{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=t}}function AR(e){let t=S.useRef({isFocused:!1,observer:null});RR(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=pB(r=>{e==null||e(r)});return S.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let i=r.target,o=s=>{t.current.isFocused=!1,i.disabled&&n(new EB("blur",s)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};i.addEventListener("focusout",o,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&i.disabled){var s;(s=t.current.observer)===null||s===void 0||s.disconnect();let a=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),t.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function wB(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:i}=e;const o=S.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),i&&i(!1),!0},[r,i]),s=AR(o),a=S.useCallback(l=>{const u=Zl(l.target);l.target===l.currentTarget&&u.activeElement===l.target&&(n&&n(l),i&&i(!0),s(l))},[i,n,s]);return{focusProps:{onFocus:!t&&(n||i||r)?a:void 0,onBlur:!t&&(r||i)?o:void 0}}}let eu=null,Um=new Set,Ja=new Map,yo=!1,zm=!1;const SB={Tab:!0,Escape:!0};function d_(e,t){for(let n of Um)n(e,t)}function IB(e){return!(e.metaKey||!yB()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function Td(e){yo=!0,IB(e)&&(eu="keyboard",d_("keyboard",e))}function wn(e){eu="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(yo=!0,d_("pointer",e))}function kR(e){vB(e)&&(yo=!0,eu="virtual")}function PR(e){e.target===window||e.target===document||(!yo&&!zm&&(eu="virtual",d_("virtual",e)),yo=!1,zm=!1)}function DR(){yo=!1,zm=!0}function jm(e){if(typeof window>"u"||Ja.get(no(e)))return;const t=no(e),n=Zl(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){yo=!0,r.apply(this,arguments)},n.addEventListener("keydown",Td,!0),n.addEventListener("keyup",Td,!0),n.addEventListener("click",kR,!0),t.addEventListener("focus",PR,!0),t.addEventListener("blur",DR,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",wn,!0),n.addEventListener("pointermove",wn,!0),n.addEventListener("pointerup",wn,!0)):(n.addEventListener("mousedown",wn,!0),n.addEventListener("mousemove",wn,!0),n.addEventListener("mouseup",wn,!0)),t.addEventListener("beforeunload",()=>{NR(e)},{once:!0}),Ja.set(t,{focus:r})}const NR=(e,t)=>{const n=no(e),r=Zl(e);t&&r.removeEventListener("DOMContentLoaded",t),Ja.has(n)&&(n.HTMLElement.prototype.focus=Ja.get(n).focus,r.removeEventListener("keydown",Td,!0),r.removeEventListener("keyup",Td,!0),r.removeEventListener("click",kR,!0),n.removeEventListener("focus",PR,!0),n.removeEventListener("blur",DR,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",wn,!0),r.removeEventListener("pointermove",wn,!0),r.removeEventListener("pointerup",wn,!0)):(r.removeEventListener("mousedown",wn,!0),r.removeEventListener("mousemove",wn,!0),r.removeEventListener("mouseup",wn,!0)),Ja.delete(n))};function TB(e){const t=Zl(e);let n;return t.readyState!=="loading"?jm(e):(n=()=>{jm(e)},t.addEventListener("DOMContentLoaded",n)),()=>NR(e,n)}typeof document<"u"&&TB();function OR(){return eu!=="pointer"}const xB=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function CB(e,t,n){var r;const i=typeof window<"u"?no(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,o=typeof window<"u"?no(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,s=typeof window<"u"?no(n==null?void 0:n.target).HTMLElement:HTMLElement,a=typeof window<"u"?no(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||(n==null?void 0:n.target)instanceof i&&!xB.has(n==null||(r=n.target)===null||r===void 0?void 0:r.type)||(n==null?void 0:n.target)instanceof o||(n==null?void 0:n.target)instanceof s&&(n==null?void 0:n.target.isContentEditable),!(e&&t==="keyboard"&&n instanceof a&&!SB[n.key])}function RB(e,t,n){jm(),S.useEffect(()=>{let r=(i,o)=>{CB(!!(n!=null&&n.isTextInput),i,o)&&e(OR())};return Um.add(r),()=>{Um.delete(r)}},t)}function bB(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=e,o=S.useRef({isFocusWithin:!1}),s=S.useCallback(u=>{o.current.isFocusWithin&&!u.currentTarget.contains(u.relatedTarget)&&(o.current.isFocusWithin=!1,n&&n(u),i&&i(!1))},[n,i,o]),a=AR(s),l=S.useCallback(u=>{!o.current.isFocusWithin&&document.activeElement===u.target&&(r&&r(u),i&&i(!0),o.current.isFocusWithin=!0,a(u))},[r,i,a]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:l,onBlur:s}}}let xd=!1,Kh=0;function Bm(){xd=!0,setTimeout(()=>{xd=!1},50)}function ow(e){e.pointerType==="touch"&&Bm()}function AB(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",ow):document.addEventListener("touchend",Bm),Kh++,()=>{Kh--,!(Kh>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",ow):document.removeEventListener("touchend",Bm))}}function LR(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:i}=e,[o,s]=S.useState(!1),a=S.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;S.useEffect(AB,[]);let{hoverProps:l,triggerHoverEnd:u}=S.useMemo(()=>{let d=(h,m)=>{if(a.pointerType=m,i||m==="touch"||a.isHovered||!h.currentTarget.contains(h.target))return;a.isHovered=!0;let _=h.currentTarget;a.target=_,t&&t({type:"hoverstart",target:_,pointerType:m}),n&&n(!0),s(!0)},f=(h,m)=>{if(a.pointerType="",a.target=null,m==="touch"||!a.isHovered)return;a.isHovered=!1;let _=h.currentTarget;r&&r({type:"hoverend",target:_,pointerType:m}),n&&n(!1),s(!1)},p={};return typeof PointerEvent<"u"?(p.onPointerEnter=h=>{xd&&h.pointerType==="mouse"||d(h,h.pointerType)},p.onPointerLeave=h=>{!i&&h.currentTarget.contains(h.target)&&f(h,h.pointerType)}):(p.onTouchStart=()=>{a.ignoreEmulatedMouseEvents=!0},p.onMouseEnter=h=>{!a.ignoreEmulatedMouseEvents&&!xd&&d(h,"mouse"),a.ignoreEmulatedMouseEvents=!1},p.onMouseLeave=h=>{!i&&h.currentTarget.contains(h.target)&&f(h,"mouse")}),{hoverProps:p,triggerHoverEnd:f}},[t,n,r,i,a]);return S.useEffect(()=>{i&&u({currentTarget:a.target},a.pointerType)},[i]),{hoverProps:l,isHovered:o}}function MR(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,i=S.useRef({isFocused:!1,isFocusVisible:t||OR()}),[o,s]=S.useState(!1),[a,l]=S.useState(()=>i.current.isFocused&&i.current.isFocusVisible),u=S.useCallback(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),d=S.useCallback(h=>{i.current.isFocused=h,s(h),u()},[u]);RB(h=>{i.current.isFocusVisible=h,u()},[],{isTextInput:n});let{focusProps:f}=wB({isDisabled:r,onFocusChange:d}),{focusWithinProps:p}=bB({isDisabled:!r,onFocusWithinChange:d});return{isFocused:o,isFocusVisible:a,focusProps:r?p:f}}var kB=Object.defineProperty,PB=(e,t,n)=>t in e?kB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xh=(e,t,n)=>(PB(e,typeof t!="symbol"?t+"":t,n),n);let DB=class{constructor(){Xh(this,"current",this.detect()),Xh(this,"handoffState","pending"),Xh(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},so=new DB;function tu(e){return so.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function FR(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function $r(){let e=[],t={addEventListener(n,r,i,o){return n.addEventListener(r,i,o),t.add(()=>n.removeEventListener(r,i,o))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return FR(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,i){let o=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:o})})},group(n){let r=$r();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let i of e.splice(r,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}function Ws(){let[e]=S.useState($r);return S.useEffect(()=>()=>e.dispose(),[e]),e}let ft=(e,t)=>{so.isServer?S.useEffect(e,t):S.useLayoutEffect(e,t)};function Ks(e){let t=S.useRef(e);return ft(()=>{t.current=e},[e]),t}let xe=function(e){let t=Ks(e);return De.useCallback((...n)=>t.current(...n),[t])};function NB(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function OB(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function VR({disabled:e=!1}={}){let t=S.useRef(null),[n,r]=S.useState(!1),i=Ws(),o=xe(()=>{t.current=null,r(!1),i.dispose()}),s=xe(a=>{if(i.dispose(),t.current===null){t.current=a.currentTarget,r(!0);{let l=tu(a.currentTarget);i.addEventListener(l,"pointerup",o,!1),i.addEventListener(l,"pointermove",u=>{if(t.current){let d=NB(u);r(OB(d,t.current.getBoundingClientRect()))}},!1),i.addEventListener(l,"pointercancel",o,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:s,onPointerUp:o,onClick:o}}}let LB=S.createContext(void 0);function Sf(){return S.useContext(LB)}function sw(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function Rr(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Rr),r}var Hm=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Hm||{}),MB=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(MB||{});function bn(){let e=VB();return S.useCallback(t=>FB({mergeRefs:e,...t}),[e])}function FB({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:o=!0,name:s,mergeRefs:a}){a=a??$B;let l=$R(t,e);if(o)return Ju(l,n,r,s,a);let u=i??0;if(u&2){let{static:d=!1,...f}=l;if(d)return Ju(f,n,r,s,a)}if(u&1){let{unmount:d=!0,...f}=l;return Rr(d?0:1,{0(){return null},1(){return Ju({...f,hidden:!0,style:{display:"none"}},n,r,s,a)}})}return Ju(l,n,r,s,a)}function Ju(e,t={},n,r,i){let{as:o=n,children:s,refName:a="ref",...l}=Qh(e,["unmount","static"]),u=e.ref!==void 0?{[a]:e.ref}:{},d=typeof s=="function"?s(t):s;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(t)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let f={};if(t){let p=!1,h=[];for(let[m,_]of Object.entries(t))typeof _=="boolean"&&(p=!0),_===!0&&h.push(m.replace(/([A-Z])/g,T=>`-${T.toLowerCase()}`));if(p){f["data-headlessui-state"]=h.join(" ");for(let m of h)f[`data-${m}`]=""}}if(o===S.Fragment&&(Object.keys(Qi(l)).length>0||Object.keys(Qi(f)).length>0))if(!S.isValidElement(d)||Array.isArray(d)&&d.length>1){if(Object.keys(Qi(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Qi(l)).concat(Object.keys(Qi(f))).map(p=>`  - ${p}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(p=>`  - ${p}`).join(`
`)].join(`
`))}else{let p=d.props,h=p==null?void 0:p.className,m=typeof h=="function"?(...y)=>sw(h(...y),l.className):sw(h,l.className),_=m?{className:m}:{},T=$R(d.props,Qi(Qh(l,["ref"])));for(let y in f)y in T&&delete f[y];return S.cloneElement(d,Object.assign({},T,f,u,{ref:i(UB(d),u.ref)},_))}return S.createElement(o,Object.assign({},Qh(l,["ref"]),o!==S.Fragment&&u,o!==S.Fragment&&f),d)}function VB(){let e=S.useRef([]),t=S.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function $B(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function $R(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var o;return(o=i==null?void 0:i.preventDefault)==null?void 0:o.call(i)}]);for(let r in n)Object.assign(t,{[r](i,...o){let s=n[r];for(let a of s){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...o)}}});return t}function f_(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];for(let r in n)Object.assign(t,{[r](...i){let o=n[r];for(let s of o)s==null||s(...i)}});return t}function An(e){var t;return Object.assign(S.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Qi(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Qh(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function UB(e){return De.version.split(".")[0]>="19"?e.props.ref:e.ref}let zB="button";function jB(e,t){var n;let r=Sf(),{disabled:i=r||!1,autoFocus:o=!1,...s}=e,{isFocusVisible:a,focusProps:l}=MR({autoFocus:o}),{isHovered:u,hoverProps:d}=LR({isDisabled:i}),{pressed:f,pressProps:p}=VR({disabled:i}),h=f_({ref:t,type:(n=s.type)!=null?n:"button",disabled:i||void 0,autoFocus:o},l,d,p),m=S.useMemo(()=>({disabled:i,hover:u,focus:a,active:f,autofocus:o}),[i,u,a,f,o]);return bn()({ourProps:h,theirProps:s,slot:m,defaultTag:zB,name:"Button"})}let aw=An(jB);function BB(e,t,n){let[r,i]=S.useState(n),o=e!==void 0,s=S.useRef(o),a=S.useRef(!1),l=S.useRef(!1);return o&&!s.current&&!a.current?(a.current=!0,s.current=o,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!o&&s.current&&!l.current&&(l.current=!0,s.current=o,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[o?e:r,xe(u=>(o||i(u),t==null?void 0:t(u)))]}function HB(e){let[t]=S.useState(e);return t}function UR(e={},t=null,n=[]){for(let[r,i]of Object.entries(e))jR(n,zR(t,r),i);return n}function zR(e,t){return e?e+"["+t+"]":t}function jR(e,t,n){if(Array.isArray(n))for(let[r,i]of n.entries())jR(e,zR(t,r.toString()),i);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):UR(n,t,e)}function GB(e){var t,n;let r=(t=e==null?void 0:e.form)!=null?t:e.closest("form");if(r){for(let i of r.elements)if(i!==e&&(i.tagName==="INPUT"&&i.type==="submit"||i.tagName==="BUTTON"&&i.type==="submit"||i.nodeName==="INPUT"&&i.type==="image")){i.click();return}(n=r.requestSubmit)==null||n.call(r)}}let qB="span";var h_=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(h_||{});function WB(e,t){var n;let{features:r=1,...i}=e,o={ref:t,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return bn()({ourProps:o,theirProps:i,slot:{},defaultTag:qB,name:"Hidden"})}let BR=An(WB),KB=S.createContext(null);function XB({children:e}){let t=S.useContext(KB);if(!t)return De.createElement(De.Fragment,null,e);let{target:n}=t;return n?Jt.createPortal(De.createElement(De.Fragment,null,e),n):null}function QB({data:e,form:t,disabled:n,onReset:r,overrides:i}){let[o,s]=S.useState(null),a=Ws();return S.useEffect(()=>{if(r&&o)return a.addEventListener(o,"reset",r)},[o,t,r]),De.createElement(XB,null,De.createElement(YB,{setForm:s,formId:t}),UR(e).map(([l,u])=>De.createElement(BR,{features:h_.Hidden,...Qi({key:l,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:n,name:l,value:u,...i})})))}function YB({setForm:e,formId:t}){return S.useEffect(()=>{if(t){let n=document.getElementById(t);n&&e(n)}},[e,t]),t?null:De.createElement(BR,{features:h_.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:n=>{if(!n)return;let r=n.closest("form");r&&e(r)}})}let JB=S.createContext(void 0);function HR(){return S.useContext(JB)}function ZB(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&e6(n)?!1:r}function e6(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}let GR=Symbol();function t6(e,t=!0){return Object.assign(e,{[GR]:t})}function cr(...e){let t=S.useRef(e);S.useEffect(()=>{t.current=e},[e]);let n=xe(r=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return e.every(r=>r==null||(r==null?void 0:r[GR]))?void 0:n}let p_=S.createContext(null);p_.displayName="DescriptionContext";function qR(){let e=S.useContext(p_);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,qR),t}return e}function n6(){var e,t;return(t=(e=S.useContext(p_))==null?void 0:e.value)!=null?t:void 0}let r6="p";function i6(e,t){let n=S.useId(),r=Sf(),{id:i=`headlessui-description-${n}`,...o}=e,s=qR(),a=cr(t);ft(()=>s.register(i),[i,s.register]);let l=r||!1,u=S.useMemo(()=>({...s.slot,disabled:l}),[s.slot,l]),d={ref:a,...s.props,id:i};return bn()({ourProps:d,theirProps:o,slot:u,defaultTag:r6,name:s.name||"Description"})}let o6=An(i6);Object.assign(o6,{});var at=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(at||{});let If=S.createContext(null);If.displayName="LabelContext";function WR(){let e=S.useContext(If);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,WR),t}return e}function KR(e){var t,n,r;let i=(n=(t=S.useContext(If))==null?void 0:t.value)!=null?n:void 0;return((r=e==null?void 0:e.length)!=null?r:0)>0?[i,...e].filter(Boolean).join(" "):i}function s6({inherit:e=!1}={}){let t=KR(),[n,r]=S.useState([]),i=e?[t,...n].filter(Boolean):n;return[i.length>0?i.join(" "):void 0,S.useMemo(()=>function(o){let s=xe(l=>(r(u=>[...u,l]),()=>r(u=>{let d=u.slice(),f=d.indexOf(l);return f!==-1&&d.splice(f,1),d}))),a=S.useMemo(()=>({register:s,slot:o.slot,name:o.name,props:o.props,value:o.value}),[s,o.slot,o.name,o.props,o.value]);return De.createElement(If.Provider,{value:a},o.children)},[r])]}let a6="label";function l6(e,t){var n;let r=S.useId(),i=WR(),o=HR(),s=Sf(),{id:a=`headlessui-label-${r}`,htmlFor:l=o??((n=i.props)==null?void 0:n.htmlFor),passive:u=!1,...d}=e,f=cr(t);ft(()=>i.register(a),[a,i.register]);let p=xe(T=>{let y=T.currentTarget;if(y instanceof HTMLLabelElement&&T.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(T),y instanceof HTMLLabelElement){let E=document.getElementById(y.htmlFor);if(E){let w=E.getAttribute("disabled");if(w==="true"||w==="")return;let M=E.getAttribute("aria-disabled");if(M==="true"||M==="")return;(E instanceof HTMLInputElement&&(E.type==="radio"||E.type==="checkbox")||E.role==="radio"||E.role==="checkbox"||E.role==="switch")&&E.click(),E.focus({preventScroll:!0})}}}),h=s||!1,m=S.useMemo(()=>({...i.slot,disabled:h}),[i.slot,h]),_={ref:f,...i.props,id:a,htmlFor:l,onClick:p};return u&&("onClick"in _&&(delete _.htmlFor,delete _.onClick),"onClick"in d&&delete d.onClick),bn()({ourProps:_,theirProps:d,slot:m,defaultTag:l?a6:"div",name:i.name||"Label"})}let u6=An(l6),c6=Object.assign(u6,{});function d6(e,t){return e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"&&"id"in e&&"id"in t?e.id===t.id:e===t}function f6(e=d6){return S.useCallback((t,n)=>{if(typeof e=="string"){let r=e;return(t==null?void 0:t[r])===(n==null?void 0:n[r])}return e(t,n)},[e])}function h6(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function p6(e,t=!1){let[n,r]=S.useReducer(()=>({}),{}),i=S.useMemo(()=>h6(e),[e,n]);return ft(()=>{if(!e)return;let o=new ResizeObserver(r);return o.observe(e),()=>{o.disconnect()}},[e]),t?{width:`${i.width}px`,height:`${i.height}px`}:i}let m6=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};function XR(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...o){let s=t[i].call(n,...o);s&&(n=s,r.forEach(a=>a()))}}}function QR(e){return S.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}let g6=new m6(()=>XR(()=>[],{ADD(e){return this.includes(e)?this:[...this,e]},REMOVE(e){let t=this.indexOf(e);if(t===-1)return this;let n=this.slice();return n.splice(t,1),n}}));function m_(e,t){let n=g6.get(t),r=S.useId(),i=QR(n);if(ft(()=>{if(e)return n.dispatch("ADD",r),()=>n.dispatch("REMOVE",r)},[n,e]),!e)return!1;let o=i.indexOf(r),s=i.length;return o===-1&&(o=s,s+=1),o===s-1}let Gm=new Map,Za=new Map;function lw(e){var t;let n=(t=Za.get(e))!=null?t:0;return Za.set(e,n+1),n!==0?()=>uw(e):(Gm.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>uw(e))}function uw(e){var t;let n=(t=Za.get(e))!=null?t:1;if(n===1?Za.delete(e):Za.set(e,n-1),n!==1)return;let r=Gm.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,Gm.delete(e))}function y6(e,{allowed:t,disallowed:n}={}){let r=m_(e,"inert-others");ft(()=>{var i,o;if(!r)return;let s=$r();for(let l of(i=n==null?void 0:n())!=null?i:[])l&&s.add(lw(l));let a=(o=t==null?void 0:t())!=null?o:[];for(let l of a){if(!l)continue;let u=tu(l);if(!u)continue;let d=l.parentElement;for(;d&&d!==u.body;){for(let f of d.children)a.some(p=>f.contains(p))||s.add(lw(f));d=d.parentElement}}return s.dispose},[r,t,n])}function _6(e,t,n){let r=Ks(i=>{let o=i.getBoundingClientRect();o.x===0&&o.y===0&&o.width===0&&o.height===0&&n()});S.useEffect(()=>{if(!e)return;let i=t===null?null:t instanceof HTMLElement?t:t.current;if(!i)return;let o=$r();if(typeof ResizeObserver<"u"){let s=new ResizeObserver(()=>r.current(i));s.observe(i),o.add(()=>s.disconnect())}if(typeof IntersectionObserver<"u"){let s=new IntersectionObserver(()=>r.current(i));s.observe(i),o.add(()=>s.disconnect())}return()=>o.dispose()},[t,r,e])}let qm=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),v6=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Wm=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(Wm||{}),E6=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(E6||{}),w6=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(w6||{});function YR(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(qm)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function S6(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(v6)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var g_=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(g_||{});function JR(e,t=0){var n;return e===((n=tu(e))==null?void 0:n.body)?!1:Rr(t,{0(){return e.matches(qm)},1(){let r=e;for(;r!==null;){if(r.matches(qm))return!0;r=r.parentElement}return!1}})}var I6=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(I6||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let T6=["textarea","input"].join(",");function x6(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,T6))!=null?n:!1}function ZR(e,t=n=>n){return e.slice().sort((n,r)=>{let i=t(n),o=t(r);if(i===null||o===null)return 0;let s=i.compareDocumentPosition(o);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function C6(e,t){return R6(YR(),t,{relativeTo:e})}function R6(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,s=Array.isArray(e)?n?ZR(e):e:t&64?S6(e):YR(e);i.length>0&&s.length>1&&(s=s.filter(h=>!i.some(m=>m!=null&&"current"in m?(m==null?void 0:m.current)===h:m===h))),r=r??o.activeElement;let a=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,s.indexOf(r))-1;if(t&4)return Math.max(0,s.indexOf(r))+1;if(t&8)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},d=0,f=s.length,p;do{if(d>=f||d+f<=0)return 0;let h=l+d;if(t&16)h=(h+f)%f;else{if(h<0)return 3;if(h>=f)return 1}p=s[h],p==null||p.focus(u),d+=a}while(p!==o.activeElement);return t&6&&x6(p)&&p.select(),2}function eb(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function b6(){return/Android/gi.test(window.navigator.userAgent)}function A6(){return eb()||b6()}function xa(e,t,n,r){let i=Ks(n);S.useEffect(()=>{if(!e)return;function o(s){i.current(s)}return document.addEventListener(t,o,r),()=>document.removeEventListener(t,o,r)},[e,t,r])}function k6(e,t,n,r){let i=Ks(n);S.useEffect(()=>{if(!e)return;function o(s){i.current(s)}return window.addEventListener(t,o,r),()=>window.removeEventListener(t,o,r)},[e,t,r])}const cw=30;function P6(e,t,n){let r=m_(e,"outside-click"),i=Ks(n),o=S.useCallback(function(l,u){if(l.defaultPrevented)return;let d=u(l);if(d===null||!d.getRootNode().contains(d)||!d.isConnected)return;let f=function p(h){return typeof h=="function"?p(h()):Array.isArray(h)||h instanceof Set?h:[h]}(t);for(let p of f)if(p!==null&&(p.contains(d)||l.composed&&l.composedPath().includes(p)))return;return!JR(d,g_.Loose)&&d.tabIndex!==-1&&l.preventDefault(),i.current(l,d)},[i,t]),s=S.useRef(null);xa(r,"pointerdown",l=>{var u,d;s.current=((d=(u=l.composedPath)==null?void 0:u.call(l))==null?void 0:d[0])||l.target},!0),xa(r,"mousedown",l=>{var u,d;s.current=((d=(u=l.composedPath)==null?void 0:u.call(l))==null?void 0:d[0])||l.target},!0),xa(r,"click",l=>{A6()||s.current&&(o(l,()=>s.current),s.current=null)},!0);let a=S.useRef({x:0,y:0});xa(r,"touchstart",l=>{a.current.x=l.touches[0].clientX,a.current.y=l.touches[0].clientY},!0),xa(r,"touchend",l=>{let u={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(u.x-a.current.x)>=cw||Math.abs(u.y-a.current.y)>=cw))return o(l,()=>l.target instanceof HTMLElement?l.target:null)},!0),k6(r,"blur",l=>o(l,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function y_(...e){return S.useMemo(()=>tu(...e),[...e])}function D6(e,t){return S.useMemo(()=>{var n;if(e.type)return e.type;let r=(n=e.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function N6(){let e;return{before({doc:t}){var n;let r=t.documentElement,i=(n=t.defaultView)!=null?n:window;e=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),o=Math.max(0,e-i);n.style(r,"paddingRight",`${o}px`)}}}function O6(){return eb()?{before({doc:e,d:t,meta:n}){function r(i){return n.containers.flatMap(o=>o()).some(o=>o.contains(i))}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let a=$r();a.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>a.dispose()))}let o=(i=window.scrollY)!=null?i:window.pageYOffset,s=null;t.addEventListener(e,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),d=e.querySelector(u);d&&!r(d)&&(s=d)}catch{}},!0),t.addEventListener(e,"touchstart",a=>{if(a.target instanceof HTMLElement)if(r(a.target)){let l=a.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;t.style(l,"overscrollBehavior","contain")}else t.style(a.target,"touchAction","none")}),t.addEventListener(e,"touchmove",a=>{if(a.target instanceof HTMLElement){if(a.target.tagName==="INPUT")return;if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),t.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;o!==l&&window.scrollTo(0,o),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}:{}}function L6(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function M6(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let ro=XR(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:$r(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:M6(n)},i=[O6(),N6(),L6()];i.forEach(({before:o})=>o==null?void 0:o(r)),i.forEach(({after:o})=>o==null?void 0:o(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});ro.subscribe(()=>{let e=ro.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&ro.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&ro.dispatch("TEARDOWN",n)}});function F6(e,t,n=()=>({containers:[]})){let r=QR(ro),i=t?r.get(t):void 0,o=i?i.count>0:!1;return ft(()=>{if(!(!t||!e))return ro.dispatch("PUSH",t,n),()=>ro.dispatch("POP",t,n)},[e,t]),o}function V6(e,t,n=()=>[document.body]){let r=m_(e,"scroll-lock");F6(r,t,i=>{var o;return{containers:[...(o=i.containers)!=null?o:[],n]}})}function dw(e){return[e.screenX,e.screenY]}function $6(){let e=S.useRef([-1,-1]);return{wasMoved(t){let n=dw(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=dw(t)}}}function U6(e=0){let[t,n]=S.useState(e),r=S.useCallback(l=>n(l),[t]),i=S.useCallback(l=>n(u=>u|l),[t]),o=S.useCallback(l=>(t&l)===l,[t]),s=S.useCallback(l=>n(u=>u&~l),[n]),a=S.useCallback(l=>n(u=>u^l),[n]);return{flags:t,setFlag:r,addFlag:i,hasFlag:o,removeFlag:s,toggleFlag:a}}var z6={LANGUAGE:"en_US",USER:"fadelyang",LC_TIME:"id_ID.UTF-8",npm_config_user_agent:"npm/9.8.1 node/v18.18.0 linux x64 workspaces/false",XDG_SESSION_TYPE:"x11",BUN_INSTALL:"/home/fadelyang/.bun",GIT_ASKPASS:"/usr/share/code/resources/app/extensions/git/dist/askpass.sh",npm_node_execpath:"/home/fadelyang/.nvm/versions/node/v18.18.0/bin/node",SHLVL:"3",npm_config_noproxy:"",HOME:"/home/fadelyang",OLDPWD:"/home/fadelyang/Documents/work/2-wir/wir-chat",LESS:"-R",CHROME_DESKTOP:"code-url-handler.desktop",DESKTOP_SESSION:"ubuntu",NVM_BIN:"/home/fadelyang/.nvm/versions/node/v18.18.0/bin",TERM_PROGRAM_VERSION:"1.85.1",npm_package_json:"/home/fadelyang/Documents/work/2-wir/wir-chat/package.json",ZSH:"/home/fadelyang/.oh-my-zsh",LSCOLORS:"Gxfxcxdxbxegedabagacad",NVM_INC:"/home/fadelyang/.nvm/versions/node/v18.18.0/include/node",GTK_MODULES:"gail:atk-bridge",XDG_SEAT_PATH:"/org/freedesktop/DisplayManager/Seat0",GNOME_SHELL_SESSION_MODE:"ubuntu",PAGER:"less",VSCODE_GIT_ASKPASS_MAIN:"/usr/share/code/resources/app/extensions/git/dist/askpass-main.js",LC_MONETARY:"id_ID.UTF-8",VSCODE_GIT_ASKPASS_NODE:"/usr/share/code/code",npm_config_userconfig:"/home/fadelyang/.npmrc",npm_config_local_prefix:"/home/fadelyang/Documents/work/2-wir/wir-chat",SYSTEMD_EXEC_PID:"2309",DBUS_SESSION_BUS_ADDRESS:"unix:path=/run/user/1000/bus",COLORTERM:"truecolor",COLOR:"1",NVM_DIR:"/home/fadelyang/.nvm",npm_config_metrics_registry:"https://registry.npmjs.org/",GTK_IM_MODULE:"ibus",LOGNAME:"fadelyang",_:"/home/fadelyang/.nvm/versions/node/v18.18.0/bin/npm",npm_config_prefix:"/home/fadelyang/.nvm/versions/node/v18.18.0",npm_config_npm_version:"9.8.1",XDG_SESSION_CLASS:"user",USER_ZDOTDIR:"/home/fadelyang",TERM:"xterm-256color",npm_config_cache:"/home/fadelyang/.npm",GNOME_DESKTOP_SESSION_ID:"this-is-deprecated",npm_config_node_gyp:"/home/fadelyang/.nvm/versions/node/v18.18.0/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/fadelyang/Documents/work/2-wir/wir-chat/node_modules/.bin:/home/fadelyang/Documents/work/2-wir/node_modules/.bin:/home/fadelyang/Documents/work/node_modules/.bin:/home/fadelyang/Documents/node_modules/.bin:/home/fadelyang/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/fadelyang/.nvm/versions/node/v18.18.0/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/fadelyang/.bun/bin:/home/fadelyang/.fly/bin:/home/fadelyang/.config/composer/vendor/bin:/home/fadelyang/.bun/bin:/home/fadelyang/.fly/bin:/home/fadelyang/.config/composer/vendor/bin:/home/fadelyang/.bun/bin:/home/fadelyang/.fly/bin:/home/fadelyang/.config/composer/vendor/bin:/home/fadelyang/.nvm/versions/node/v18.18.0/bin:/home/fadelyang/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/home/fadelyang/.dotnet/tools",SESSION_MANAGER:"local/fadela-lenovo:@/tmp/.ICE-unix/2038,unix/fadela-lenovo:/tmp/.ICE-unix/2038",GTK3_MODULES:"xapp-gtk3-module",GDM_LANG:"en_US",NODE:"/home/fadelyang/.nvm/versions/node/v18.18.0/bin/node",npm_package_name:"wir-chat",GNOME_TERMINAL_SCREEN:"/org/gnome/Terminal/screen/a9009bd0_8896_4dfb_b1af_c0ee439fa32d",XDG_MENU_PREFIX:"gnome-",XDG_SESSION_PATH:"/org/freedesktop/DisplayManager/Session0",XDG_RUNTIME_DIR:"/run/user/1000",LC_ADDRESS:"id_ID.UTF-8",GDK_BACKEND:"x11",DISPLAY:":0",LANG:"en_US.UTF-8",XDG_CURRENT_DESKTOP:"Unity",DOTNET_BUNDLE_EXTRACT_BASE_DIR:"/home/fadelyang/.cache/dotnet_bundle_extract",LC_TELEPHONE:"id_ID.UTF-8",VSCODE_INJECTION:"1",XDG_SESSION_DESKTOP:"ubuntu",XMODIFIERS:"@im=ibus",GNOME_TERMINAL_SERVICE:":1.108",XAUTHORITY:"/home/fadelyang/.Xauthority",LS_COLORS:"rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:",TERM_PROGRAM:"vscode",VSCODE_GIT_IPC_HANDLE:"/run/user/1000/vscode-git-b5930ab35c.sock",npm_lifecycle_script:"vite build",SSH_AUTH_SOCK:"/run/user/1000/keyring/ssh",XDG_GREETER_DATA_DIR:"/var/lib/lightdm-data/fadelyang",SSH_AGENT_LAUNCHER:"gnome-keyring",ORIGINAL_XDG_CURRENT_DESKTOP:"Unity",GOPATH:"/home/fadelyang/go",SHELL:"/usr/bin/zsh",LC_NAME:"id_ID.UTF-8",npm_package_version:"0.0.0",npm_lifecycle_event:"build",QT_ACCESSIBILITY:"1",GDMSESSION:"ubuntu",FLYCTL_INSTALL:"/home/fadelyang/.fly",NO_AT_BRIDGE:"1",LC_MEASUREMENT:"id_ID.UTF-8",LC_IDENTIFICATION:"id_ID.UTF-8",GPG_AGENT_INFO:"/run/user/1000/gnupg/S.gpg-agent:0:1",QT_IM_MODULE:"ibus",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",npm_config_globalconfig:"/home/fadelyang/.nvm/versions/node/v18.18.0/etc/npmrc",npm_config_init_module:"/home/fadelyang/.npm-init.js",PWD:"/home/fadelyang/Documents/work/2-wir/wir-chat",npm_execpath:"/home/fadelyang/.nvm/versions/node/v18.18.0/lib/node_modules/npm/bin/npm-cli.js",XDG_CONFIG_DIRS:"/etc/xdg/xdg-ubuntu:/etc/xdg",XDG_DATA_DIRS:"/usr/share/ubuntu:/usr/share/gnome:/home/fadelyang/.local/share/flatpak/exports/share:/var/lib/flatpak/exports/share:/usr/local/share:/usr/share:/var/lib/snapd/desktop",NVM_CD_FLAGS:"-q",ZDOTDIR:"/home/fadelyang",npm_config_global_prefix:"/home/fadelyang/.nvm/versions/node/v18.18.0",LC_NUMERIC:"id_ID.UTF-8",npm_command:"run-script",LC_PAPER:"id_ID.UTF-8",VTE_VERSION:"6800",INIT_CWD:"/home/fadelyang/Documents/work/2-wir/wir-chat",EDITOR:"vi",NODE_ENV:"production",REACT_APP_BACKEND_URL:"https://ea.wirglobal.com",REACT_APP_CURRENT_VERSION:"3.1.0",REACT_APP_FIREBASE_API_KEY:"AIzaSyDoyWyWKSk_8ovvS8_0d1A64DIRVhsEPdE",REACT_APP_FIREBASE_AUTH_DOMAIN:"wirchat-22331.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"wirchat-22331",REACT_APP_FIREBASE_STORAGE_BUCKET:"wirchat-22331.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"279788642755",REACT_APP_FIREBASE_APP_ID:"1:279788642755:web:61bafae06f7d1932765d76",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-97GNX3XH66"},fw,hw;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((fw=process==null?void 0:z6)==null?void 0:fw.NODE_ENV)==="test"&&typeof((hw=Element==null?void 0:Element.prototype)==null?void 0:hw.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var j6=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(j6||{});function B6(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function H6(e,t,n,r){let[i,o]=S.useState(n),{hasFlag:s,addFlag:a,removeFlag:l}=U6(e&&i?3:0),u=S.useRef(!1),d=S.useRef(!1),f=Ws();return ft(()=>{var p;if(e){if(n&&o(!0),!t){n&&a(3);return}return(p=void 0)==null||p.call(r,n),G6(t,{inFlight:u,prepare(){d.current?d.current=!1:d.current=u.current,u.current=!0,!d.current&&(n?(a(3),l(4)):(a(4),l(2)))},run(){d.current?n?(l(3),a(4)):(l(4),a(3)):n?l(1):a(1)},done(){var h;d.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(u.current=!1,l(7),n||o(!1),(h=void 0)==null||h.call(r,n))}})}},[e,n,t,f]),e?[i,{closed:s(1),enter:s(2),leave:s(4),transition:s(2)||s(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function G6(e,{prepare:t,run:n,done:r,inFlight:i}){let o=$r();return W6(e,{prepare:t,inFlight:i}),o.nextFrame(()=>{n(),o.requestAnimationFrame(()=>{o.add(q6(e,r))})}),o.dispose}function q6(e,t){var n,r;let i=$r();if(!e)return i.dispose;let o=!1;i.add(()=>{o=!0});let s=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(a=>a instanceof CSSTransition))!=null?r:[];return s.length===0?(t(),i.dispose):(Promise.allSettled(s.map(a=>a.finished)).then(()=>{o||t()}),i.dispose)}function W6(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function Tf(){return typeof window<"u"}function Xs(e){return tb(e)?(e.nodeName||"").toLowerCase():"#document"}function dn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function dr(e){var t;return(t=(tb(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function tb(e){return Tf()?e instanceof Node||e instanceof dn(e).Node:!1}function zt(e){return Tf()?e instanceof Element||e instanceof dn(e).Element:!1}function ar(e){return Tf()?e instanceof HTMLElement||e instanceof dn(e).HTMLElement:!1}function pw(e){return!Tf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof dn(e).ShadowRoot}function nu(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Gn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function K6(e){return["table","td","th"].includes(Xs(e))}function xf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function __(e){const t=v_(),n=zt(e)?Gn(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function X6(e){let t=ki(e);for(;ar(t)&&!As(t);){if(__(t))return t;if(xf(t))return null;t=ki(t)}return null}function v_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function As(e){return["html","body","#document"].includes(Xs(e))}function Gn(e){return dn(e).getComputedStyle(e)}function Cf(e){return zt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ki(e){if(Xs(e)==="html")return e;const t=e.assignedSlot||e.parentNode||pw(e)&&e.host||dr(e);return pw(t)?t.host:t}function nb(e){const t=ki(e);return As(t)?e.ownerDocument?e.ownerDocument.body:e.body:ar(t)&&nu(t)?t:nb(t)}function kl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=nb(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),s=dn(i);if(o){const a=Km(s);return t.concat(s,s.visualViewport||[],nu(i)?i:[],a&&n?kl(a):[])}return t.concat(i,kl(i,[],n))}function Km(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Q6(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}const _o=Math.min,Dt=Math.max,Pl=Math.round,Zu=Math.floor,or=e=>({x:e,y:e}),Y6={left:"right",right:"left",bottom:"top",top:"bottom"},J6={start:"end",end:"start"};function mw(e,t,n){return Dt(e,_o(t,n))}function Qs(e,t){return typeof e=="function"?e(t):e}function Pi(e){return e.split("-")[0]}function ru(e){return e.split("-")[1]}function rb(e){return e==="x"?"y":"x"}function ib(e){return e==="y"?"height":"width"}function vo(e){return["top","bottom"].includes(Pi(e))?"y":"x"}function ob(e){return rb(vo(e))}function Z6(e,t,n){n===void 0&&(n=!1);const r=ru(e),i=ob(e),o=ib(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=Cd(s)),[s,Cd(s)]}function e9(e){const t=Cd(e);return[Xm(e),t,Xm(t)]}function Xm(e){return e.replace(/start|end/g,t=>J6[t])}function t9(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:s;default:return[]}}function n9(e,t,n,r){const i=ru(e);let o=t9(Pi(e),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(Xm)))),o}function Cd(e){return e.replace(/left|right|bottom|top/g,t=>Y6[t])}function r9(e){return{top:0,right:0,bottom:0,left:0,...e}}function i9(e){return typeof e!="number"?r9(e):{top:e,right:e,bottom:e,left:e}}function Rd(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function gw(e,t,n){let{reference:r,floating:i}=e;const o=vo(t),s=ob(t),a=ib(s),l=Pi(t),u=o==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let h;switch(l){case"top":h={x:d,y:r.y-i.height};break;case"bottom":h={x:d,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-i.width,y:f};break;default:h={x:r.x,y:r.y}}switch(ru(t)){case"start":h[s]-=p*(n&&u?-1:1);break;case"end":h[s]+=p*(n&&u?-1:1);break}return h}const o9=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=gw(u,r,l),p=r,h={},m=0;for(let _=0;_<a.length;_++){const{name:T,fn:y}=a[_],{x:E,y:w,data:M,reset:F}=await y({x:d,y:f,initialPlacement:r,placement:p,strategy:i,middlewareData:h,rects:u,platform:s,elements:{reference:e,floating:t}});d=E??d,f=w??f,h={...h,[T]:{...h[T],...M}},F&&m<=50&&(m++,typeof F=="object"&&(F.placement&&(p=F.placement),F.rects&&(u=F.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):F.rects),{x:d,y:f}=gw(u,p,l)),_=-1)}return{x:d,y:f,placement:p,strategy:i,middlewareData:h}};async function Rf(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:h=0}=Qs(t,e),m=i9(h),T=a[p?f==="floating"?"reference":"floating":f],y=Rd(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(T)))==null||n?T:T.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),E=f==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),M=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},F=Rd(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:w,strategy:l}):E);return{top:(y.top-F.top+m.top)/M.y,bottom:(F.bottom-y.bottom+m.bottom)/M.y,left:(y.left-F.left+m.left)/M.x,right:(F.right-y.right+m.right)/M.x}}const s9=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:_=!0,...T}=Qs(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const y=Pi(i),E=vo(a),w=Pi(a)===a,M=await(l.isRTL==null?void 0:l.isRTL(u.floating)),F=p||(w||!_?[Cd(a)]:e9(a)),P=m!=="none";!p&&P&&F.push(...n9(a,_,m,M));const b=[a,...F],x=await Rf(t,T),C=[];let I=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&C.push(x[y]),f){const Y=Z6(i,s,M);C.push(x[Y[0]],x[Y[1]])}if(I=[...I,{placement:i,overflows:C}],!C.every(Y=>Y<=0)){var A,L;const Y=(((A=o.flip)==null?void 0:A.index)||0)+1,Z=b[Y];if(Z)return{data:{index:Y,overflows:I},reset:{placement:Z}};let re=(L=I.filter(ne=>ne.overflows[0]<=0).sort((ne,z)=>ne.overflows[1]-z.overflows[1])[0])==null?void 0:L.placement;if(!re)switch(h){case"bestFit":{var k;const ne=(k=I.filter(z=>{if(P){const W=vo(z.placement);return W===E||W==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(W=>W>0).reduce((W,N)=>W+N,0)]).sort((z,W)=>z[1]-W[1])[0])==null?void 0:k[0];ne&&(re=ne);break}case"initialPlacement":re=a;break}if(i!==re)return{reset:{placement:re}}}return{}}}};async function a9(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Pi(n),a=ru(n),l=vo(n)==="y",u=["left","top"].includes(s)?-1:1,d=o&&l?-1:1,f=Qs(t,e);let{mainAxis:p,crossAxis:h,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof m=="number"&&(h=a==="end"?m*-1:m),l?{x:h*d,y:p*u}:{x:p*u,y:h*d}}const l9=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=t,l=await a9(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},u9=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:T=>{let{x:y,y:E}=T;return{x:y,y:E}}},...l}=Qs(e,t),u={x:n,y:r},d=await Rf(t,l),f=vo(Pi(i)),p=rb(f);let h=u[p],m=u[f];if(o){const T=p==="y"?"top":"left",y=p==="y"?"bottom":"right",E=h+d[T],w=h-d[y];h=mw(E,h,w)}if(s){const T=f==="y"?"top":"left",y=f==="y"?"bottom":"right",E=m+d[T],w=m-d[y];m=mw(E,m,w)}const _=a.fn({...t,[p]:h,[f]:m});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[p]:o,[f]:s}}}}}},c9=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:s,elements:a}=t,{apply:l=()=>{},...u}=Qs(e,t),d=await Rf(t,u),f=Pi(i),p=ru(i),h=vo(i)==="y",{width:m,height:_}=o.floating;let T,y;f==="top"||f==="bottom"?(T=f,y=p===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(y=f,T=p==="end"?"top":"bottom");const E=_-d.top-d.bottom,w=m-d.left-d.right,M=_o(_-d[T],E),F=_o(m-d[y],w),P=!t.middlewareData.shift;let b=M,x=F;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(x=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(b=E),P&&!p){const I=Dt(d.left,0),A=Dt(d.right,0),L=Dt(d.top,0),k=Dt(d.bottom,0);h?x=m-2*(I!==0||A!==0?I+A:Dt(d.left,d.right)):b=_-2*(L!==0||k!==0?L+k:Dt(d.top,d.bottom))}await l({...t,availableWidth:x,availableHeight:b});const C=await s.getDimensions(a.floating);return m!==C.width||_!==C.height?{reset:{rects:!0}}:{}}}};function sb(e){const t=Gn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=ar(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=Pl(n)!==o||Pl(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function E_(e){return zt(e)?e:e.contextElement}function ds(e){const t=E_(e);if(!ar(t))return or(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=sb(t);let s=(o?Pl(n.width):n.width)/r,a=(o?Pl(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const d9=or(0);function ab(e){const t=dn(e);return!v_()||!t.visualViewport?d9:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function f9(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==dn(e)?!1:t}function Eo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=E_(e);let s=or(1);t&&(r?zt(r)&&(s=ds(r)):s=ds(e));const a=f9(o,n,r)?ab(o):or(0);let l=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,d=i.width/s.x,f=i.height/s.y;if(o){const p=dn(o),h=r&&zt(r)?dn(r):r;let m=p,_=Km(m);for(;_&&r&&h!==m;){const T=ds(_),y=_.getBoundingClientRect(),E=Gn(_),w=y.left+(_.clientLeft+parseFloat(E.paddingLeft))*T.x,M=y.top+(_.clientTop+parseFloat(E.paddingTop))*T.y;l*=T.x,u*=T.y,d*=T.x,f*=T.y,l+=w,u+=M,m=dn(_),_=Km(m)}}return Rd({width:d,height:f,x:l,y:u})}function w_(e,t){const n=Cf(e).scrollLeft;return t?t.left+n:Eo(dr(e)).left+n}function lb(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:w_(e,r)),o=r.top+t.scrollTop;return{x:i,y:o}}function h9(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",s=dr(r),a=t?xf(t.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},u=or(1);const d=or(0),f=ar(r);if((f||!f&&!o)&&((Xs(r)!=="body"||nu(s))&&(l=Cf(r)),ar(r))){const h=Eo(r);u=ds(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}const p=s&&!f&&!o?lb(s,l,!0):or(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-l.scrollTop*u.y+d.y+p.y}}function p9(e){return Array.from(e.getClientRects())}function m9(e){const t=dr(e),n=Cf(e),r=e.ownerDocument.body,i=Dt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Dt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+w_(e);const a=-n.scrollTop;return Gn(r).direction==="rtl"&&(s+=Dt(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function g9(e,t){const n=dn(e),r=dr(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const u=v_();(!u||u&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function y9(e,t){const n=Eo(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=ar(e)?ds(e):or(1),s=e.clientWidth*o.x,a=e.clientHeight*o.y,l=i*o.x,u=r*o.y;return{width:s,height:a,x:l,y:u}}function yw(e,t,n){let r;if(t==="viewport")r=g9(e,n);else if(t==="document")r=m9(dr(e));else if(zt(t))r=y9(t,n);else{const i=ab(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Rd(r)}function ub(e,t){const n=ki(e);return n===t||!zt(n)||As(n)?!1:Gn(n).position==="fixed"||ub(n,t)}function _9(e,t){const n=t.get(e);if(n)return n;let r=kl(e,[],!1).filter(a=>zt(a)&&Xs(a)!=="body"),i=null;const o=Gn(e).position==="fixed";let s=o?ki(e):e;for(;zt(s)&&!As(s);){const a=Gn(s),l=__(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||nu(s)&&!l&&ub(e,s))?r=r.filter(d=>d!==s):i=a,s=ki(s)}return t.set(e,r),r}function v9(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?xf(t)?[]:_9(t,this._c):[].concat(n),r],a=s[0],l=s.reduce((u,d)=>{const f=yw(t,d,i);return u.top=Dt(f.top,u.top),u.right=_o(f.right,u.right),u.bottom=_o(f.bottom,u.bottom),u.left=Dt(f.left,u.left),u},yw(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function E9(e){const{width:t,height:n}=sb(e);return{width:t,height:n}}function w9(e,t,n){const r=ar(t),i=dr(t),o=n==="fixed",s=Eo(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=or(0);if(r||!r&&!o)if((Xs(t)!=="body"||nu(i))&&(a=Cf(t)),r){const p=Eo(t,!0,o,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else i&&(l.x=w_(i));const u=i&&!r&&!o?lb(i,a):or(0),d=s.left+a.scrollLeft-l.x-u.x,f=s.top+a.scrollTop-l.y-u.y;return{x:d,y:f,width:s.width,height:s.height}}function Yh(e){return Gn(e).position==="static"}function _w(e,t){if(!ar(e)||Gn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return dr(e)===n&&(n=n.ownerDocument.body),n}function cb(e,t){const n=dn(e);if(xf(e))return n;if(!ar(e)){let i=ki(e);for(;i&&!As(i);){if(zt(i)&&!Yh(i))return i;i=ki(i)}return n}let r=_w(e,t);for(;r&&K6(r)&&Yh(r);)r=_w(r,t);return r&&As(r)&&Yh(r)&&!__(r)?n:r||X6(e)||n}const S9=async function(e){const t=this.getOffsetParent||cb,n=this.getDimensions,r=await n(e.floating);return{reference:w9(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function I9(e){return Gn(e).direction==="rtl"}const T9={convertOffsetParentRelativeRectToViewportRelativeRect:h9,getDocumentElement:dr,getClippingRect:v9,getOffsetParent:cb,getElementRects:S9,getClientRects:p9,getDimensions:E9,getScale:ds,isElement:zt,isRTL:I9};function x9(e,t){let n=null,r;const i=dr(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:u,top:d,width:f,height:p}=e.getBoundingClientRect();if(a||t(),!f||!p)return;const h=Zu(d),m=Zu(i.clientWidth-(u+f)),_=Zu(i.clientHeight-(d+p)),T=Zu(u),E={rootMargin:-h+"px "+-m+"px "+-_+"px "+-T+"px",threshold:Dt(0,_o(1,l))||1};let w=!0;function M(F){const P=F[0].intersectionRatio;if(P!==l){if(!w)return s();P?s(!1,P):r=setTimeout(()=>{s(!1,1e-7)},1e3)}w=!1}try{n=new IntersectionObserver(M,{...E,root:i.ownerDocument})}catch{n=new IntersectionObserver(M,E)}n.observe(e)}return s(!0),o}function C9(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=E_(e),d=i||o?[...u?kl(u):[],...kl(t)]:[];d.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),o&&y.addEventListener("resize",n)});const f=u&&a?x9(u,n):null;let p=-1,h=null;s&&(h=new ResizeObserver(y=>{let[E]=y;E&&E.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(t)})),n()}),u&&!l&&h.observe(u),h.observe(t));let m,_=l?Eo(e):null;l&&T();function T(){const y=Eo(e);_&&(y.x!==_.x||y.y!==_.y||y.width!==_.width||y.height!==_.height)&&n(),_=y,m=requestAnimationFrame(T)}return n(),()=>{var y;d.forEach(E=>{i&&E.removeEventListener("scroll",n),o&&E.removeEventListener("resize",n)}),f==null||f(),(y=h)==null||y.disconnect(),h=null,l&&cancelAnimationFrame(m)}}const Jh=Rf,R9=l9,b9=u9,A9=s9,k9=c9,P9=(e,t,n)=>{const r=new Map,i={platform:T9,...n},o={...i.platform,_c:r};return o9(e,t,{...i,platform:o})};var Ac=typeof document<"u"?S.useLayoutEffect:S.useEffect;function bd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!bd(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!bd(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function db(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function vw(e,t){const n=db(e);return Math.round(t*n)/n}function Zh(e){const t=S.useRef(e);return Ac(()=>{t.current=e}),t}function D9(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[d,f]=S.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,h]=S.useState(r);bd(p,r)||h(r);const[m,_]=S.useState(null),[T,y]=S.useState(null),E=S.useCallback(z=>{z!==P.current&&(P.current=z,_(z))},[]),w=S.useCallback(z=>{z!==b.current&&(b.current=z,y(z))},[]),M=o||m,F=s||T,P=S.useRef(null),b=S.useRef(null),x=S.useRef(d),C=l!=null,I=Zh(l),A=Zh(i),L=Zh(u),k=S.useCallback(()=>{if(!P.current||!b.current)return;const z={placement:t,strategy:n,middleware:p};A.current&&(z.platform=A.current),P9(P.current,b.current,z).then(W=>{const N={...W,isPositioned:L.current!==!1};Y.current&&!bd(x.current,N)&&(x.current=N,Jt.flushSync(()=>{f(N)}))})},[p,t,n,A,L]);Ac(()=>{u===!1&&x.current.isPositioned&&(x.current.isPositioned=!1,f(z=>({...z,isPositioned:!1})))},[u]);const Y=S.useRef(!1);Ac(()=>(Y.current=!0,()=>{Y.current=!1}),[]),Ac(()=>{if(M&&(P.current=M),F&&(b.current=F),M&&F){if(I.current)return I.current(M,F,k);k()}},[M,F,k,I,C]);const Z=S.useMemo(()=>({reference:P,floating:b,setReference:E,setFloating:w}),[E,w]),re=S.useMemo(()=>({reference:M,floating:F}),[M,F]),ne=S.useMemo(()=>{const z={position:n,left:0,top:0};if(!re.floating)return z;const W=vw(re.floating,d.x),N=vw(re.floating,d.y);return a?{...z,transform:"translate("+W+"px, "+N+"px)",...db(re.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:N}},[n,a,re.floating,d.x,d.y]);return S.useMemo(()=>({...d,update:k,refs:Z,elements:re,floatingStyles:ne}),[d,k,Z,re,ne])}const fb=(e,t)=>({...R9(e),options:[e,t]}),N9=(e,t)=>({...b9(e),options:[e,t]}),O9=(e,t)=>({...A9(e),options:[e,t]}),L9=(e,t)=>({...k9(e),options:[e,t]}),hb={...fp},M9=hb.useInsertionEffect,F9=M9||(e=>e());function pb(e){const t=S.useRef(()=>{});return F9(()=>{t.current=e}),S.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}var Qm=typeof document<"u"?S.useLayoutEffect:S.useEffect;let Ew=!1,V9=0;const ww=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+V9++;function $9(){const[e,t]=S.useState(()=>Ew?ww():void 0);return Qm(()=>{e==null&&t(ww())},[]),S.useEffect(()=>{Ew=!0},[]),e}const U9=hb.useId,z9=U9||$9;function j9(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const B9=S.createContext(null),H9=S.createContext(null),G9=()=>{var e;return((e=S.useContext(B9))==null?void 0:e.id)||null},q9=()=>S.useContext(H9),W9="data-floating-ui-focusable";function K9(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=z9(),o=S.useRef({}),[s]=S.useState(()=>j9()),a=G9()!=null,[l,u]=S.useState(r.reference),d=pb((h,m,_)=>{o.current.openEvent=h?m:void 0,s.emit("openchange",{open:h,event:m,reason:_,nested:a}),n==null||n(h,m,_)}),f=S.useMemo(()=>({setPositionReference:u}),[]),p=S.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return S.useMemo(()=>({dataRef:o,open:t,onOpenChange:d,elements:p,events:s,floatingId:i,refs:f}),[t,d,p,s,i,f])}function X9(e){e===void 0&&(e={});const{nodeId:t}=e,n=K9({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[o,s]=S.useState(null),[a,l]=S.useState(null),d=(i==null?void 0:i.domReference)||o,f=S.useRef(null),p=q9();Qm(()=>{d&&(f.current=d)},[d]);const h=D9({...e,elements:{...i,...a&&{reference:a}}}),m=S.useCallback(w=>{const M=zt(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),contextElement:w}:w;l(M),h.refs.setReference(M)},[h.refs]),_=S.useCallback(w=>{(zt(w)||w===null)&&(f.current=w,s(w)),(zt(h.refs.reference.current)||h.refs.reference.current===null||w!==null&&!zt(w))&&h.refs.setReference(w)},[h.refs]),T=S.useMemo(()=>({...h.refs,setReference:_,setPositionReference:m,domReference:f}),[h.refs,_,m]),y=S.useMemo(()=>({...h.elements,domReference:d}),[h.elements,d]),E=S.useMemo(()=>({...h,...r,refs:T,elements:y,nodeId:t}),[h,T,y,t,r]);return Qm(()=>{r.dataRef.current.floatingContext=E;const w=p==null?void 0:p.nodesRef.current.find(M=>M.id===t);w&&(w.context=E)}),S.useMemo(()=>({...h,context:E,refs:T,elements:y}),[h,T,y,E])}const Sw="active",Iw="selected";function ep(e,t,n){const r=new Map,i=n==="item";let o=e;if(i&&e){const{[Sw]:s,[Iw]:a,...l}=e;o=l}return{...n==="floating"&&{tabIndex:-1,[W9]:""},...o,...t.map(s=>{const a=s?s[n]:null;return typeof a=="function"?e?a(e):null:a}).concat(e).reduce((s,a)=>(a&&Object.entries(a).forEach(l=>{let[u,d]=l;if(!(i&&[Sw,Iw].includes(u)))if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof d=="function"){var f;(f=r.get(u))==null||f.push(d),s[u]=function(){for(var p,h=arguments.length,m=new Array(h),_=0;_<h;_++)m[_]=arguments[_];return(p=r.get(u))==null?void 0:p.map(T=>T(...m)).find(T=>T!==void 0)}}}else s[u]=d}),s),{})}}function Q9(e){e===void 0&&(e=[]);const t=e.map(a=>a==null?void 0:a.reference),n=e.map(a=>a==null?void 0:a.floating),r=e.map(a=>a==null?void 0:a.item),i=S.useCallback(a=>ep(a,e,"reference"),t),o=S.useCallback(a=>ep(a,e,"floating"),n),s=S.useCallback(a=>ep(a,e,"item"),r);return S.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:s}),[i,o,s])}function Tw(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const Y9=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:r,onFallbackChange:i,offset:o=0,index:s=0,minItemsVisible:a=4,referenceOverflowThreshold:l=0,scrollRef:u,...d}=Qs(e,t),{rects:f,elements:{floating:p}}=t,h=n.current[s],m=(u==null?void 0:u.current)||p,_=p.clientTop||m.clientTop,T=p.clientTop!==0,y=m.clientTop!==0,E=p===m;if(!h)return{};const w={...t,...await fb(-h.offsetTop-p.clientTop-f.reference.height/2-h.offsetHeight/2-o).fn(t)},M=await Jh(Tw(w,m.scrollHeight+_+p.clientTop),d),F=await Jh(w,{...d,elementContext:"reference"}),P=Dt(0,M.top),b=w.y+P,I=(m.scrollHeight>m.clientHeight?A=>A:Pl)(Dt(0,m.scrollHeight+(T&&E||y?_*2:0)-P-Dt(0,M.bottom)));if(m.style.maxHeight=I+"px",m.scrollTop=P,i){const A=m.offsetHeight<h.offsetHeight*_o(a,n.current.length)-1||F.top>=-l||F.bottom>=-l;Jt.flushSync(()=>i(A))}return r&&(r.current=await Jh(Tw({...w,y:b},m.offsetHeight+_+p.clientTop),d)),{y:b}}});function J9(e,t){const{open:n,elements:r}=e,{enabled:i=!0,overflowRef:o,scrollRef:s,onChange:a}=t,l=pb(a),u=S.useRef(!1),d=S.useRef(null),f=S.useRef(null);S.useEffect(()=>{if(!i)return;function h(_){if(_.ctrlKey||!m||o.current==null)return;const T=_.deltaY,y=o.current.top>=-.5,E=o.current.bottom>=-.5,w=m.scrollHeight-m.clientHeight,M=T<0?-1:1,F=T<0?"max":"min";m.scrollHeight<=m.clientHeight||(!y&&T>0||!E&&T<0?(_.preventDefault(),Jt.flushSync(()=>{l(P=>P+Math[F](T,w*M))})):/firefox/i.test(Q6())&&(m.scrollTop+=T))}const m=(s==null?void 0:s.current)||r.floating;if(n&&m)return m.addEventListener("wheel",h),requestAnimationFrame(()=>{d.current=m.scrollTop,o.current!=null&&(f.current={...o.current})}),()=>{d.current=null,f.current=null,m.removeEventListener("wheel",h)}},[i,n,r.floating,o,s,l]);const p=S.useMemo(()=>({onKeyDown(){u.current=!0},onWheel(){u.current=!1},onPointerMove(){u.current=!1},onScroll(){const h=(s==null?void 0:s.current)||r.floating;if(!(!o.current||!h||!u.current)){if(d.current!==null){const m=h.scrollTop-d.current;(o.current.bottom<-.5&&m<-1||o.current.top<-.5&&m>1)&&Jt.flushSync(()=>l(_=>_+m))}requestAnimationFrame(()=>{d.current=h.scrollTop})}}}),[r.floating,l,o,s]);return S.useMemo(()=>i?{floating:p}:{},[i,p])}let Ys=S.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Ys.displayName="FloatingContext";let S_=S.createContext(null);S_.displayName="PlacementContext";function Z9(e){return S.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function e8(){return S.useContext(Ys).setReference}function t8(){return S.useContext(Ys).getReferenceProps}function n8(){let{getFloatingProps:e,slot:t}=S.useContext(Ys);return S.useCallback((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function r8(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=S.useContext(S_),n=S.useMemo(()=>e,[JSON.stringify(e,(i,o)=>{var s;return(s=o==null?void 0:o.outerHTML)!=null?s:o})]);ft(()=>{t==null||t(n??null)},[t,n]);let r=S.useContext(Ys);return S.useMemo(()=>[r.setFloating,e?r.styles:{}],[r.setFloating,e,r.styles])}let xw=4;function i8({children:e,enabled:t=!0}){let[n,r]=S.useState(null),[i,o]=S.useState(0),s=S.useRef(null),[a,l]=S.useState(null);o8(a);let u=t&&n!==null&&a!==null,{to:d="bottom",gap:f=0,offset:p=0,padding:h=0,inner:m}=s8(n,a),[_,T="center"]=d.split(" ");ft(()=>{u&&o(0)},[u]);let{refs:y,floatingStyles:E,context:w}=X9({open:u,placement:_==="selection"?T==="center"?"bottom":`bottom-${T}`:T==="center"?`${_}`:`${_}-${T}`,strategy:"absolute",transform:!1,middleware:[fb({mainAxis:_==="selection"?0:f,crossAxis:p}),N9({padding:h}),_!=="selection"&&O9({padding:h}),_==="selection"&&m?Y9({...m,padding:h,overflowRef:s,offset:i,minItemsVisible:xw,referenceOverflowThreshold:h,onFallbackChange(A){var L,k;if(!A)return;let Y=w.elements.floating;if(!Y)return;let Z=parseFloat(getComputedStyle(Y).scrollPaddingBottom)||0,re=Math.min(xw,Y.childElementCount),ne=0,z=0;for(let W of(k=(L=w.elements.floating)==null?void 0:L.childNodes)!=null?k:[])if(W instanceof HTMLElement){let N=W.offsetTop,de=N+W.clientHeight+Z,ue=Y.scrollTop,O=ue+Y.clientHeight;if(N>=ue&&de<=O)re--;else{z=Math.max(0,Math.min(de,O)-Math.max(N,ue)),ne=W.clientHeight;break}}re>=1&&o(W=>{let N=ne*re-z+Z;return W>=N?W:N})}}):null,L9({padding:h,apply({availableWidth:A,availableHeight:L,elements:k}){Object.assign(k.floating.style,{overflow:"auto",maxWidth:`${A}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${L}px)`})}})].filter(Boolean),whileElementsMounted:C9}),[M=_,F=T]=w.placement.split("-");_==="selection"&&(M="selection");let P=S.useMemo(()=>({anchor:[M,F].filter(Boolean).join(" ")}),[M,F]),b=J9(w,{overflowRef:s,onChange:o}),{getReferenceProps:x,getFloatingProps:C}=Q9([b]),I=xe(A=>{l(A),y.setFloating(A)});return S.createElement(S_.Provider,{value:r},S.createElement(Ys.Provider,{value:{setFloating:I,setReference:y.setReference,styles:E,getReferenceProps:x,getFloatingProps:C,slot:P}},e))}function o8(e){ft(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,r=parseFloat(n);if(isNaN(r))return;let i=parseInt(n);isNaN(i)||r!==i&&(e.style.maxHeight=`${Math.ceil(r)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function s8(e,t){var n,r,i;let o=tp((n=e==null?void 0:e.gap)!=null?n:"var(--anchor-gap, 0)",t),s=tp((r=e==null?void 0:e.offset)!=null?r:"var(--anchor-offset, 0)",t),a=tp((i=e==null?void 0:e.padding)!=null?i:"var(--anchor-padding, 0)",t);return{...e,gap:o,offset:s,padding:a}}function tp(e,t,n=void 0){let r=Ws(),i=xe((l,u)=>{if(l==null)return[n,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!u)return[n,null];let d=Cw(l,u);return[d,f=>{let p=mb(l);{let h=p.map(m=>window.getComputedStyle(u).getPropertyValue(m));r.requestAnimationFrame(function m(){r.nextFrame(m);let _=!1;for(let[y,E]of p.entries()){let w=window.getComputedStyle(u).getPropertyValue(E);if(h[y]!==w){h[y]=w,_=!0;break}}if(!_)return;let T=Cw(l,u);d!==T&&(f(T),d=T)})}return r.dispose}]}return[n,null]}),o=S.useMemo(()=>i(e,t)[0],[e,t]),[s=o,a]=S.useState();return ft(()=>{let[l,u]=i(e,t);if(a(l),!!u)return u(a)},[e,t]),s}function mb(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let r=t[1].slice(0,n).trim(),i=t[1].slice(n+1).trim();return i?[r,...mb(i)]:[r]}return[]}function Cw(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),r}function a8(e,t){let[n,r]=S.useState(t);return!e&&n!==t&&r(t),e?n:t}let I_=S.createContext(null);I_.displayName="OpenClosedContext";var Dl=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Dl||{});function l8(){return S.useContext(I_)}function u8({value:e,children:t}){return De.createElement(I_.Provider,{value:e},t)}function c8(e){throw new Error("Unexpected object: "+e)}var rt=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(rt||{});function np(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),i=r??-1;switch(e.focus){case 0:{for(let o=0;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 1:{i===-1&&(i=n.length);for(let o=i-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 2:{for(let o=i+1;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 3:{for(let o=n.length-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 4:{for(let o=0;o<n.length;++o)if(t.resolveId(n[o],o,n)===e.id)return o;return r}case 5:return null;default:c8(e)}}function d8(e){let t=xe(e),n=S.useRef(!1);S.useEffect(()=>(n.current=!1,()=>{n.current=!0,FR(()=>{n.current&&t()})}),[t])}function f8(){let e=typeof document>"u";return"useSyncExternalStore"in fp?(t=>t.useSyncExternalStore)(fp)(()=>()=>{},()=>!1,()=>!e):!1}function h8(){let e=f8(),[t,n]=S.useState(so.isHandoffComplete);return t&&so.isHandoffComplete===!1&&n(!1),S.useEffect(()=>{t!==!0&&n(!0)},[t]),S.useEffect(()=>so.handoff(),[]),e?!1:t}let p8=S.createContext(!1);function m8(){return S.useContext(p8)}function g8(e){let t=m8(),n=S.useContext(yb),r=y_(e),[i,o]=S.useState(()=>{var s;if(!t&&n!==null)return(s=n.current)!=null?s:null;if(so.isServer)return null;let a=r==null?void 0:r.getElementById("headlessui-portal-root");if(a)return a;if(r===null)return null;let l=r.createElement("div");return l.setAttribute("id","headlessui-portal-root"),r.body.appendChild(l)});return S.useEffect(()=>{i!==null&&(r!=null&&r.body.contains(i)||r==null||r.body.appendChild(i))},[i,r]),S.useEffect(()=>{t||n!==null&&o(n.current)},[n,o,t]),i}let gb=S.Fragment,y8=An(function(e,t){let n=e,r=S.useRef(null),i=cr(t6(f=>{r.current=f}),t),o=y_(r),s=g8(r),[a]=S.useState(()=>{var f;return so.isServer?null:(f=o==null?void 0:o.createElement("div"))!=null?f:null}),l=S.useContext(w8),u=h8();ft(()=>{!s||!a||s.contains(a)||(a.setAttribute("data-headlessui-portal",""),s.appendChild(a))},[s,a]),ft(()=>{if(a&&l)return l.register(a)},[l,a]),d8(()=>{var f;!s||!a||(a instanceof Node&&s.contains(a)&&s.removeChild(a),s.childNodes.length<=0&&((f=s.parentElement)==null||f.removeChild(s)))});let d=bn();return u?!s||!a?null:Jt.createPortal(d({ourProps:{ref:i},theirProps:n,slot:{},defaultTag:gb,name:"Portal"}),a):null});function _8(e,t){let n=cr(t),{enabled:r=!0,...i}=e,o=bn();return r?De.createElement(y8,{...i,ref:n}):o({ourProps:{ref:n},theirProps:i,slot:{},defaultTag:gb,name:"Portal"})}let v8=S.Fragment,yb=S.createContext(null);function E8(e,t){let{target:n,...r}=e,i={ref:cr(t)},o=bn();return De.createElement(yb.Provider,{value:n},o({ourProps:i,theirProps:r,defaultTag:v8,name:"Popover.Group"}))}let w8=S.createContext(null),S8=An(_8),I8=An(E8),T8=Object.assign(S8,{Group:I8});function x8(e,t){let n=S.useRef({left:0,top:0});if(ft(()=>{if(!t)return;let i=t.getBoundingClientRect();i&&(n.current=i)},[e,t]),t==null||!e||t===document.activeElement)return!1;let r=t.getBoundingClientRect();return r.top!==n.current.top||r.left!==n.current.left}let Rw=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function bw(e){var t,n;let r=(t=e.innerText)!=null?t:"",i=e.cloneNode(!0);if(!(i instanceof HTMLElement))return r;let o=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),o=!0;let s=o?(n=i.innerText)!=null?n:"":r;return Rw.test(s)&&(s=s.replace(Rw,"")),s}function C8(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let o=document.getElementById(i);if(o){let s=o.getAttribute("aria-label");return typeof s=="string"?s.trim():bw(o).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return bw(e).trim()}function R8(e){let t=S.useRef(""),n=S.useRef("");return xe(()=>{let r=e.current;if(!r)return"";let i=r.innerText;if(t.current===i)return n.current;let o=C8(r).trim().toLowerCase();return t.current=i,n.current=o,o})}var b8=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(b8||{}),A8=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(A8||{}),k8=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(k8||{}),P8=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetOptionsElement=8]="SetOptionsElement",e))(P8||{});function rp(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=ZR(t(e.options.slice()),o=>o.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{options:r,activeOptionIndex:i}}let D8={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1,__demoMode:!1}},0(e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,r=e.options.findIndex(i=>n(i.dataRef.current.value));return r!==-1&&(t=r),{...e,listboxState:0,activeOptionIndex:t,__demoMode:!1}},2(e,t){var n,r,i,o,s;if(e.dataRef.current.disabled||e.listboxState===1)return e;let a={...e,searchQuery:"",activationTrigger:(n=t.trigger)!=null?n:1,__demoMode:!1};if(t.focus===rt.Nothing)return{...a,activeOptionIndex:null};if(t.focus===rt.Specific)return{...a,activeOptionIndex:e.options.findIndex(d=>d.id===t.id)};if(t.focus===rt.Previous){let d=e.activeOptionIndex;if(d!==null){let f=e.options[d].dataRef.current.domRef,p=np(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:h=>h.id,resolveDisabled:h=>h.dataRef.current.disabled});if(p!==null){let h=e.options[p].dataRef.current.domRef;if(((r=f.current)==null?void 0:r.previousElementSibling)===h.current||((i=h.current)==null?void 0:i.previousElementSibling)===null)return{...a,activeOptionIndex:p}}}}else if(t.focus===rt.Next){let d=e.activeOptionIndex;if(d!==null){let f=e.options[d].dataRef.current.domRef,p=np(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:h=>h.id,resolveDisabled:h=>h.dataRef.current.disabled});if(p!==null){let h=e.options[p].dataRef.current.domRef;if(((o=f.current)==null?void 0:o.nextElementSibling)===h.current||((s=h.current)==null?void 0:s.nextElementSibling)===null)return{...a,activeOptionIndex:p}}}}let l=rp(e),u=np(t,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled});return{...a,...l,activeOptionIndex:u}},3:(e,t)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),i=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(s=>{var a;return!s.dataRef.current.disabled&&((a=s.dataRef.current.textValue)==null?void 0:a.startsWith(r))}),o=i?e.options.indexOf(i):-1;return o===-1||o===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:o,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},r=rp(e,i=>[...i,n]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(n)),{...e,...r}},6:(e,t)=>{let n=rp(e,r=>{let i=r.findIndex(o=>o.id===t.id);return i!==-1&&r.splice(i,1),r});return{...e,...n,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.optionsElement===t.element?e:{...e,optionsElement:t.element}},T_=S.createContext(null);T_.displayName="ListboxActionsContext";function bf(e){let t=S.useContext(T_);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,bf),n}return t}let Af=S.createContext(null);Af.displayName="ListboxDataContext";function iu(e){let t=S.useContext(Af);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,iu),n}return t}function N8(e,t){return Rr(t.type,D8,e,t)}let O8=S.Fragment;function L8(e,t){var n;let r=Sf(),{value:i,defaultValue:o,form:s,name:a,onChange:l,by:u,invalid:d=!1,disabled:f=r||!1,horizontal:p=!1,multiple:h=!1,__demoMode:m=!1,..._}=e;const T=p?"horizontal":"vertical";let y=cr(t),E=HB(o),[w=h?[]:void 0,M]=BB(i,l,E),[F,P]=S.useReducer(N8,{dataRef:S.createRef(),listboxState:m?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,optionsVisible:!1,buttonElement:null,optionsElement:null,__demoMode:m}),b=S.useRef({static:!1,hold:!1}),x=S.useRef(new Map),C=f6(u),I=S.useCallback(Re=>Rr(A.mode,{1:()=>w.some(Be=>C(Be,Re)),0:()=>C(w,Re)}),[w]),A=S.useMemo(()=>({...F,value:w,disabled:f,invalid:d,mode:h?1:0,orientation:T,compare:C,isSelected:I,optionsPropsRef:b,listRef:x}),[w,f,d,h,F,x]);ft(()=>{F.dataRef.current=A},[A]);let L=A.listboxState===0;P6(L,[A.buttonElement,A.optionsElement],(Re,Be)=>{var St;P({type:1}),JR(Be,g_.Loose)||(Re.preventDefault(),(St=A.buttonElement)==null||St.focus())});let k=S.useMemo(()=>({open:A.listboxState===0,disabled:f,invalid:d,value:w}),[A,f,w,d]),Y=xe(Re=>{let Be=A.options.find(St=>St.id===Re);Be&&de(Be.dataRef.current.value)}),Z=xe(()=>{if(A.activeOptionIndex!==null){let{dataRef:Re,id:Be}=A.options[A.activeOptionIndex];de(Re.current.value),P({type:2,focus:rt.Specific,id:Be})}}),re=xe(()=>P({type:0})),ne=xe(()=>P({type:1})),z=Ws(),W=xe((Re,Be,St)=>{z.dispose(),z.microTask(()=>Re===rt.Specific?P({type:2,focus:rt.Specific,id:Be,trigger:St}):P({type:2,focus:Re,trigger:St}))}),N=xe((Re,Be)=>(P({type:5,id:Re,dataRef:Be}),()=>P({type:6,id:Re}))),de=xe(Re=>Rr(A.mode,{0(){return M==null?void 0:M(Re)},1(){let Be=A.value.slice(),St=Be.findIndex(Ur=>C(Ur,Re));return St===-1?Be.push(Re):Be.splice(St,1),M==null?void 0:M(Be)}})),ue=xe(Re=>P({type:3,value:Re})),O=xe(()=>P({type:4})),ye=xe(Re=>{P({type:7,element:Re})}),Ue=xe(Re=>{P({type:8,element:Re})}),Ce=S.useMemo(()=>({onChange:de,registerOption:N,goToOption:W,closeListbox:ne,openListbox:re,selectActiveOption:Z,selectOption:Y,search:ue,clearSearch:O,setButtonElement:ye,setOptionsElement:Ue}),[]),[ht,gn]=s6({inherit:!0}),Wn={ref:y},Zt=S.useCallback(()=>{if(E!==void 0)return M==null?void 0:M(E)},[M,E]),kn=bn();return De.createElement(gn,{value:ht,props:{htmlFor:(n=A.buttonElement)==null?void 0:n.id},slot:{open:A.listboxState===0,disabled:f}},De.createElement(i8,null,De.createElement(T_.Provider,{value:Ce},De.createElement(Af.Provider,{value:A},De.createElement(u8,{value:Rr(A.listboxState,{0:Dl.Open,1:Dl.Closed})},a!=null&&w!=null&&De.createElement(QB,{disabled:f,data:{[a]:w},form:s,onReset:Zt}),kn({ourProps:Wn,theirProps:_,slot:k,defaultTag:O8,name:"Listbox"}))))))}let M8="button";function F8(e,t){var n;let r=iu("Listbox.Button"),i=bf("Listbox.Button"),o=S.useId(),s=HR(),{id:a=s||`headlessui-listbox-button-${o}`,disabled:l=r.disabled||!1,autoFocus:u=!1,...d}=e,f=cr(t,e8(),i.setButtonElement),p=t8(),h=xe(A=>{switch(A.key){case at.Enter:GB(A.currentTarget);break;case at.Space:case at.ArrowDown:A.preventDefault(),Jt.flushSync(()=>i.openListbox()),r.value||i.goToOption(rt.First);break;case at.ArrowUp:A.preventDefault(),Jt.flushSync(()=>i.openListbox()),r.value||i.goToOption(rt.Last);break}}),m=xe(A=>{switch(A.key){case at.Space:A.preventDefault();break}}),_=xe(A=>{var L;if(ZB(A.currentTarget))return A.preventDefault();r.listboxState===0?(Jt.flushSync(()=>i.closeListbox()),(L=r.buttonElement)==null||L.focus({preventScroll:!0})):(A.preventDefault(),i.openListbox())}),T=xe(A=>A.preventDefault()),y=KR([a]),E=n6(),{isFocusVisible:w,focusProps:M}=MR({autoFocus:u}),{isHovered:F,hoverProps:P}=LR({isDisabled:l}),{pressed:b,pressProps:x}=VR({disabled:l}),C=S.useMemo(()=>({open:r.listboxState===0,active:b||r.listboxState===0,disabled:l,invalid:r.invalid,value:r.value,hover:F,focus:w,autofocus:u}),[r.listboxState,r.value,l,F,w,b,r.invalid,u]),I=f_(p(),{ref:f,id:a,type:D6(e,r.buttonElement),"aria-haspopup":"listbox","aria-controls":(n=r.optionsElement)==null?void 0:n.id,"aria-expanded":r.listboxState===0,"aria-labelledby":y,"aria-describedby":E,disabled:l||void 0,autoFocus:u,onKeyDown:h,onKeyUp:m,onKeyPress:T,onClick:_},M,P,x);return bn()({ourProps:I,theirProps:d,slot:C,defaultTag:M8,name:"Listbox.Button"})}let _b=S.createContext(!1),V8="div",$8=Hm.RenderStrategy|Hm.Static;function U8(e,t){var n,r;let i=S.useId(),{id:o=`headlessui-listbox-options-${i}`,anchor:s,portal:a=!1,modal:l=!0,transition:u=!1,...d}=e,f=Z9(s),[p,h]=S.useState(null);f&&(a=!0);let m=iu("Listbox.Options"),_=bf("Listbox.Options"),T=y_(m.optionsElement),y=l8(),[E,w]=H6(u,p,y!==null?(y&Dl.Open)===Dl.Open:m.listboxState===0);_6(E,m.buttonElement,_.closeListbox);let M=m.__demoMode?!1:l&&m.listboxState===0;V6(M,T);let F=m.__demoMode?!1:l&&m.listboxState===0;y6(F,{allowed:S.useCallback(()=>[m.buttonElement,m.optionsElement],[m.buttonElement,m.optionsElement])});let P=m.listboxState!==0,b=x8(P,m.buttonElement)?!1:E,x=E&&m.listboxState===1,C=a8(x,m.value),I=xe(O=>m.compare(C,O)),A=S.useMemo(()=>{var O;if(f==null||!((O=f==null?void 0:f.to)!=null&&O.includes("selection")))return null;let ye=m.options.findIndex(Ue=>I(Ue.dataRef.current.value));return ye===-1&&(ye=0),ye},[f,m.options]),L=(()=>{if(f==null)return;if(A===null)return{...f,inner:void 0};let O=Array.from(m.listRef.current.values());return{...f,inner:{listRef:{current:O},index:A}}})(),[k,Y]=r8(L),Z=n8(),re=cr(t,f?k:null,_.setOptionsElement,h),ne=Ws();S.useEffect(()=>{var O;let ye=m.optionsElement;ye&&m.listboxState===0&&ye!==((O=tu(ye))==null?void 0:O.activeElement)&&(ye==null||ye.focus({preventScroll:!0}))},[m.listboxState,m.optionsElement]);let z=xe(O=>{var ye,Ue;switch(ne.dispose(),O.key){case at.Space:if(m.searchQuery!=="")return O.preventDefault(),O.stopPropagation(),_.search(O.key);case at.Enter:if(O.preventDefault(),O.stopPropagation(),m.activeOptionIndex!==null){let{dataRef:Ce}=m.options[m.activeOptionIndex];_.onChange(Ce.current.value)}m.mode===0&&(Jt.flushSync(()=>_.closeListbox()),(ye=m.buttonElement)==null||ye.focus({preventScroll:!0}));break;case Rr(m.orientation,{vertical:at.ArrowDown,horizontal:at.ArrowRight}):return O.preventDefault(),O.stopPropagation(),_.goToOption(rt.Next);case Rr(m.orientation,{vertical:at.ArrowUp,horizontal:at.ArrowLeft}):return O.preventDefault(),O.stopPropagation(),_.goToOption(rt.Previous);case at.Home:case at.PageUp:return O.preventDefault(),O.stopPropagation(),_.goToOption(rt.First);case at.End:case at.PageDown:return O.preventDefault(),O.stopPropagation(),_.goToOption(rt.Last);case at.Escape:O.preventDefault(),O.stopPropagation(),Jt.flushSync(()=>_.closeListbox()),(Ue=m.buttonElement)==null||Ue.focus({preventScroll:!0});return;case at.Tab:O.preventDefault(),O.stopPropagation(),Jt.flushSync(()=>_.closeListbox()),C6(m.buttonElement,O.shiftKey?Wm.Previous:Wm.Next);break;default:O.key.length===1&&(_.search(O.key),ne.setTimeout(()=>_.clearSearch(),350));break}}),W=(n=m.buttonElement)==null?void 0:n.id,N=S.useMemo(()=>({open:m.listboxState===0}),[m.listboxState]),de=f_(f?Z():{},{id:o,ref:re,"aria-activedescendant":m.activeOptionIndex===null||(r=m.options[m.activeOptionIndex])==null?void 0:r.id,"aria-multiselectable":m.mode===1?!0:void 0,"aria-labelledby":W,"aria-orientation":m.orientation,onKeyDown:z,role:"listbox",tabIndex:m.listboxState===0?0:void 0,style:{...d.style,...Y,"--button-width":p6(m.buttonElement,!0).width},...B6(w)}),ue=bn();return De.createElement(T8,{enabled:a?e.static||E:!1},De.createElement(Af.Provider,{value:m.mode===1?m:{...m,isSelected:I}},ue({ourProps:de,theirProps:d,slot:N,defaultTag:V8,features:$8,visible:b,name:"Listbox.Options"})))}let z8="div";function j8(e,t){let n=S.useId(),{id:r=`headlessui-listbox-option-${n}`,disabled:i=!1,value:o,...s}=e,a=S.useContext(_b)===!0,l=iu("Listbox.Option"),u=bf("Listbox.Option"),d=l.activeOptionIndex!==null?l.options[l.activeOptionIndex].id===r:!1,f=l.isSelected(o),p=S.useRef(null),h=R8(p),m=Ks({disabled:i,value:o,domRef:p,get textValue(){return h()}}),_=cr(t,p,C=>{C?l.listRef.current.set(r,C):l.listRef.current.delete(r)});ft(()=>{if(!l.__demoMode&&l.listboxState===0&&d&&l.activationTrigger!==0)return $r().requestAnimationFrame(()=>{var C,I;(I=(C=p.current)==null?void 0:C.scrollIntoView)==null||I.call(C,{block:"nearest"})})},[p,d,l.__demoMode,l.listboxState,l.activationTrigger,l.activeOptionIndex]),ft(()=>{if(!a)return u.registerOption(r,m)},[m,r,a]);let T=xe(C=>{var I;if(i)return C.preventDefault();u.onChange(o),l.mode===0&&(Jt.flushSync(()=>u.closeListbox()),(I=l.buttonElement)==null||I.focus({preventScroll:!0}))}),y=xe(()=>{if(i)return u.goToOption(rt.Nothing);u.goToOption(rt.Specific,r)}),E=$6(),w=xe(C=>{E.update(C),!i&&(d||u.goToOption(rt.Specific,r,0))}),M=xe(C=>{E.wasMoved(C)&&(i||d||u.goToOption(rt.Specific,r,0))}),F=xe(C=>{E.wasMoved(C)&&(i||d&&u.goToOption(rt.Nothing))}),P=S.useMemo(()=>({active:d,focus:d,selected:f,disabled:i,selectedOption:f&&a}),[d,f,i,a]),b=a?{}:{id:r,ref:_,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":f,disabled:void 0,onClick:T,onFocus:y,onPointerEnter:w,onMouseEnter:w,onPointerMove:M,onMouseMove:M,onPointerLeave:F,onMouseLeave:F},x=bn();return!f&&a?null:x({ourProps:b,theirProps:s,slot:P,defaultTag:z8,name:"Listbox.Option"})}let B8=S.Fragment;function H8(e,t){let{options:n,placeholder:r,...i}=e,o={ref:cr(t)},s=iu("ListboxSelectedOption"),a=S.useMemo(()=>({}),[]),l=s.value===void 0||s.value===null||s.mode===1&&Array.isArray(s.value)&&s.value.length===0,u=bn();return De.createElement(_b.Provider,{value:!0},u({ourProps:o,theirProps:{...i,children:De.createElement(De.Fragment,null,r&&l?r:n)},slot:a,defaultTag:B8,name:"ListboxSelectedOption"}))}let G8=An(L8),vb=An(F8),q8=c6,Eb=An(U8),wb=An(j8),W8=An(H8),K8=Object.assign(G8,{Button:vb,Label:q8,Options:Eb,Option:wb,SelectedOption:W8});const X8=({conversations:e,onClick:t})=>{const{suggestMessage1:n,suggestMessage2:r,languageCode:i}=S.useContext(Hs);return D.jsxs("div",{className:`flex justify-center gap-2 flex-wrap mt-0 md:mt-3 px-7 ${e.length===0?"block":"hidden"}`,children:[D.jsx(aw,{className:"template-question",value:n,onClick:t,children:i==="id"||i==="en"?`${n.substring(0,25)}...`:`${n.substring(0,10)}...`}),D.jsx(aw,{className:"template-question",value:r,onClick:t,children:i==="id"||i==="en"?`${n.substring(0,25)}...`:`${n.substring(0,10)}...`})]})};var Q8={LANGUAGE:"en_US",USER:"fadelyang",LC_TIME:"id_ID.UTF-8",npm_config_user_agent:"npm/9.8.1 node/v18.18.0 linux x64 workspaces/false",XDG_SESSION_TYPE:"x11",BUN_INSTALL:"/home/fadelyang/.bun",GIT_ASKPASS:"/usr/share/code/resources/app/extensions/git/dist/askpass.sh",npm_node_execpath:"/home/fadelyang/.nvm/versions/node/v18.18.0/bin/node",SHLVL:"3",npm_config_noproxy:"",HOME:"/home/fadelyang",OLDPWD:"/home/fadelyang/Documents/work/2-wir/wir-chat",LESS:"-R",CHROME_DESKTOP:"code-url-handler.desktop",DESKTOP_SESSION:"ubuntu",NVM_BIN:"/home/fadelyang/.nvm/versions/node/v18.18.0/bin",TERM_PROGRAM_VERSION:"1.85.1",npm_package_json:"/home/fadelyang/Documents/work/2-wir/wir-chat/package.json",ZSH:"/home/fadelyang/.oh-my-zsh",LSCOLORS:"Gxfxcxdxbxegedabagacad",NVM_INC:"/home/fadelyang/.nvm/versions/node/v18.18.0/include/node",GTK_MODULES:"gail:atk-bridge",XDG_SEAT_PATH:"/org/freedesktop/DisplayManager/Seat0",GNOME_SHELL_SESSION_MODE:"ubuntu",PAGER:"less",VSCODE_GIT_ASKPASS_MAIN:"/usr/share/code/resources/app/extensions/git/dist/askpass-main.js",LC_MONETARY:"id_ID.UTF-8",VSCODE_GIT_ASKPASS_NODE:"/usr/share/code/code",npm_config_userconfig:"/home/fadelyang/.npmrc",npm_config_local_prefix:"/home/fadelyang/Documents/work/2-wir/wir-chat",SYSTEMD_EXEC_PID:"2309",DBUS_SESSION_BUS_ADDRESS:"unix:path=/run/user/1000/bus",COLORTERM:"truecolor",COLOR:"1",NVM_DIR:"/home/fadelyang/.nvm",npm_config_metrics_registry:"https://registry.npmjs.org/",GTK_IM_MODULE:"ibus",LOGNAME:"fadelyang",_:"/home/fadelyang/.nvm/versions/node/v18.18.0/bin/npm",npm_config_prefix:"/home/fadelyang/.nvm/versions/node/v18.18.0",npm_config_npm_version:"9.8.1",XDG_SESSION_CLASS:"user",USER_ZDOTDIR:"/home/fadelyang",TERM:"xterm-256color",npm_config_cache:"/home/fadelyang/.npm",GNOME_DESKTOP_SESSION_ID:"this-is-deprecated",npm_config_node_gyp:"/home/fadelyang/.nvm/versions/node/v18.18.0/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/fadelyang/Documents/work/2-wir/wir-chat/node_modules/.bin:/home/fadelyang/Documents/work/2-wir/node_modules/.bin:/home/fadelyang/Documents/work/node_modules/.bin:/home/fadelyang/Documents/node_modules/.bin:/home/fadelyang/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/fadelyang/.nvm/versions/node/v18.18.0/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/fadelyang/.bun/bin:/home/fadelyang/.fly/bin:/home/fadelyang/.config/composer/vendor/bin:/home/fadelyang/.bun/bin:/home/fadelyang/.fly/bin:/home/fadelyang/.config/composer/vendor/bin:/home/fadelyang/.bun/bin:/home/fadelyang/.fly/bin:/home/fadelyang/.config/composer/vendor/bin:/home/fadelyang/.nvm/versions/node/v18.18.0/bin:/home/fadelyang/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/home/fadelyang/.dotnet/tools",SESSION_MANAGER:"local/fadela-lenovo:@/tmp/.ICE-unix/2038,unix/fadela-lenovo:/tmp/.ICE-unix/2038",GTK3_MODULES:"xapp-gtk3-module",GDM_LANG:"en_US",NODE:"/home/fadelyang/.nvm/versions/node/v18.18.0/bin/node",npm_package_name:"wir-chat",GNOME_TERMINAL_SCREEN:"/org/gnome/Terminal/screen/a9009bd0_8896_4dfb_b1af_c0ee439fa32d",XDG_MENU_PREFIX:"gnome-",XDG_SESSION_PATH:"/org/freedesktop/DisplayManager/Session0",XDG_RUNTIME_DIR:"/run/user/1000",LC_ADDRESS:"id_ID.UTF-8",GDK_BACKEND:"x11",DISPLAY:":0",LANG:"en_US.UTF-8",XDG_CURRENT_DESKTOP:"Unity",DOTNET_BUNDLE_EXTRACT_BASE_DIR:"/home/fadelyang/.cache/dotnet_bundle_extract",LC_TELEPHONE:"id_ID.UTF-8",VSCODE_INJECTION:"1",XDG_SESSION_DESKTOP:"ubuntu",XMODIFIERS:"@im=ibus",GNOME_TERMINAL_SERVICE:":1.108",XAUTHORITY:"/home/fadelyang/.Xauthority",LS_COLORS:"rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:",TERM_PROGRAM:"vscode",VSCODE_GIT_IPC_HANDLE:"/run/user/1000/vscode-git-b5930ab35c.sock",npm_lifecycle_script:"vite build",SSH_AUTH_SOCK:"/run/user/1000/keyring/ssh",XDG_GREETER_DATA_DIR:"/var/lib/lightdm-data/fadelyang",SSH_AGENT_LAUNCHER:"gnome-keyring",ORIGINAL_XDG_CURRENT_DESKTOP:"Unity",GOPATH:"/home/fadelyang/go",SHELL:"/usr/bin/zsh",LC_NAME:"id_ID.UTF-8",npm_package_version:"0.0.0",npm_lifecycle_event:"build",QT_ACCESSIBILITY:"1",GDMSESSION:"ubuntu",FLYCTL_INSTALL:"/home/fadelyang/.fly",NO_AT_BRIDGE:"1",LC_MEASUREMENT:"id_ID.UTF-8",LC_IDENTIFICATION:"id_ID.UTF-8",GPG_AGENT_INFO:"/run/user/1000/gnupg/S.gpg-agent:0:1",QT_IM_MODULE:"ibus",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",npm_config_globalconfig:"/home/fadelyang/.nvm/versions/node/v18.18.0/etc/npmrc",npm_config_init_module:"/home/fadelyang/.npm-init.js",PWD:"/home/fadelyang/Documents/work/2-wir/wir-chat",npm_execpath:"/home/fadelyang/.nvm/versions/node/v18.18.0/lib/node_modules/npm/bin/npm-cli.js",XDG_CONFIG_DIRS:"/etc/xdg/xdg-ubuntu:/etc/xdg",XDG_DATA_DIRS:"/usr/share/ubuntu:/usr/share/gnome:/home/fadelyang/.local/share/flatpak/exports/share:/var/lib/flatpak/exports/share:/usr/local/share:/usr/share:/var/lib/snapd/desktop",NVM_CD_FLAGS:"-q",ZDOTDIR:"/home/fadelyang",npm_config_global_prefix:"/home/fadelyang/.nvm/versions/node/v18.18.0",LC_NUMERIC:"id_ID.UTF-8",npm_command:"run-script",LC_PAPER:"id_ID.UTF-8",VTE_VERSION:"6800",INIT_CWD:"/home/fadelyang/Documents/work/2-wir/wir-chat",EDITOR:"vi",NODE_ENV:"production",REACT_APP_BACKEND_URL:"https://ea.wirglobal.com",REACT_APP_CURRENT_VERSION:"3.1.0",REACT_APP_FIREBASE_API_KEY:"AIzaSyDoyWyWKSk_8ovvS8_0d1A64DIRVhsEPdE",REACT_APP_FIREBASE_AUTH_DOMAIN:"wirchat-22331.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"wirchat-22331",REACT_APP_FIREBASE_STORAGE_BUCKET:"wirchat-22331.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"279788642755",REACT_APP_FIREBASE_APP_ID:"1:279788642755:web:61bafae06f7d1932765d76",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-97GNX3XH66"};const Y8=({conversations:e,setConversations:t})=>{const[n,r]=S.useState(!1),[i,o]=S.useState(()=>localStorage.getItem("sessionId")||""),[s,a]=S.useState(""),{errorMessage:l,loadingText:u,changeLanguage:d,languageSelectedCollection:f,languageDbLocation:p}=S.useContext(Hs),h=S.useRef(null),m=S.useRef(null),_=async()=>{const b={isUser:!0,text:s.replace(/\n\n/gi,`&nbsp; 
`)};t(ne=>[...ne,b]);let x=localStorage.getItem("sessionId");const C=localStorage.getItem("languageCode"),I=localStorage.getItem("selectedCollection"),A=localStorage.getItem("dbLocation");x||(x=hB(),localStorage.setItem("sessionId",x));const L={message:s,session_id:x,language:C,db_location:A,collection_name:I};r(!0);const Y=await(await fetch(`${Q8.REACT_APP_BACKEND_URL}/generate-text`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)})).json();r(!1),!x&&L.session_id&&o(L.session_id);let Z;try{Z=Y.data.outputs[0].outputs[0].results.message.data.text.replace(/\n\n/gi,`&nbsp; 

`)}catch{Z=l}const re={isUser:!1,text:Z};t(ne=>[...ne,re]),o(x)},T=P=>{P.preventDefault(),_()},y=P=>{a(P.target.value)},E=P=>{P.key==="Enter"&!P.shiftkey&&(P.preventDefault(),s&&_())},w=P=>{P.preventDefault(),a(P.target.value)},M=()=>{var P;(P=h.current)==null||P.scrollIntoView({behaviour:"smooth"})},F=()=>{var P;(P=m.current)==null||P.scrollIntoView({behaviour:"smooth"})};return S.useEffect(()=>{localStorage.setItem("conversations",JSON.stringify(e)),localStorage.setItem("sessionId",i)},[e,i]),S.useEffect(()=>{n?(M(),a("")):F()}),S.useEffect(()=>{const P=document.querySelector("#messageInputTextareaComponent");P.style.height="3rem",P.style.height=`${P.scrollHeight}px`},[s]),S.useEffect(()=>{const P=localStorage.getItem("languageCode")||"id";d(P)},[d]),D.jsxs("div",{className:`flex flex-col ${e.length==0?"my-auto":"flex-grow"}`,children:[D.jsx(kV,{conversations:e}),D.jsxs("div",{className:`${e.length===0?"hidden":"flex mt-10"}  flex-col chat-area flex-grow px-7 gap-10 sm:px-28 xl:px-56`,children:[e.map((P,b)=>D.jsx("div",{className:P.isUser?"ml-auto bg-slate-100 py-2 px-4 rounded-2xl":"bot-message",children:P.isUser?D.jsx(KE,{remarkPlugins:[nw,rw],children:P.text}):D.jsxs(D.Fragment,{children:[D.jsx(KE,{remarkPlugins:[nw,rw],children:P.text}),D.jsx("div",{ref:m})]})},b)),n&&D.jsx(D.Fragment,{children:D.jsxs("div",{className:"bot-message",ref:h,children:[u,"."]})})]}),D.jsx(bV,{onSendMessageClick:T,onMessageChange:y,onEnterKeyDown:E,conversations:e,inputValue:s}),D.jsx(X8,{conversations:e,onClick:w})]})},J8="/flag/china.png",Z8="/flag/flag.png",eH="/flag/japan.png",tH="/flag/united-kingdom.png";function nH(){const{startNewChatButtonText:e,startNewChatConfirmationText:t}=S.useContext(Hs),n=a=>{a.preventDefault(),window.confirm(`${t}`)&&(localStorage.removeItem("conversations"),localStorage.removeItem("sessionId"),window.location.reload())},r=[{imageSize:"25px",flag:Z8,name:"Indonesian",code:"id"},{imageSize:"25px",flag:J8,name:"Chinese",code:"zhCn"},{imageSize:"25px",flag:eH,name:"Japanese",code:"ja"},{imageSize:"25px",flag:tH,name:"English",code:"en"}],[i,o]=S.useState(()=>{const a=localStorage.getItem("languageCode");return r.find(l=>l.code===a)||r[0]});S.useState(null);const s=async a=>{if(a!==i&&window.confirm(`${t}`)){localStorage.removeItem("conversations"),localStorage.removeItem("sessionId"),localStorage.removeItem("languageCode"),localStorage.removeItem("selectedCollection"),localStorage.removeItem("dbLocaion"),o(a);const u=await _C(a.code),d=u[0].selected_collection,f=u[0].db_location;localStorage.setItem("languageCode",a.code),localStorage.setItem("selectedCollection",d),localStorage.setItem("dbLocaion",f),window.location.reload()}};return D.jsx(D.Fragment,{children:D.jsx("div",{className:"sticky top-0 z-10 px-5 py-5 bg-white border border-b-gray-300 md:px-20 ",children:D.jsxs("div",{className:"container flex mx-auto",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("img",{src:vC,className:"w-14"}),D.jsx("div",{className:"hidden md:block",children:"WIR Chat"})]}),D.jsxs("div",{className:"flex items-center gap-1 ms-auto",children:[D.jsx("div",{className:"",children:D.jsx(K8,{value:i,onChange:s,children:D.jsxs("div",{className:"relative",children:[D.jsx(vb,{className:"px-4 py-2 bg-gray-200 rounded-md",children:D.jsxs("div",{className:"flex gap-1",children:[D.jsx("img",{src:i.flag,width:i.imageSize}),D.jsx("div",{className:"hidden md:block",children:i.name})]})}),D.jsx(Eb,{className:"absolute z-50 mt-1 overflow-auto bg-white rounded-md shadow-lg min-w-48",children:r.map((a,l)=>D.jsx(wb,{value:a,className:({active:u,selected:d})=>`${u?"text-white bg-red-500":""} ${d?"font-semibold":""} cursor-pointer select-none relative py-2 pl-10 pr-4`,children:({selected:u})=>D.jsxs(D.Fragment,{children:[u&&D.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:D.jsx("svg",{className:"w-5 h-5 text-red-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:D.jsx("path",{fillRule:"evenodd",d:"M16.293 4.293a1 1 0 0 1 1.414 1.414l-9 9a1 1 0 0 1-1.414-1.414l9-9z",clipRule:"evenodd"})})}),D.jsxs("div",{className:"flex gap-1",children:[D.jsx("img",{src:a.flag,width:a.imageSize}),D.jsx("div",{className:"",children:a.name})]})]})},l))})]})})}),D.jsx("button",{onClick:n,className:"px-5 py-2 text-white bg-black rounded-md hover:bg-gray-900 hover:cursor-pointer",children:e})]})]})})})}var rH={LANGUAGE:"en_US",USER:"fadelyang",LC_TIME:"id_ID.UTF-8",npm_config_user_agent:"npm/9.8.1 node/v18.18.0 linux x64 workspaces/false",XDG_SESSION_TYPE:"x11",BUN_INSTALL:"/home/fadelyang/.bun",GIT_ASKPASS:"/usr/share/code/resources/app/extensions/git/dist/askpass.sh",npm_node_execpath:"/home/fadelyang/.nvm/versions/node/v18.18.0/bin/node",SHLVL:"3",npm_config_noproxy:"",HOME:"/home/fadelyang",OLDPWD:"/home/fadelyang/Documents/work/2-wir/wir-chat",LESS:"-R",CHROME_DESKTOP:"code-url-handler.desktop",DESKTOP_SESSION:"ubuntu",NVM_BIN:"/home/fadelyang/.nvm/versions/node/v18.18.0/bin",TERM_PROGRAM_VERSION:"1.85.1",npm_package_json:"/home/fadelyang/Documents/work/2-wir/wir-chat/package.json",ZSH:"/home/fadelyang/.oh-my-zsh",LSCOLORS:"Gxfxcxdxbxegedabagacad",NVM_INC:"/home/fadelyang/.nvm/versions/node/v18.18.0/include/node",GTK_MODULES:"gail:atk-bridge",XDG_SEAT_PATH:"/org/freedesktop/DisplayManager/Seat0",GNOME_SHELL_SESSION_MODE:"ubuntu",PAGER:"less",VSCODE_GIT_ASKPASS_MAIN:"/usr/share/code/resources/app/extensions/git/dist/askpass-main.js",LC_MONETARY:"id_ID.UTF-8",VSCODE_GIT_ASKPASS_NODE:"/usr/share/code/code",npm_config_userconfig:"/home/fadelyang/.npmrc",npm_config_local_prefix:"/home/fadelyang/Documents/work/2-wir/wir-chat",SYSTEMD_EXEC_PID:"2309",DBUS_SESSION_BUS_ADDRESS:"unix:path=/run/user/1000/bus",COLORTERM:"truecolor",COLOR:"1",NVM_DIR:"/home/fadelyang/.nvm",npm_config_metrics_registry:"https://registry.npmjs.org/",GTK_IM_MODULE:"ibus",LOGNAME:"fadelyang",_:"/home/fadelyang/.nvm/versions/node/v18.18.0/bin/npm",npm_config_prefix:"/home/fadelyang/.nvm/versions/node/v18.18.0",npm_config_npm_version:"9.8.1",XDG_SESSION_CLASS:"user",USER_ZDOTDIR:"/home/fadelyang",TERM:"xterm-256color",npm_config_cache:"/home/fadelyang/.npm",GNOME_DESKTOP_SESSION_ID:"this-is-deprecated",npm_config_node_gyp:"/home/fadelyang/.nvm/versions/node/v18.18.0/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/fadelyang/Documents/work/2-wir/wir-chat/node_modules/.bin:/home/fadelyang/Documents/work/2-wir/node_modules/.bin:/home/fadelyang/Documents/work/node_modules/.bin:/home/fadelyang/Documents/node_modules/.bin:/home/fadelyang/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/fadelyang/.nvm/versions/node/v18.18.0/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/fadelyang/.bun/bin:/home/fadelyang/.fly/bin:/home/fadelyang/.config/composer/vendor/bin:/home/fadelyang/.bun/bin:/home/fadelyang/.fly/bin:/home/fadelyang/.config/composer/vendor/bin:/home/fadelyang/.bun/bin:/home/fadelyang/.fly/bin:/home/fadelyang/.config/composer/vendor/bin:/home/fadelyang/.nvm/versions/node/v18.18.0/bin:/home/fadelyang/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/home/fadelyang/.dotnet/tools",SESSION_MANAGER:"local/fadela-lenovo:@/tmp/.ICE-unix/2038,unix/fadela-lenovo:/tmp/.ICE-unix/2038",GTK3_MODULES:"xapp-gtk3-module",GDM_LANG:"en_US",NODE:"/home/fadelyang/.nvm/versions/node/v18.18.0/bin/node",npm_package_name:"wir-chat",GNOME_TERMINAL_SCREEN:"/org/gnome/Terminal/screen/a9009bd0_8896_4dfb_b1af_c0ee439fa32d",XDG_MENU_PREFIX:"gnome-",XDG_SESSION_PATH:"/org/freedesktop/DisplayManager/Session0",XDG_RUNTIME_DIR:"/run/user/1000",LC_ADDRESS:"id_ID.UTF-8",GDK_BACKEND:"x11",DISPLAY:":0",LANG:"en_US.UTF-8",XDG_CURRENT_DESKTOP:"Unity",DOTNET_BUNDLE_EXTRACT_BASE_DIR:"/home/fadelyang/.cache/dotnet_bundle_extract",LC_TELEPHONE:"id_ID.UTF-8",VSCODE_INJECTION:"1",XDG_SESSION_DESKTOP:"ubuntu",XMODIFIERS:"@im=ibus",GNOME_TERMINAL_SERVICE:":1.108",XAUTHORITY:"/home/fadelyang/.Xauthority",LS_COLORS:"rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:",TERM_PROGRAM:"vscode",VSCODE_GIT_IPC_HANDLE:"/run/user/1000/vscode-git-b5930ab35c.sock",npm_lifecycle_script:"vite build",SSH_AUTH_SOCK:"/run/user/1000/keyring/ssh",XDG_GREETER_DATA_DIR:"/var/lib/lightdm-data/fadelyang",SSH_AGENT_LAUNCHER:"gnome-keyring",ORIGINAL_XDG_CURRENT_DESKTOP:"Unity",GOPATH:"/home/fadelyang/go",SHELL:"/usr/bin/zsh",LC_NAME:"id_ID.UTF-8",npm_package_version:"0.0.0",npm_lifecycle_event:"build",QT_ACCESSIBILITY:"1",GDMSESSION:"ubuntu",FLYCTL_INSTALL:"/home/fadelyang/.fly",NO_AT_BRIDGE:"1",LC_MEASUREMENT:"id_ID.UTF-8",LC_IDENTIFICATION:"id_ID.UTF-8",GPG_AGENT_INFO:"/run/user/1000/gnupg/S.gpg-agent:0:1",QT_IM_MODULE:"ibus",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",npm_config_globalconfig:"/home/fadelyang/.nvm/versions/node/v18.18.0/etc/npmrc",npm_config_init_module:"/home/fadelyang/.npm-init.js",PWD:"/home/fadelyang/Documents/work/2-wir/wir-chat",npm_execpath:"/home/fadelyang/.nvm/versions/node/v18.18.0/lib/node_modules/npm/bin/npm-cli.js",XDG_CONFIG_DIRS:"/etc/xdg/xdg-ubuntu:/etc/xdg",XDG_DATA_DIRS:"/usr/share/ubuntu:/usr/share/gnome:/home/fadelyang/.local/share/flatpak/exports/share:/var/lib/flatpak/exports/share:/usr/local/share:/usr/share:/var/lib/snapd/desktop",NVM_CD_FLAGS:"-q",ZDOTDIR:"/home/fadelyang",npm_config_global_prefix:"/home/fadelyang/.nvm/versions/node/v18.18.0",LC_NUMERIC:"id_ID.UTF-8",npm_command:"run-script",LC_PAPER:"id_ID.UTF-8",VTE_VERSION:"6800",INIT_CWD:"/home/fadelyang/Documents/work/2-wir/wir-chat",EDITOR:"vi",NODE_ENV:"production",REACT_APP_BACKEND_URL:"https://ea.wirglobal.com",REACT_APP_CURRENT_VERSION:"3.1.0",REACT_APP_FIREBASE_API_KEY:"AIzaSyDoyWyWKSk_8ovvS8_0d1A64DIRVhsEPdE",REACT_APP_FIREBASE_AUTH_DOMAIN:"wirchat-22331.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"wirchat-22331",REACT_APP_FIREBASE_STORAGE_BUCKET:"wirchat-22331.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"279788642755",REACT_APP_FIREBASE_APP_ID:"1:279788642755:web:61bafae06f7d1932765d76",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-97GNX3XH66"};const iH=()=>D.jsxs("div",{className:"fixed bottom-0 w-full text-center mt-auto bg-white",children:["v.",rH.REACT_APP_CURRENT_VERSION]}),oH=({children:e})=>D.jsxs("div",{className:"container-fluid flex flex-col min-h-screen mx-auto",children:[D.jsx(nH,{}),e,D.jsx(iH,{})]});function sH(){const[e,t]=S.useState(()=>{const n=localStorage.getItem("conversations");return n?JSON.parse(n):[]});return D.jsx(D.Fragment,{children:D.jsx(oH,{children:D.jsx(Y8,{conversations:e,setConversations:t})})})}const aH="/logo-full.png",lH=({className:e})=>D.jsx("img",{src:aH,className:e}),uH="/gear-solid.svg",x_=({children:e})=>{const[t,n]=S.useState(!1),[r,i]=S.useState("dashboardMenu"),[o,s]=S.useState(!0),[a,l]=S.useState(!1),[u,d]=S.useState(""),f=qd(),p=()=>{confirm("Are you sure?")&&dF(Gy).then(()=>{f("/"),alert("Success Logout")}).catch(y=>{console.log(y)})};S.useEffect(()=>{const T=()=>{l(window.innerWidth<768),window.innerWidth<768?s(!1):s(!0)};return T(),window.addEventListener("resize",T),()=>window.removeEventListener("resize",T)},[]),S.useEffect(()=>{const T=window.location.pathname;d(T)},[]);const h=()=>{n(!t)},m=()=>{s(!o)},_=T=>{i(r===T?null:T)};return D.jsxs("div",{className:"relative flex min-h-screen",children:[a&&o&&D.jsx("div",{className:"fixed inset-0 z-20 bg-black/50",onClick:m}),D.jsxs("div",{className:`
          w-64 bg-white shadow-md
          ${a?`fixed inset-y-0 left-0 z-30 transform transition-transform duration-300 ease-in-out ${o?"translate-x-0":"-translate-x-full"}`:`relative ${o?"":"hidden"}`}
        `,children:[D.jsx("div",{className:"p-4 border-b",children:D.jsx("div",{className:"flex items-center justify-center h-16 md:h-24",children:D.jsx(lH,{className:"h-20"})})}),D.jsx("ul",{className:"mt-2 mb-0 space-y-1 ps-0",children:D.jsx("li",{className:"w-full",children:D.jsx(os,{to:"/dashboard",className:`block px-8 py-2 ${u==="/dashboard"?"text-black":"text-gray-700"} transition-colors rounded hover:bg-gray-200`,children:"Dashboard"})})}),D.jsxs("nav",{className:"p-4",children:[D.jsxs("button",{className:"text-white bg-[#333A48] w-full py-2 rounded flex justify-between px-5 items-center",onClick:()=>_("dashboardMenu"),children:[D.jsx("span",{children:"Main Menu"}),D.jsx("i",{className:`fa-solid fa-chevron-up transition-transform duration-200 ${r==="dashboardMenu"?"rotate-180":"rotate-0"}`})]}),D.jsx("div",{children:D.jsxs("ul",{className:`mt-2 ps-0 space-y-1 transition-all duration-200 list-none ${r==="dashboardMenu"?"max-h-48":"max-h-0 overflow-hidden"}`,children:[D.jsx("li",{className:"w-full",children:D.jsx(os,{to:"/dashboard/languages",className:`block px-4 py-2 ${u==="/dashboard/languages"?"text-black":"text-gray-700"} transition-colors rounded hover:bg-gray-200`,children:"Languages"})}),D.jsx("li",{className:"w-full",children:D.jsx(os,{to:"/dashboard/collections",className:`block px-4 py-2 ${u==="/dashboard/collections"?"text-black":"text-gray-700"} transition-colors rounded hover:bg-gray-200`,children:"Collections"})})]})})]})]}),D.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[D.jsxs("header",{className:"sticky top-0 z-10 flex items-center justify-between px-4 py-4 bg-white shadow-md md:px-6",children:[D.jsx("div",{children:D.jsx("button",{className:"p-2 rounded hover:bg-gray-100",onClick:m,"aria-label":"Toggle sidebar",children:D.jsx("i",{className:`fa-solid fa-arrow-right transition-transform ${o?"rotate-180":"rotate-0"}`})})}),D.jsxs("div",{className:"relative",children:[D.jsx("div",{className:"flex justify-end hover:cursor-pointer",onClick:h,children:D.jsx("img",{src:uH,alt:"",className:`w-5 h-5 transition-transform duration-300 ${t?"rotate-45":"-rotate-45"}`})}),t&&D.jsx("div",{className:"absolute right-0 w-48 mt-2 bg-white border rounded shadow-lg",children:D.jsx("ul",{className:"py-1 list-none ps-0",children:D.jsx("li",{className:"block px-4 py-2 text-gray-700 transition-colors hover:bg-gray-200",children:D.jsx("button",{onClick:()=>p(),children:"Logout"})})})})]})]}),D.jsx("main",{className:"flex-1 min-w-0 p-4 bg-gray-50 md:p-6",children:e})]})]})},cH=()=>D.jsx(x_,{}),dH=({name:e})=>D.jsx("h1",{className:"text-xl font-medium md:text-3xl",children:e}),fH=({path:e})=>D.jsx("div",{children:e.map((t,n)=>D.jsxs("span",{className:"inline-block",children:[D.jsx(os,{to:t.path,className:`capitalize hover:underline ${n===e.length-1?"text-[#3C50E0]":"text-[#64748B]"}`,children:t.name}),n<e.length-1&&D.jsx("span",{className:"mx-2 text-gray-500",children:"/"})]},n))}),Sb=({name:e,breadcrumbPath:t})=>D.jsxs("div",{className:"items-center justify-between block mt-5 md:flex",children:[D.jsx(dH,{name:e}),D.jsx("div",{children:D.jsx(fH,{path:t})})]});/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function si(e,t){return typeof e=="function"?e(t):e}function hn(e,t){return n=>{t.setState(r=>({...r,[e]:si(n,r[e])}))}}function kf(e){return e instanceof Function}function hH(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function pH(e,t){const n=[],r=i=>{i.forEach(o=>{n.push(o);const s=t(o);s!=null&&s.length&&r(s)})};return r(e),n}function oe(e,t,n){let r=[],i;return o=>{let s;n.key&&n.debug&&(s=Date.now());const a=e(o);if(!(a.length!==r.length||a.some((d,f)=>r[f]!==d)))return i;r=a;let u;if(n.key&&n.debug&&(u=Date.now()),i=t(...a),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const d=Math.round((Date.now()-s)*100)/100,f=Math.round((Date.now()-u)*100)/100,p=f/16,h=(m,_)=>{for(m=String(m);m.length<_;)m=" "+m;return m};console.info(`%c ${h(f,5)} /${h(d,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*p,120))}deg 100% 31%);`,n==null?void 0:n.key)}return i}}function se(e,t,n,r){return{debug:()=>{var i;return(i=e==null?void 0:e.debugAll)!=null?i:e[t]},key:!1,onChange:r}}function mH(e,t,n,r){const i=()=>{var s;return(s=o.getValue())!=null?s:e.options.renderFallbackValue},o={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:i,getContext:oe(()=>[e,n,t,o],(s,a,l,u)=>({table:s,column:a,row:l,cell:u,getValue:u.getValue,renderValue:u.renderValue}),se(e.options,"debugCells"))};return e._features.forEach(s=>{s.createCell==null||s.createCell(o,n,t,e)},{}),o}function gH(e,t,n,r){var i,o;const a={...e._getDefaultColumnDef(),...t},l=a.accessorKey;let u=(i=(o=a.id)!=null?o:l?typeof String.prototype.replaceAll=="function"?l.replaceAll(".","_"):l.replace(/\./g,"_"):void 0)!=null?i:typeof a.header=="string"?a.header:void 0,d;if(a.accessorFn?d=a.accessorFn:l&&(l.includes(".")?d=p=>{let h=p;for(const _ of l.split(".")){var m;h=(m=h)==null?void 0:m[_]}return h}:d=p=>p[a.accessorKey]),!u)throw new Error;let f={id:`${String(u)}`,accessorFn:d,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:oe(()=>[!0],()=>{var p;return[f,...(p=f.columns)==null?void 0:p.flatMap(h=>h.getFlatColumns())]},se(e.options,"debugColumns")),getLeafColumns:oe(()=>[e._getOrderColumnsFn()],p=>{var h;if((h=f.columns)!=null&&h.length){let m=f.columns.flatMap(_=>_.getLeafColumns());return p(m)}return[f]},se(e.options,"debugColumns"))};for(const p of e._features)p.createColumn==null||p.createColumn(f,e);return f}const bt="debugHeaders";function Aw(e,t,n){var r;let o={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const s=[],a=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(a),s.push(l)};return a(o),s},getContext:()=>({table:e,header:o,column:t})};return e._features.forEach(s=>{s.createHeader==null||s.createHeader(o,e)}),o}const yH={createTable:e=>{e.getHeaderGroups=oe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>{var o,s;const a=(o=r==null?void 0:r.map(f=>n.find(p=>p.id===f)).filter(Boolean))!=null?o:[],l=(s=i==null?void 0:i.map(f=>n.find(p=>p.id===f)).filter(Boolean))!=null?s:[],u=n.filter(f=>!(r!=null&&r.includes(f.id))&&!(i!=null&&i.includes(f.id)));return ec(t,[...a,...u,...l],e)},se(e.options,bt)),e.getCenterHeaderGroups=oe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>(n=n.filter(o=>!(r!=null&&r.includes(o.id))&&!(i!=null&&i.includes(o.id))),ec(t,n,e,"center")),se(e.options,bt)),e.getLeftHeaderGroups=oe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var i;const o=(i=r==null?void 0:r.map(s=>n.find(a=>a.id===s)).filter(Boolean))!=null?i:[];return ec(t,o,e,"left")},se(e.options,bt)),e.getRightHeaderGroups=oe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var i;const o=(i=r==null?void 0:r.map(s=>n.find(a=>a.id===s)).filter(Boolean))!=null?i:[];return ec(t,o,e,"right")},se(e.options,bt)),e.getFooterGroups=oe(()=>[e.getHeaderGroups()],t=>[...t].reverse(),se(e.options,bt)),e.getLeftFooterGroups=oe(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),se(e.options,bt)),e.getCenterFooterGroups=oe(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),se(e.options,bt)),e.getRightFooterGroups=oe(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),se(e.options,bt)),e.getFlatHeaders=oe(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),se(e.options,bt)),e.getLeftFlatHeaders=oe(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),se(e.options,bt)),e.getCenterFlatHeaders=oe(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),se(e.options,bt)),e.getRightFlatHeaders=oe(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),se(e.options,bt)),e.getCenterLeafHeaders=oe(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),se(e.options,bt)),e.getLeftLeafHeaders=oe(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),se(e.options,bt)),e.getRightLeafHeaders=oe(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),se(e.options,bt)),e.getLeafHeaders=oe(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var i,o,s,a,l,u;return[...(i=(o=t[0])==null?void 0:o.headers)!=null?i:[],...(s=(a=n[0])==null?void 0:a.headers)!=null?s:[],...(l=(u=r[0])==null?void 0:u.headers)!=null?l:[]].map(d=>d.getLeafHeaders()).flat()},se(e.options,bt))}};function ec(e,t,n,r){var i,o;let s=0;const a=function(p,h){h===void 0&&(h=1),s=Math.max(s,h),p.filter(m=>m.getIsVisible()).forEach(m=>{var _;(_=m.columns)!=null&&_.length&&a(m.columns,h+1)},0)};a(e);let l=[];const u=(p,h)=>{const m={depth:h,id:[r,`${h}`].filter(Boolean).join("_"),headers:[]},_=[];p.forEach(T=>{const y=[..._].reverse()[0],E=T.column.depth===m.depth;let w,M=!1;if(E&&T.column.parent?w=T.column.parent:(w=T.column,M=!0),y&&(y==null?void 0:y.column)===w)y.subHeaders.push(T);else{const F=Aw(n,w,{id:[r,h,w.id,T==null?void 0:T.id].filter(Boolean).join("_"),isPlaceholder:M,placeholderId:M?`${_.filter(P=>P.column===w).length}`:void 0,depth:h,index:_.length});F.subHeaders.push(T),_.push(F)}m.headers.push(T),T.headerGroup=m}),l.push(m),h>0&&u(_,h-1)},d=t.map((p,h)=>Aw(n,p,{depth:s,index:h}));u(d,s-1),l.reverse();const f=p=>p.filter(m=>m.column.getIsVisible()).map(m=>{let _=0,T=0,y=[0];m.subHeaders&&m.subHeaders.length?(y=[],f(m.subHeaders).forEach(w=>{let{colSpan:M,rowSpan:F}=w;_+=M,y.push(F)})):_=1;const E=Math.min(...y);return T=T+E,m.colSpan=_,m.rowSpan=T,{colSpan:_,rowSpan:T}});return f((i=(o=l[0])==null?void 0:o.headers)!=null?i:[]),l}const _H=(e,t,n,r,i,o,s)=>{let a={id:t,index:r,original:n,depth:i,parentId:s,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(a._valuesCache.hasOwnProperty(l))return a._valuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return a._valuesCache[l]=u.accessorFn(a.original,r),a._valuesCache[l]},getUniqueValues:l=>{if(a._uniqueValuesCache.hasOwnProperty(l))return a._uniqueValuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(a._uniqueValuesCache[l]=u.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[l]):(a._uniqueValuesCache[l]=[a.getValue(l)],a._uniqueValuesCache[l])},renderValue:l=>{var u;return(u=a.getValue(l))!=null?u:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>pH(a.subRows,l=>l.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let l=[],u=a;for(;;){const d=u.getParentRow();if(!d)break;l.push(d),u=d}return l.reverse()},getAllCells:oe(()=>[e.getAllLeafColumns()],l=>l.map(u=>mH(e,a,u,u.id)),se(e.options,"debugRows")),_getAllCellsByColumnId:oe(()=>[a.getAllCells()],l=>l.reduce((u,d)=>(u[d.column.id]=d,u),{}),se(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const u=e._features[l];u==null||u.createRow==null||u.createRow(a,e)}return a},vH={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},Ib=(e,t,n)=>{var r,i;const o=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((i=e.getValue(t))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(o))};Ib.autoRemove=e=>Un(e);const Tb=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};Tb.autoRemove=e=>Un(e);const xb=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};xb.autoRemove=e=>Un(e);const Cb=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};Cb.autoRemove=e=>Un(e)||!(e!=null&&e.length);const Rb=(e,t,n)=>!n.some(r=>{var i;return!((i=e.getValue(t))!=null&&i.includes(r))});Rb.autoRemove=e=>Un(e)||!(e!=null&&e.length);const bb=(e,t,n)=>n.some(r=>{var i;return(i=e.getValue(t))==null?void 0:i.includes(r)});bb.autoRemove=e=>Un(e)||!(e!=null&&e.length);const Ab=(e,t,n)=>e.getValue(t)===n;Ab.autoRemove=e=>Un(e);const kb=(e,t,n)=>e.getValue(t)==n;kb.autoRemove=e=>Un(e);const C_=(e,t,n)=>{let[r,i]=n;const o=e.getValue(t);return o>=r&&o<=i};C_.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,i=typeof n!="number"?parseFloat(n):n,o=t===null||Number.isNaN(r)?-1/0:r,s=n===null||Number.isNaN(i)?1/0:i;if(o>s){const a=o;o=s,s=a}return[o,s]};C_.autoRemove=e=>Un(e)||Un(e[0])&&Un(e[1]);const gr={includesString:Ib,includesStringSensitive:Tb,equalsString:xb,arrIncludes:Cb,arrIncludesAll:Rb,arrIncludesSome:bb,equals:Ab,weakEquals:kb,inNumberRange:C_};function Un(e){return e==null||e===""}const EH={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:hn("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?gr.includesString:typeof r=="number"?gr.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?gr.equals:Array.isArray(r)?gr.arrIncludes:gr.weakEquals},e.getFilterFn=()=>{var n,r;return kf(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:gr[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,i;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const i=e.getFilterFn(),o=r==null?void 0:r.find(d=>d.id===e.id),s=si(n,o?o.value:void 0);if(kw(i,s,e)){var a;return(a=r==null?void 0:r.filter(d=>d.id!==e.id))!=null?a:[]}const l={id:e.id,value:s};if(o){var u;return(u=r==null?void 0:r.map(d=>d.id===e.id?l:d))!=null?u:[]}return r!=null&&r.length?[...r,l]:[l]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=i=>{var o;return(o=si(t,i))==null?void 0:o.filter(s=>{const a=n.find(l=>l.id===s.id);if(a){const l=a.getFilterFn();if(kw(l,s.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function kw(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const wH=(e,t,n)=>n.reduce((r,i)=>{const o=i.getValue(e);return r+(typeof o=="number"?o:0)},0),SH=(e,t,n)=>{let r;return n.forEach(i=>{const o=i.getValue(e);o!=null&&(r>o||r===void 0&&o>=o)&&(r=o)}),r},IH=(e,t,n)=>{let r;return n.forEach(i=>{const o=i.getValue(e);o!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}),r},TH=(e,t,n)=>{let r,i;return n.forEach(o=>{const s=o.getValue(e);s!=null&&(r===void 0?s>=s&&(r=i=s):(r>s&&(r=s),i<s&&(i=s)))}),[r,i]},xH=(e,t)=>{let n=0,r=0;if(t.forEach(i=>{let o=i.getValue(e);o!=null&&(o=+o)>=o&&(++n,r+=o)}),n)return r/n},CH=(e,t)=>{if(!t.length)return;const n=t.map(o=>o.getValue(e));if(!hH(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((o,s)=>o-s);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},RH=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),bH=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,AH=(e,t)=>t.length,ip={sum:wH,min:SH,max:IH,extent:TH,mean:xH,median:CH,unique:RH,uniqueCount:bH,count:AH},kH={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:hn("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return ip.sum;if(Object.prototype.toString.call(r)==="[object Date]")return ip.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return kf(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:ip[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var i;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function PH(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(o=>!t.includes(o.id));return n==="remove"?r:[...t.map(o=>e.find(s=>s.id===o)).filter(Boolean),...r]}const DH={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:hn("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=oe(n=>[el(t,n)],n=>n.findIndex(r=>r.id===e.id),se(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=el(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const i=el(t,n);return((r=i[i.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=oe(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>i=>{let o=[];if(!(t!=null&&t.length))o=i;else{const s=[...t],a=[...i];for(;a.length&&s.length;){const l=s.shift(),u=a.findIndex(d=>d.id===l);u>-1&&o.push(a.splice(u,1)[0])}o=[...o,...a]}return PH(o,n,r)},se(e.options,"debugTable"))}},op=()=>({left:[],right:[]}),NH={getInitialState:e=>({columnPinning:op(),...e}),getDefaultOptions:e=>({onColumnPinningChange:hn("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(i=>i.id).filter(Boolean);t.setColumnPinning(i=>{var o,s;if(n==="right"){var a,l;return{left:((a=i==null?void 0:i.left)!=null?a:[]).filter(f=>!(r!=null&&r.includes(f))),right:[...((l=i==null?void 0:i.right)!=null?l:[]).filter(f=>!(r!=null&&r.includes(f))),...r]}}if(n==="left"){var u,d;return{left:[...((u=i==null?void 0:i.left)!=null?u:[]).filter(f=>!(r!=null&&r.includes(f))),...r],right:((d=i==null?void 0:i.right)!=null?d:[]).filter(f=>!(r!=null&&r.includes(f)))}}return{left:((o=i==null?void 0:i.left)!=null?o:[]).filter(f=>!(r!=null&&r.includes(f))),right:((s=i==null?void 0:i.right)!=null?s:[]).filter(f=>!(r!=null&&r.includes(f)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var i,o,s;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((o=(s=t.options.enableColumnPinning)!=null?s:t.options.enablePinning)!=null?o:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(a=>a.id),{left:r,right:i}=t.getState().columnPinning,o=n.some(a=>r==null?void 0:r.includes(a)),s=n.some(a=>i==null?void 0:i.includes(a));return o?"left":s?"right":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();return i?(n=(r=t.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=oe(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,i)=>{const o=[...r??[],...i??[]];return n.filter(s=>!o.includes(s.column.id))},se(t.options,"debugRows")),e.getLeftVisibleCells=oe(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(o=>n.find(s=>s.column.id===o)).filter(Boolean).map(o=>({...o,position:"left"})),se(t.options,"debugRows")),e.getRightVisibleCells=oe(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(o=>n.find(s=>s.column.id===o)).filter(Boolean).map(o=>({...o,position:"right"})),se(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?op():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:op())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var i,o;return!!((i=r.left)!=null&&i.length||(o=r.right)!=null&&o.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=oe(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),se(e.options,"debugColumns")),e.getRightLeafColumns=oe(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),se(e.options,"debugColumns")),e.getCenterLeafColumns=oe(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const i=[...n??[],...r??[]];return t.filter(o=>!i.includes(o.id))},se(e.options,"debugColumns"))}},tc={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},sp=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),OH={getDefaultColumnDef:()=>tc,getInitialState:e=>({columnSizing:{},columnSizingInfo:sp(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:hn("columnSizing",e),onColumnSizingInfoChange:hn("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,i;const o=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:tc.minSize,(r=o??e.columnDef.size)!=null?r:tc.size),(i=e.columnDef.maxSize)!=null?i:tc.maxSize)},e.getStart=oe(n=>[n,el(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((i,o)=>i+o.getSize(),0),se(t.options,"debugColumns")),e.getAfter=oe(n=>[n,el(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((i,o)=>i+o.getSize(),0),se(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...i}=n;return i})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var o;n+=(o=i.column.getSize())!=null?o:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),i=r==null?void 0:r.getCanResize();return o=>{if(!r||!i||(o.persist==null||o.persist(),ap(o)&&o.touches&&o.touches.length>1))return;const s=e.getSize(),a=e?e.getLeafHeaders().map(y=>[y.column.id,y.column.getSize()]):[[r.id,r.getSize()]],l=ap(o)?Math.round(o.touches[0].clientX):o.clientX,u={},d=(y,E)=>{typeof E=="number"&&(t.setColumnSizingInfo(w=>{var M,F;const P=t.options.columnResizeDirection==="rtl"?-1:1,b=(E-((M=w==null?void 0:w.startOffset)!=null?M:0))*P,x=Math.max(b/((F=w==null?void 0:w.startSize)!=null?F:0),-.999999);return w.columnSizingStart.forEach(C=>{let[I,A]=C;u[I]=Math.round(Math.max(A+A*x,0)*100)/100}),{...w,deltaOffset:b,deltaPercentage:x}}),(t.options.columnResizeMode==="onChange"||y==="end")&&t.setColumnSizing(w=>({...w,...u})))},f=y=>d("move",y),p=y=>{d("end",y),t.setColumnSizingInfo(E=>({...E,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},h=n||typeof document<"u"?document:null,m={moveHandler:y=>f(y.clientX),upHandler:y=>{h==null||h.removeEventListener("mousemove",m.moveHandler),h==null||h.removeEventListener("mouseup",m.upHandler),p(y.clientX)}},_={moveHandler:y=>(y.cancelable&&(y.preventDefault(),y.stopPropagation()),f(y.touches[0].clientX),!1),upHandler:y=>{var E;h==null||h.removeEventListener("touchmove",_.moveHandler),h==null||h.removeEventListener("touchend",_.upHandler),y.cancelable&&(y.preventDefault(),y.stopPropagation()),p((E=y.touches[0])==null?void 0:E.clientX)}},T=LH()?{passive:!1}:!1;ap(o)?(h==null||h.addEventListener("touchmove",_.moveHandler,T),h==null||h.addEventListener("touchend",_.upHandler,T)):(h==null||h.addEventListener("mousemove",m.moveHandler,T),h==null||h.addEventListener("mouseup",m.upHandler,T)),t.setColumnSizingInfo(y=>({...y,startOffset:l,startSize:s,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?sp():(n=e.initialState.columnSizingInfo)!=null?n:sp())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0}}};let nc=null;function LH(){if(typeof nc=="boolean")return nc;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return nc=e,nc}function ap(e){return e.type==="touchstart"}const MH={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:hn("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const i=e.columns;return(n=i.length?i.some(o=>o.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=oe(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),se(t.options,"debugRows")),e.getVisibleCells=oe(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],se(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>oe(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(o=>o.getIsVisible==null?void 0:o.getIsVisible()),se(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((i,o)=>({...i,[o.id]:n||!(o.getCanHide!=null&&o.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function el(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const FH={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},VH={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:hn("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,i,o;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&((o=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?o:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>gr.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return kf(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:gr[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},$H={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:hn("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var i,o;e.setExpanded(r?{}:(i=(o=e.initialState)==null?void 0:o.expanded)!=null?i:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(o=>{const s=o.split(".");r=Math.max(r,s.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var i;const o=r===!0?!0:!!(r!=null&&r[e.id]);let s={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(a=>{s[a]=!0}):s=r,n=(i=n)!=null?i:!o,!o&&n)return{...s,[e.id]:!0};if(o&&!n){const{[e.id]:a,...l}=s;return l}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,i;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((i=e.subRows)!=null&&i.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},Ym=0,Jm=10,lp=()=>({pageIndex:Ym,pageSize:Jm}),UH={getInitialState:e=>({...e,pagination:{...lp(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:hn("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const i=o=>si(r,o);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(i)},e.resetPagination=r=>{var i;e.setPagination(r?lp():(i=e.initialState.pagination)!=null?i:lp())},e.setPageIndex=r=>{e.setPagination(i=>{let o=si(r,i.pageIndex);const s=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return o=Math.max(0,Math.min(o,s)),{...i,pageIndex:o}})},e.resetPageIndex=r=>{var i,o;e.setPageIndex(r?Ym:(i=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageIndex)!=null?i:Ym)},e.resetPageSize=r=>{var i,o;e.setPageSize(r?Jm:(i=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageSize)!=null?i:Jm)},e.setPageSize=r=>{e.setPagination(i=>{const o=Math.max(1,si(r,i.pageSize)),s=i.pageSize*i.pageIndex,a=Math.floor(s/o);return{...i,pageIndex:a,pageSize:o}})},e.setPageCount=r=>e.setPagination(i=>{var o;let s=si(r,(o=e.options.pageCount)!=null?o:-1);return typeof s=="number"&&(s=Math.max(-1,s)),{...i,pageCount:s}}),e.getPageOptions=oe(()=>[e.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((o,s)=>s)),i},se(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,i=e.getPageCount();return i===-1?!0:i===0?!1:r<i-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},up=()=>({top:[],bottom:[]}),zH={getInitialState:e=>({rowPinning:up(),...e}),getDefaultOptions:e=>({onRowPinningChange:hn("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,i)=>{const o=r?e.getLeafRows().map(l=>{let{id:u}=l;return u}):[],s=i?e.getParentRows().map(l=>{let{id:u}=l;return u}):[],a=new Set([...s,e.id,...o]);t.setRowPinning(l=>{var u,d;if(n==="bottom"){var f,p;return{top:((f=l==null?void 0:l.top)!=null?f:[]).filter(_=>!(a!=null&&a.has(_))),bottom:[...((p=l==null?void 0:l.bottom)!=null?p:[]).filter(_=>!(a!=null&&a.has(_))),...Array.from(a)]}}if(n==="top"){var h,m;return{top:[...((h=l==null?void 0:l.top)!=null?h:[]).filter(_=>!(a!=null&&a.has(_))),...Array.from(a)],bottom:((m=l==null?void 0:l.bottom)!=null?m:[]).filter(_=>!(a!=null&&a.has(_)))}}return{top:((u=l==null?void 0:l.top)!=null?u:[]).filter(_=>!(a!=null&&a.has(_))),bottom:((d=l==null?void 0:l.bottom)!=null?d:[]).filter(_=>!(a!=null&&a.has(_)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=t.options;return typeof r=="function"?r(e):(n=r??i)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:i}=t.getState().rowPinning,o=n.some(a=>r==null?void 0:r.includes(a)),s=n.some(a=>i==null?void 0:i.includes(a));return o?"top":s?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();if(!i)return-1;const o=(n=i==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(s=>{let{id:a}=s;return a});return(r=o==null?void 0:o.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?up():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:up())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var i,o;return!!((i=r.top)!=null&&i.length||(o=r.bottom)!=null&&o.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var i;return((i=e.options.keepPinnedRows)==null||i?(n??[]).map(s=>{const a=e.getRow(s,!0);return a.getIsAllParentsExpanded()?a:null}):(n??[]).map(s=>t.find(a=>a.id===s))).filter(Boolean).map(s=>({...s,position:r}))},e.getTopRows=oe(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),se(e.options,"debugRows")),e.getBottomRows=oe(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),se(e.options,"debugRows")),e.getCenterRows=oe(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const i=new Set([...n??[],...r??[]]);return t.filter(o=>!i.has(o.id))},se(e.options,"debugRows"))}},jH={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:hn("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},i=e.getPreGroupedRowModel().flatRows;return t?i.forEach(o=>{o.getCanSelect()&&(r[o.id]=!0)}):i.forEach(o=>{delete r[o.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),i={...n};return e.getRowModel().rows.forEach(o=>{Zm(i,o.id,r,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=oe(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?cp(e,n):{rows:[],flatRows:[],rowsById:{}},se(e.options,"debugTable")),e.getFilteredSelectedRowModel=oe(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?cp(e,n):{rows:[],flatRows:[],rowsById:{}},se(e.options,"debugTable")),e.getGroupedSelectedRowModel=oe(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?cp(e,n):{rows:[],flatRows:[],rowsById:{}},se(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(i=>!n[i.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const i=e.getIsSelected();t.setRowSelection(o=>{var s;if(n=typeof n<"u"?n:!i,e.getCanSelect()&&i===n)return o;const a={...o};return Zm(a,e.id,n,(s=r==null?void 0:r.selectChildren)!=null?s:!0,t),a})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return R_(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return eg(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return eg(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var i;n&&e.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},Zm=(e,t,n,r,i)=>{var o;const s=i.getRow(t,!0);n?(s.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),s.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(o=s.subRows)!=null&&o.length&&s.getCanSelectSubRows()&&s.subRows.forEach(a=>Zm(e,a.id,n,r,i))};function cp(e,t){const n=e.getState().rowSelection,r=[],i={},o=function(s,a){return s.map(l=>{var u;const d=R_(l,n);if(d&&(r.push(l),i[l.id]=l),(u=l.subRows)!=null&&u.length&&(l={...l,subRows:o(l.subRows)}),d)return l}).filter(Boolean)};return{rows:o(t.rows),flatRows:r,rowsById:i}}function R_(e,t){var n;return(n=t[e.id])!=null?n:!1}function eg(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let i=!0,o=!1;return e.subRows.forEach(s=>{if(!(o&&!i)&&(s.getCanSelect()&&(R_(s,t)?o=!0:i=!1),s.subRows&&s.subRows.length)){const a=eg(s,t);a==="all"?o=!0:(a==="some"&&(o=!0),i=!1)}}),i?"all":o?"some":!1}const tg=/([0-9]+)/gm,BH=(e,t,n)=>Pb(Di(e.getValue(n)).toLowerCase(),Di(t.getValue(n)).toLowerCase()),HH=(e,t,n)=>Pb(Di(e.getValue(n)),Di(t.getValue(n))),GH=(e,t,n)=>b_(Di(e.getValue(n)).toLowerCase(),Di(t.getValue(n)).toLowerCase()),qH=(e,t,n)=>b_(Di(e.getValue(n)),Di(t.getValue(n))),WH=(e,t,n)=>{const r=e.getValue(n),i=t.getValue(n);return r>i?1:r<i?-1:0},KH=(e,t,n)=>b_(e.getValue(n),t.getValue(n));function b_(e,t){return e===t?0:e>t?1:-1}function Di(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function Pb(e,t){const n=e.split(tg).filter(Boolean),r=t.split(tg).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),o=r.shift(),s=parseInt(i,10),a=parseInt(o,10),l=[s,a].sort();if(isNaN(l[0])){if(i>o)return 1;if(o>i)return-1;continue}if(isNaN(l[1]))return isNaN(s)?-1:1;if(s>a)return 1;if(a>s)return-1}return n.length-r.length}const Ca={alphanumeric:BH,alphanumericCaseSensitive:HH,text:GH,textCaseSensitive:qH,datetime:WH,basic:KH},XH={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:hn("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const o=i==null?void 0:i.getValue(e.id);if(Object.prototype.toString.call(o)==="[object Date]")return Ca.datetime;if(typeof o=="string"&&(r=!0,o.split(tg).length>1))return Ca.alphanumeric}return r?Ca.text:Ca.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return kf(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:Ca[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const i=e.getNextSortingOrder(),o=typeof n<"u"&&n!==null;t.setSorting(s=>{const a=s==null?void 0:s.find(h=>h.id===e.id),l=s==null?void 0:s.findIndex(h=>h.id===e.id);let u=[],d,f=o?n:i==="desc";if(s!=null&&s.length&&e.getCanMultiSort()&&r?a?d="toggle":d="add":s!=null&&s.length&&l!==s.length-1?d="replace":a?d="toggle":d="replace",d==="toggle"&&(o||i||(d="remove")),d==="add"){var p;u=[...s,{id:e.id,desc:f}],u.splice(0,u.length-((p=t.options.maxMultiSortColCount)!=null?p:Number.MAX_SAFE_INTEGER))}else d==="toggle"?u=s.map(h=>h.id===e.id?{...h,desc:f}:h):d==="remove"?u=s.filter(h=>h.id!==e.id):u=[{id:e.id,desc:f}];return u})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,i;const o=e.getFirstSortDir(),s=e.getIsSorted();return s?s!==o&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(i=t.options.enableMultiRemove)!=null)||i)?!1:s==="desc"?"asc":"desc":o},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(i=>i.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},QH=[yH,MH,DH,NH,vH,EH,FH,VH,XH,kH,$H,UH,zH,jH,OH];function YH(e){var t,n;const r=[...QH,...(t=e._features)!=null?t:[]];let i={_features:r};const o=i._features.reduce((p,h)=>Object.assign(p,h.getDefaultOptions==null?void 0:h.getDefaultOptions(i)),{}),s=p=>i.options.mergeOptions?i.options.mergeOptions(o,p):{...o,...p};let l={...{},...(n=e.initialState)!=null?n:{}};i._features.forEach(p=>{var h;l=(h=p.getInitialState==null?void 0:p.getInitialState(l))!=null?h:l});const u=[];let d=!1;const f={_features:r,options:{...o,...e},initialState:l,_queue:p=>{u.push(p),d||(d=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();d=!1}).catch(h=>setTimeout(()=>{throw h})))},reset:()=>{i.setState(i.initialState)},setOptions:p=>{const h=si(p,i.options);i.options=s(h)},getState:()=>i.options.state,setState:p=>{i.options.onStateChange==null||i.options.onStateChange(p)},_getRowId:(p,h,m)=>{var _;return(_=i.options.getRowId==null?void 0:i.options.getRowId(p,h,m))!=null?_:`${m?[m.id,h].join("."):h}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(p,h)=>{let m=(h?i.getPrePaginationRowModel():i.getRowModel()).rowsById[p];if(!m&&(m=i.getCoreRowModel().rowsById[p],!m))throw new Error;return m},_getDefaultColumnDef:oe(()=>[i.options.defaultColumn],p=>{var h;return p=(h=p)!=null?h:{},{header:m=>{const _=m.header.column.columnDef;return _.accessorKey?_.accessorKey:_.accessorFn?_.id:null},cell:m=>{var _,T;return(_=(T=m.renderValue())==null||T.toString==null?void 0:T.toString())!=null?_:null},...i._features.reduce((m,_)=>Object.assign(m,_.getDefaultColumnDef==null?void 0:_.getDefaultColumnDef()),{}),...p}},se(e,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:oe(()=>[i._getColumnDefs()],p=>{const h=function(m,_,T){return T===void 0&&(T=0),m.map(y=>{const E=gH(i,y,T,_),w=y;return E.columns=w.columns?h(w.columns,E,T+1):[],E})};return h(p)},se(e,"debugColumns")),getAllFlatColumns:oe(()=>[i.getAllColumns()],p=>p.flatMap(h=>h.getFlatColumns()),se(e,"debugColumns")),_getAllFlatColumnsById:oe(()=>[i.getAllFlatColumns()],p=>p.reduce((h,m)=>(h[m.id]=m,h),{}),se(e,"debugColumns")),getAllLeafColumns:oe(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(p,h)=>{let m=p.flatMap(_=>_.getLeafColumns());return h(m)},se(e,"debugColumns")),getColumn:p=>i._getAllFlatColumnsById()[p]};Object.assign(i,f);for(let p=0;p<i._features.length;p++){const h=i._features[p];h==null||h.createTable==null||h.createTable(i)}return i}function JH(){return e=>oe(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,o,s){o===void 0&&(o=0);const a=[];for(let u=0;u<i.length;u++){const d=_H(e,e._getRowId(i[u],u,s),i[u],u,o,void 0,s==null?void 0:s.id);if(n.flatRows.push(d),n.rowsById[d.id]=d,a.push(d),e.options.getSubRows){var l;d.originalSubRows=e.options.getSubRows(i[u],u),(l=d.originalSubRows)!=null&&l.length&&(d.subRows=r(d.originalSubRows,o+1,d))}}return a};return n.rows=r(t),n},se(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function ZH(e){const t=[],n=r=>{var i;t.push(r),(i=r.subRows)!=null&&i.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function eG(e){return t=>oe(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:i,pageIndex:o}=n;let{rows:s,flatRows:a,rowsById:l}=r;const u=i*o,d=u+i;s=s.slice(u,d);let f;t.options.paginateExpandedRows?f={rows:s,flatRows:a,rowsById:l}:f=ZH({rows:s,flatRows:a,rowsById:l}),f.flatRows=[];const p=h=>{f.flatRows.push(h),h.subRows.length&&h.subRows.forEach(p)};return f.rows.forEach(p),f},se(t.options,"debugTable"))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Pw(e,t){return e?tG(e)?S.createElement(e,t):e:null}function tG(e){return nG(e)||typeof e=="function"||rG(e)}function nG(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function rG(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function iG(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=S.useState(()=>({current:YH(t)})),[r,i]=S.useState(()=>n.current.initialState);return n.current.setOptions(o=>({...o,...e,state:{...r,...e.state},onStateChange:s=>{i(s),e.onStateChange==null||e.onStateChange(s)}})),n.current}const Db=e=>{const{data:t,columns:n}=e,r=iG({data:t,columns:n,getCoreRowModel:JH(),getPaginationRowModel:eG()});return D.jsxs(D.Fragment,{children:[D.jsx("div",{className:"w-full overflow-hidden border border-gray-200 rounded-lg shadow-sm",children:D.jsx("div",{className:"w-full overflow-x-auto",children:D.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[D.jsx("thead",{className:"bg-white",children:r.getHeaderGroups().map(i=>D.jsx("tr",{children:i.headers.map(o=>D.jsx("th",{colSpan:o.colSpan,scope:"col",className:"px-6 py-3 text-sm font-normal text-left text-gray-500 text-la whitespace-nowrap",children:o.isPlaceholder?null:Pw(o.column.columnDef.header,o.getContext())},o.id))},i.id))}),D.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.getRowModel().rows.map(i=>D.jsx("tr",{children:i.getVisibleCells().map(o=>D.jsx("td",{className:"px-6 py-4 text-sm text-gray-700 whitespace-nowrap",children:Pw(o.column.columnDef.cell,o.getContext())},o.id))},i.id))})]})})}),D.jsxs("div",{className:"flex gap-3 mt-2 text-[#3C50E0] text-sm",children:[D.jsx("div",{children:D.jsx("button",{onClick:()=>{r.previousPage()},disabled:!r.getCanPreviousPage(),className:r.getCanPreviousPage()?"":"text-gray-500",children:"Previous Page"})}),D.jsx("div",{children:D.jsx("button",{onClick:()=>{r.nextPage()},disabled:!r.getCanNextPage(),className:r.getCanNextPage()?"":"text-gray-500",children:"Next Page"})})]})]})},A_=e=>{const{children:t,isModalOpen:n,setIsModalOpen:r,modalToggle:i}=e;return D.jsxs(D.Fragment,{children:[D.jsx("div",{className:"fixed inset-0 z-20 bg-black opacity-50"}),D.jsx("div",{className:"fixed inset-0 z-30 flex items-center justify-center",children:D.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t})})]})},Nb=S.createContext(),Ob=()=>S.useContext(Nb),oG=({children:e})=>{const[t,n]=S.useState([]),r=o=>{n(s=>[o,...s])},i=(o,s)=>{n(a=>a.filter(l=>!(l.collectionName===s&&l.databaseLocation===o)))};return D.jsx(Nb.Provider,{value:{collections:t,addCollection:r,removeCollection:i,setCollections:n},children:e})};var Lb={LANGUAGE:"en_US",USER:"fadelyang",LC_TIME:"id_ID.UTF-8",npm_config_user_agent:"npm/9.8.1 node/v18.18.0 linux x64 workspaces/false",XDG_SESSION_TYPE:"x11",BUN_INSTALL:"/home/fadelyang/.bun",GIT_ASKPASS:"/usr/share/code/resources/app/extensions/git/dist/askpass.sh",npm_node_execpath:"/home/fadelyang/.nvm/versions/node/v18.18.0/bin/node",SHLVL:"3",npm_config_noproxy:"",HOME:"/home/fadelyang",OLDPWD:"/home/fadelyang/Documents/work/2-wir/wir-chat",LESS:"-R",CHROME_DESKTOP:"code-url-handler.desktop",DESKTOP_SESSION:"ubuntu",NVM_BIN:"/home/fadelyang/.nvm/versions/node/v18.18.0/bin",TERM_PROGRAM_VERSION:"1.85.1",npm_package_json:"/home/fadelyang/Documents/work/2-wir/wir-chat/package.json",ZSH:"/home/fadelyang/.oh-my-zsh",LSCOLORS:"Gxfxcxdxbxegedabagacad",NVM_INC:"/home/fadelyang/.nvm/versions/node/v18.18.0/include/node",GTK_MODULES:"gail:atk-bridge",XDG_SEAT_PATH:"/org/freedesktop/DisplayManager/Seat0",GNOME_SHELL_SESSION_MODE:"ubuntu",PAGER:"less",VSCODE_GIT_ASKPASS_MAIN:"/usr/share/code/resources/app/extensions/git/dist/askpass-main.js",LC_MONETARY:"id_ID.UTF-8",VSCODE_GIT_ASKPASS_NODE:"/usr/share/code/code",npm_config_userconfig:"/home/fadelyang/.npmrc",npm_config_local_prefix:"/home/fadelyang/Documents/work/2-wir/wir-chat",SYSTEMD_EXEC_PID:"2309",DBUS_SESSION_BUS_ADDRESS:"unix:path=/run/user/1000/bus",COLORTERM:"truecolor",COLOR:"1",NVM_DIR:"/home/fadelyang/.nvm",npm_config_metrics_registry:"https://registry.npmjs.org/",GTK_IM_MODULE:"ibus",LOGNAME:"fadelyang",_:"/home/fadelyang/.nvm/versions/node/v18.18.0/bin/npm",npm_config_prefix:"/home/fadelyang/.nvm/versions/node/v18.18.0",npm_config_npm_version:"9.8.1",XDG_SESSION_CLASS:"user",USER_ZDOTDIR:"/home/fadelyang",TERM:"xterm-256color",npm_config_cache:"/home/fadelyang/.npm",GNOME_DESKTOP_SESSION_ID:"this-is-deprecated",npm_config_node_gyp:"/home/fadelyang/.nvm/versions/node/v18.18.0/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/fadelyang/Documents/work/2-wir/wir-chat/node_modules/.bin:/home/fadelyang/Documents/work/2-wir/node_modules/.bin:/home/fadelyang/Documents/work/node_modules/.bin:/home/fadelyang/Documents/node_modules/.bin:/home/fadelyang/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/fadelyang/.nvm/versions/node/v18.18.0/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/fadelyang/.bun/bin:/home/fadelyang/.fly/bin:/home/fadelyang/.config/composer/vendor/bin:/home/fadelyang/.bun/bin:/home/fadelyang/.fly/bin:/home/fadelyang/.config/composer/vendor/bin:/home/fadelyang/.bun/bin:/home/fadelyang/.fly/bin:/home/fadelyang/.config/composer/vendor/bin:/home/fadelyang/.nvm/versions/node/v18.18.0/bin:/home/fadelyang/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/home/fadelyang/.dotnet/tools",SESSION_MANAGER:"local/fadela-lenovo:@/tmp/.ICE-unix/2038,unix/fadela-lenovo:/tmp/.ICE-unix/2038",GTK3_MODULES:"xapp-gtk3-module",GDM_LANG:"en_US",NODE:"/home/fadelyang/.nvm/versions/node/v18.18.0/bin/node",npm_package_name:"wir-chat",GNOME_TERMINAL_SCREEN:"/org/gnome/Terminal/screen/a9009bd0_8896_4dfb_b1af_c0ee439fa32d",XDG_MENU_PREFIX:"gnome-",XDG_SESSION_PATH:"/org/freedesktop/DisplayManager/Session0",XDG_RUNTIME_DIR:"/run/user/1000",LC_ADDRESS:"id_ID.UTF-8",GDK_BACKEND:"x11",DISPLAY:":0",LANG:"en_US.UTF-8",XDG_CURRENT_DESKTOP:"Unity",DOTNET_BUNDLE_EXTRACT_BASE_DIR:"/home/fadelyang/.cache/dotnet_bundle_extract",LC_TELEPHONE:"id_ID.UTF-8",VSCODE_INJECTION:"1",XDG_SESSION_DESKTOP:"ubuntu",XMODIFIERS:"@im=ibus",GNOME_TERMINAL_SERVICE:":1.108",XAUTHORITY:"/home/fadelyang/.Xauthority",LS_COLORS:"rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:",TERM_PROGRAM:"vscode",VSCODE_GIT_IPC_HANDLE:"/run/user/1000/vscode-git-b5930ab35c.sock",npm_lifecycle_script:"vite build",SSH_AUTH_SOCK:"/run/user/1000/keyring/ssh",XDG_GREETER_DATA_DIR:"/var/lib/lightdm-data/fadelyang",SSH_AGENT_LAUNCHER:"gnome-keyring",ORIGINAL_XDG_CURRENT_DESKTOP:"Unity",GOPATH:"/home/fadelyang/go",SHELL:"/usr/bin/zsh",LC_NAME:"id_ID.UTF-8",npm_package_version:"0.0.0",npm_lifecycle_event:"build",QT_ACCESSIBILITY:"1",GDMSESSION:"ubuntu",FLYCTL_INSTALL:"/home/fadelyang/.fly",NO_AT_BRIDGE:"1",LC_MEASUREMENT:"id_ID.UTF-8",LC_IDENTIFICATION:"id_ID.UTF-8",GPG_AGENT_INFO:"/run/user/1000/gnupg/S.gpg-agent:0:1",QT_IM_MODULE:"ibus",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",npm_config_globalconfig:"/home/fadelyang/.nvm/versions/node/v18.18.0/etc/npmrc",npm_config_init_module:"/home/fadelyang/.npm-init.js",PWD:"/home/fadelyang/Documents/work/2-wir/wir-chat",npm_execpath:"/home/fadelyang/.nvm/versions/node/v18.18.0/lib/node_modules/npm/bin/npm-cli.js",XDG_CONFIG_DIRS:"/etc/xdg/xdg-ubuntu:/etc/xdg",XDG_DATA_DIRS:"/usr/share/ubuntu:/usr/share/gnome:/home/fadelyang/.local/share/flatpak/exports/share:/var/lib/flatpak/exports/share:/usr/local/share:/usr/share:/var/lib/snapd/desktop",NVM_CD_FLAGS:"-q",ZDOTDIR:"/home/fadelyang",npm_config_global_prefix:"/home/fadelyang/.nvm/versions/node/v18.18.0",LC_NUMERIC:"id_ID.UTF-8",npm_command:"run-script",LC_PAPER:"id_ID.UTF-8",VTE_VERSION:"6800",INIT_CWD:"/home/fadelyang/Documents/work/2-wir/wir-chat",EDITOR:"vi",NODE_ENV:"production",REACT_APP_BACKEND_URL:"https://ea.wirglobal.com",REACT_APP_CURRENT_VERSION:"3.1.0",REACT_APP_FIREBASE_API_KEY:"AIzaSyDoyWyWKSk_8ovvS8_0d1A64DIRVhsEPdE",REACT_APP_FIREBASE_AUTH_DOMAIN:"wirchat-22331.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"wirchat-22331",REACT_APP_FIREBASE_STORAGE_BUCKET:"wirchat-22331.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"279788642755",REACT_APP_FIREBASE_APP_ID:"1:279788642755:web:61bafae06f7d1932765d76",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-97GNX3XH66"};const Mb=async e=>{try{const t=`${Lb.REACT_APP_BACKEND_URL}/list-database?db_location=${e}`,n=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}});if(!n.ok)throw new Error(`Failed to fetch data: ${n.statusText}`);return(await n.json()).data.output}catch(t){return console.error(`Error fetching ${e} collection:`,t.message),null}},Fb=e=>{try{const t=e.match(/\[.*\]/);if(t){const n=t[0].replace(/'/g,'"');return JSON.parse(n)}return[]}catch(t){return console.error("Error parsing collection response:",t.message),[]}},sG=()=>{const{collections:e,setCollections:t,removeCollection:n}=Ob(),[r,i]=S.useState(!1),[o,s]=S.useState(!0),[a,l]=S.useState(""),u=["indonesia","english","china","japan"],d=async()=>{console.log({isDeleting:r});const h=[];for(let m of u){const _=await Mb(m);_&&Fb(_).forEach(y=>{h.push({collectionName:y,databaseLocation:m})})}t(h),sessionStorage.setItem("collections",JSON.stringify(h)),s(!1)},f=async(h,m)=>{if(!confirm("Are you sure?"))return;const T=new FormData;T.append("language",h),T.append("collection_name",m);const y=`${Lb.REACT_APP_BACKEND_URL}/delete-database`;try{i(!0);const E=await fetch(y,{method:"POST",body:T});console.log({language:h,collectionName:m}),n(h,m),alert(`Success deleted ${m} in ${h} database`),i(!1),l("")}catch(E){console.log(E)}},p=[{header:"id",cell:({row:h})=>h.index+1},{header:"Collection Name",accessorKey:"collectionName"},{header:"Database Location",accessorKey:"databaseLocation"},{header:"Action",id:"action",cell:r?({row:h})=>D.jsx("button",{className:"px-4 py-2 rounded bg-gray-800 text-white disabled:bg-gray-500",disabled:!0,children:h.original.collectionName===a?"Deleting...":"Delete"}):({row:h})=>D.jsx("button",{className:"px-4 py-2 rounded bg-black text-white",onClick:()=>{f(h.original.databaseLocation,h.original.collectionName),l(h.original.collectionName)},children:"Delete"})}];return S.useEffect(()=>{d()},[]),D.jsx(D.Fragment,{children:o?D.jsx("div",{className:"text-center",children:"Loading collections data..."}):D.jsx(Db,{columns:p,data:e})})},aG=()=>{const[e,t]=S.useState([]),[n,r]=S.useState(!1),[i,o]=S.useState([]),[s,a]=S.useState(!1),[l,u]=S.useState(null),[d,f]=S.useState(""),[p,h]=S.useState(""),[m,_]=S.useState(""),[T,y]=S.useState(""),[E,w]=S.useState(!1),M=async()=>{const C=await xV();t(C)},F=C=>{u(C),f(C.language),h(C.db_location),_(C.selected_collection),y(C.id),r(!0)},P=async C=>{_("loading data...");const I=await Mb(C),L=[...Fb(I),l?l.selected_collection:"No collection selected"];o(L),_(l?l.selected_collection:"No collection selected")},b=async(C,I)=>{if(!window.confirm("Are you sure? Please check the input again before submitting")){r(!1);return}try{w(!0),await CV(C,I),w(!1),alert(`Success updated ${d} collections`),M(),r(!1)}catch(L){alert(`Error: ${L.message||"Failed to edit selected collection"}`)}};S.useEffect(()=>{M()},[]),S.useEffect(()=>{(async()=>{if(!p){h([]);return}a(!0),_("loading data..."),await P(p),l&&_(l.selected_collection),a(!1)})()},[p,l]);const x=[{Header:"Index",id:"index",cell:({row:C})=>C.index+1},{header:"Language",accessorKey:"language"},{header:"Selected Collection",accessorKey:"selected_collection"},{header:"Database Location",accessorKey:"db_location"},{header:"Action",accessorKey:"action",cell:({row:C})=>D.jsx("button",{className:"px-4 py-2 text-sm text-white bg-gray-900 rounded hover:bg-gray-950",onClick:()=>F(C.original),children:"Edit"})}];return D.jsxs(D.Fragment,{children:[D.jsx(Db,{data:e,columns:x}),n&&D.jsx(A_,{children:D.jsxs("div",{children:[D.jsxs("div",{className:"flex justify-between mb-5 font-bold text-md w-full",children:[D.jsx("h1",{children:"Edit Selected Collection"}),D.jsx("button",{onClick:()=>{r(!1),u(null)},children:D.jsx("i",{className:"fa-solid fa-xmark"})})]}),D.jsxs("form",{action:"#",children:[D.jsxs("div",{className:"mb-4",children:[D.jsx("label",{className:"block mb-2 text-sm font-bold text-gray-700",htmlFor:"language",children:"Language"}),D.jsx("input",{className:"w-full px-3 py-2 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline",id:"collectionFile",name:"language",type:"text",disabled:!0,value:d})]}),D.jsxs("div",{className:"mb-4",children:[D.jsx("label",{className:"block mb-2 text-sm font-bold text-gray-700",htmlFor:"databaseLocation",children:"Store DB location"}),D.jsxs("div",{className:"relative",children:[D.jsxs("select",{className:"block w-full px-4 py-2 pr-8 leading-tight text-gray-700 bg-white border rounded shadow appearance-none focus:outline-none focus:shadow-outline",id:"databaseLocation",name:"databaseLocation",value:p,onChange:C=>h(C.target.value),children:[D.jsx("option",{value:"indonesia",children:"Indonesia"}),D.jsx("option",{value:"english",children:"English"}),D.jsx("option",{value:"china",children:"China"}),D.jsx("option",{value:"japan",children:"Japan"})]}),D.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 pointer-events-none",children:D.jsx("svg",{className:"w-4 h-4 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:D.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),D.jsxs("div",{className:"mb-4",children:[D.jsx("label",{className:"block mb-2 text-sm font-bold text-gray-700",htmlFor:"selectedCollection",children:"Selected Collection"}),D.jsxs("div",{className:"relative",children:[D.jsx("select",{className:"block w-full px-4 py-2 pr-8 leading-tight text-gray-700 bg-white border rounded shadow appearance-none focus:outline-none focus:shadow-outline",id:"selectedCollection",name:"selectedCollection",value:m,onChange:C=>_(C.target.value),children:s?D.jsx("option",{disabled:!0,value:"loading data...",children:"loading data..."}):i.map((C,I)=>D.jsx("option",{value:C,children:C},I))}),D.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 pointer-events-none",children:D.jsx("svg",{className:"w-4 h-4 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:D.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),D.jsx("div",{className:"flex items-center justify-end",children:D.jsx("button",{className:"px-4 py-2 text-sm font-bold text-white bg-gray-900 rounded hover:bg-gray-950 focus:outline-none focus:shadow-outline disabled:bg-gray-500",type:"submit",disabled:E,onClick:()=>b(T,m),children:E?"Editting...":"Edit"})})]})]})})]})},lG=()=>{const e=[{name:"Dashboard",path:"/dashboard"},{name:"Languages",path:"/dashboard/languages"}],[t,n]=S.useState(!1),r=()=>{n(!t)};return D.jsxs(x_,{children:[D.jsx(Sb,{name:"Languages",breadcrumbPath:e}),D.jsxs("div",{className:"mt-14",children:[D.jsx("div",{className:"flex justify-end",children:D.jsx("button",{className:"px-4 hidden py-2 text-sm text-white bg-gray-700 rounded hover:bg-gray-750",onClick:()=>r(),disabled:!0,children:"Add new laguage"})}),D.jsx("div",{className:"mt-5",children:D.jsx(aG,{})})]}),t&&D.jsx(A_,{children:D.jsxs("div",{children:[D.jsxs("div",{className:"flex justify-between mb-5 font-bold text-md",children:[D.jsx("h1",{className:"hidden",children:"Add new language"}),D.jsx("div",{children:D.jsx("button",{onClick:()=>r(),children:D.jsx("i",{className:"fa-solid fa-xmark"})})})]}),D.jsxs("form",{className:"",children:[D.jsxs("div",{className:"mb-4",children:[D.jsx("label",{className:"block mb-2 text-sm font-bold text-gray-700",for:"languageName",children:"Language Name"}),D.jsx("input",{className:"w-full px-3 py-2 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline",id:"languageName",type:"text",placeholder:"Languange name"})]}),D.jsxs("div",{className:"mb-6",children:[D.jsx("label",{className:"block mb-2 text-sm font-bold text-gray-700",for:"selectedCollections",children:"Selected Collection"}),D.jsx("input",{className:"w-full px-3 py-2 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline",id:"selectedCollections",type:"text",placeholder:"Selected collections"})]}),D.jsx("div",{className:"flex items-center justify-end",children:D.jsx("button",{className:"px-4 py-2 text-sm font-bold text-white bg-gray-900 rounded hover:bg-gray-950 focus:outline-none focus:shadow-outline",type:"button",children:"Add Language"})})]})]})})]})};var uG={LANGUAGE:"en_US",USER:"fadelyang",LC_TIME:"id_ID.UTF-8",npm_config_user_agent:"npm/9.8.1 node/v18.18.0 linux x64 workspaces/false",XDG_SESSION_TYPE:"x11",BUN_INSTALL:"/home/fadelyang/.bun",GIT_ASKPASS:"/usr/share/code/resources/app/extensions/git/dist/askpass.sh",npm_node_execpath:"/home/fadelyang/.nvm/versions/node/v18.18.0/bin/node",SHLVL:"3",npm_config_noproxy:"",HOME:"/home/fadelyang",OLDPWD:"/home/fadelyang/Documents/work/2-wir/wir-chat",LESS:"-R",CHROME_DESKTOP:"code-url-handler.desktop",DESKTOP_SESSION:"ubuntu",NVM_BIN:"/home/fadelyang/.nvm/versions/node/v18.18.0/bin",TERM_PROGRAM_VERSION:"1.85.1",npm_package_json:"/home/fadelyang/Documents/work/2-wir/wir-chat/package.json",ZSH:"/home/fadelyang/.oh-my-zsh",LSCOLORS:"Gxfxcxdxbxegedabagacad",NVM_INC:"/home/fadelyang/.nvm/versions/node/v18.18.0/include/node",GTK_MODULES:"gail:atk-bridge",XDG_SEAT_PATH:"/org/freedesktop/DisplayManager/Seat0",GNOME_SHELL_SESSION_MODE:"ubuntu",PAGER:"less",VSCODE_GIT_ASKPASS_MAIN:"/usr/share/code/resources/app/extensions/git/dist/askpass-main.js",LC_MONETARY:"id_ID.UTF-8",VSCODE_GIT_ASKPASS_NODE:"/usr/share/code/code",npm_config_userconfig:"/home/fadelyang/.npmrc",npm_config_local_prefix:"/home/fadelyang/Documents/work/2-wir/wir-chat",SYSTEMD_EXEC_PID:"2309",DBUS_SESSION_BUS_ADDRESS:"unix:path=/run/user/1000/bus",COLORTERM:"truecolor",COLOR:"1",NVM_DIR:"/home/fadelyang/.nvm",npm_config_metrics_registry:"https://registry.npmjs.org/",GTK_IM_MODULE:"ibus",LOGNAME:"fadelyang",_:"/home/fadelyang/.nvm/versions/node/v18.18.0/bin/npm",npm_config_prefix:"/home/fadelyang/.nvm/versions/node/v18.18.0",npm_config_npm_version:"9.8.1",XDG_SESSION_CLASS:"user",USER_ZDOTDIR:"/home/fadelyang",TERM:"xterm-256color",npm_config_cache:"/home/fadelyang/.npm",GNOME_DESKTOP_SESSION_ID:"this-is-deprecated",npm_config_node_gyp:"/home/fadelyang/.nvm/versions/node/v18.18.0/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/fadelyang/Documents/work/2-wir/wir-chat/node_modules/.bin:/home/fadelyang/Documents/work/2-wir/node_modules/.bin:/home/fadelyang/Documents/work/node_modules/.bin:/home/fadelyang/Documents/node_modules/.bin:/home/fadelyang/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/fadelyang/.nvm/versions/node/v18.18.0/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/fadelyang/.bun/bin:/home/fadelyang/.fly/bin:/home/fadelyang/.config/composer/vendor/bin:/home/fadelyang/.bun/bin:/home/fadelyang/.fly/bin:/home/fadelyang/.config/composer/vendor/bin:/home/fadelyang/.bun/bin:/home/fadelyang/.fly/bin:/home/fadelyang/.config/composer/vendor/bin:/home/fadelyang/.nvm/versions/node/v18.18.0/bin:/home/fadelyang/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/home/fadelyang/.dotnet/tools",SESSION_MANAGER:"local/fadela-lenovo:@/tmp/.ICE-unix/2038,unix/fadela-lenovo:/tmp/.ICE-unix/2038",GTK3_MODULES:"xapp-gtk3-module",GDM_LANG:"en_US",NODE:"/home/fadelyang/.nvm/versions/node/v18.18.0/bin/node",npm_package_name:"wir-chat",GNOME_TERMINAL_SCREEN:"/org/gnome/Terminal/screen/a9009bd0_8896_4dfb_b1af_c0ee439fa32d",XDG_MENU_PREFIX:"gnome-",XDG_SESSION_PATH:"/org/freedesktop/DisplayManager/Session0",XDG_RUNTIME_DIR:"/run/user/1000",LC_ADDRESS:"id_ID.UTF-8",GDK_BACKEND:"x11",DISPLAY:":0",LANG:"en_US.UTF-8",XDG_CURRENT_DESKTOP:"Unity",DOTNET_BUNDLE_EXTRACT_BASE_DIR:"/home/fadelyang/.cache/dotnet_bundle_extract",LC_TELEPHONE:"id_ID.UTF-8",VSCODE_INJECTION:"1",XDG_SESSION_DESKTOP:"ubuntu",XMODIFIERS:"@im=ibus",GNOME_TERMINAL_SERVICE:":1.108",XAUTHORITY:"/home/fadelyang/.Xauthority",LS_COLORS:"rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:",TERM_PROGRAM:"vscode",VSCODE_GIT_IPC_HANDLE:"/run/user/1000/vscode-git-b5930ab35c.sock",npm_lifecycle_script:"vite build",SSH_AUTH_SOCK:"/run/user/1000/keyring/ssh",XDG_GREETER_DATA_DIR:"/var/lib/lightdm-data/fadelyang",SSH_AGENT_LAUNCHER:"gnome-keyring",ORIGINAL_XDG_CURRENT_DESKTOP:"Unity",GOPATH:"/home/fadelyang/go",SHELL:"/usr/bin/zsh",LC_NAME:"id_ID.UTF-8",npm_package_version:"0.0.0",npm_lifecycle_event:"build",QT_ACCESSIBILITY:"1",GDMSESSION:"ubuntu",FLYCTL_INSTALL:"/home/fadelyang/.fly",NO_AT_BRIDGE:"1",LC_MEASUREMENT:"id_ID.UTF-8",LC_IDENTIFICATION:"id_ID.UTF-8",GPG_AGENT_INFO:"/run/user/1000/gnupg/S.gpg-agent:0:1",QT_IM_MODULE:"ibus",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",npm_config_globalconfig:"/home/fadelyang/.nvm/versions/node/v18.18.0/etc/npmrc",npm_config_init_module:"/home/fadelyang/.npm-init.js",PWD:"/home/fadelyang/Documents/work/2-wir/wir-chat",npm_execpath:"/home/fadelyang/.nvm/versions/node/v18.18.0/lib/node_modules/npm/bin/npm-cli.js",XDG_CONFIG_DIRS:"/etc/xdg/xdg-ubuntu:/etc/xdg",XDG_DATA_DIRS:"/usr/share/ubuntu:/usr/share/gnome:/home/fadelyang/.local/share/flatpak/exports/share:/var/lib/flatpak/exports/share:/usr/local/share:/usr/share:/var/lib/snapd/desktop",NVM_CD_FLAGS:"-q",ZDOTDIR:"/home/fadelyang",npm_config_global_prefix:"/home/fadelyang/.nvm/versions/node/v18.18.0",LC_NUMERIC:"id_ID.UTF-8",npm_command:"run-script",LC_PAPER:"id_ID.UTF-8",VTE_VERSION:"6800",INIT_CWD:"/home/fadelyang/Documents/work/2-wir/wir-chat",EDITOR:"vi",NODE_ENV:"production",REACT_APP_BACKEND_URL:"https://ea.wirglobal.com",REACT_APP_CURRENT_VERSION:"3.1.0",REACT_APP_FIREBASE_API_KEY:"AIzaSyDoyWyWKSk_8ovvS8_0d1A64DIRVhsEPdE",REACT_APP_FIREBASE_AUTH_DOMAIN:"wirchat-22331.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"wirchat-22331",REACT_APP_FIREBASE_STORAGE_BUCKET:"wirchat-22331.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"279788642755",REACT_APP_FIREBASE_APP_ID:"1:279788642755:web:61bafae06f7d1932765d76",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-97GNX3XH66"};const cG=()=>{const e=[{name:"Dashboard",path:"/dashboard"},{name:"Collections",path:"/dashboard/collections"}],[t,n]=S.useState(!1),[r,i]=S.useState(!1),[o,s]=S.useState({collectionFile:null,collectionName:"",databaseLocation:"indonesia"}),{addCollection:a}=Ob(),l=d=>{const{name:f,value:p,type:h,files:m}=d.target;s(_=>({..._,[f]:h==="file"?m[0]:p}))},u=async d=>{if(d.preventDefault(),!o.collectionFile||!o.collectionName){alert("Please fill in all required fields");return}if(window.confirm("Are you sure? Please check the input again before submitting"))try{i(!0);const p=new FormData;p.append("file",o.collectionFile),p.append("collection_name",o.collectionName),p.append("store_db_location",o.databaseLocation),p.append("components","File-aA0Wu");const h=await fetch(`${uG.REACT_APP_BACKEND_URL}/upload-collection`,{method:"POST",body:p});if(!h.ok)throw new Error(`HTTP error! status: ${h.status}`);const m=await h.json();alert("Success: Collection uploaded successfully!"),s({collectionFile:null,collectionName:"",databaseLocation:""}),n(!1),a({collectionName:o.collectionName,databaseLocation:o.databaseLocation})}catch(p){console.error("Error uploading collection:",p),alert(`Error: ${p.message||"Failed to upload collection"}`)}finally{i(!1)}};return D.jsxs(x_,{children:[D.jsx(Sb,{name:"Collections",breadcrumbPath:e}),D.jsxs("div",{className:"mt-14",children:[D.jsx("div",{className:"flex justify-end",children:D.jsx("button",{className:"px-4 py-2 text-sm text-white bg-gray-900 rounded hover:bg-gray-950",onClick:()=>n(!0),children:"Add new collections"})}),D.jsx("div",{className:"mt-5",children:D.jsx(sG,{})})]}),t&&D.jsx(A_,{children:D.jsxs("div",{children:[D.jsxs("div",{className:"flex justify-between mb-5 font-bold text-md",children:[D.jsx("h1",{children:"Add new collection"}),D.jsx("button",{onClick:()=>n(!1),children:D.jsx("i",{className:"fa-solid fa-xmark"})})]}),D.jsxs("form",{onSubmit:u,encType:"multipart/form-data",children:[D.jsxs("div",{className:"mb-4",children:[D.jsx("label",{className:"block mb-2 text-sm font-bold text-gray-700",htmlFor:"collectionFile",children:"Collection File"}),D.jsx("input",{className:"w-full px-3 py-2 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline",id:"collectionFile",name:"collectionFile",type:"file",onChange:l,required:!0})]}),D.jsxs("div",{className:"mb-4",children:[D.jsx("label",{className:"block mb-2 text-sm font-bold text-gray-700",htmlFor:"collectionName",children:"Collection Name"}),D.jsx("input",{className:"w-full px-3 py-2 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline",id:"collectionName",name:"collectionName",value:o.collectionName,onChange:l,type:"text",placeholder:"Collection name",required:!0}),D.jsx("p",{className:"block mb-2 mt-1 text-sm font-medium text-red-700",children:"(please use snake_case format)"})]}),D.jsxs("div",{className:"mb-6",children:[D.jsx("label",{className:"block mb-2 text-sm font-bold text-gray-700",htmlFor:"databaseLocation",children:"Store DB location"}),D.jsxs("div",{className:"relative",children:[D.jsxs("select",{className:"block w-full px-4 py-2 pr-8 leading-tight text-gray-700 bg-white border rounded shadow appearance-none focus:outline-none focus:shadow-outline",id:"databaseLocation",name:"databaseLocation",value:o.databaseLocation,onChange:l,children:[D.jsx("option",{value:"indonesia",children:"Indonesia"}),D.jsx("option",{value:"english",children:"English"}),D.jsx("option",{value:"china",children:"China"}),D.jsx("option",{value:"japan",children:"Japan"})]}),D.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 pointer-events-none",children:D.jsx("svg",{className:"w-4 h-4 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:D.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),D.jsx("div",{className:"flex items-center justify-end",children:D.jsx("button",{className:"px-4 py-2 text-sm font-bold text-white bg-gray-900 rounded hover:bg-gray-950 focus:outline-none focus:shadow-outline disabled:bg-gray-500",type:"submit",disabled:r,children:r?"Adding...":"Add collection"})})]})]})})]})},dG=()=>{const e=qd(),[t,n]=S.useState(""),[r,i]=S.useState(""),[o,s]=S.useState(!1),[a,l]=S.useState(""),u=async d=>{d.preventDefault(),await aF(Gy,t,r).then(f=>{f.user,e("/dashboard"),s(!1)}).catch(f=>{const p=f.message;s(!0),p=="Firebase: Error (auth/too-many-requests)."?l("Terlalu banyak percobaan, silahkan coba lagi beberapa saat"):l("Email atau password salah")})};return D.jsx(D.Fragment,{children:D.jsx("div",{className:"flex h-screen justify-center items-center",children:D.jsxs("form",{className:"flex flex-col gap-5 border rounded py-5 px-10 shadow",onSubmit:u,children:[D.jsx("div",{className:"text-center text-xl font-medium",children:"Login Form"}),D.jsxs("div",{className:"flex flex-col gap-2",children:[D.jsx("label",{className:"block text-sm font-bold text-gray-700",htmlFor:"email",children:"Email"}),D.jsx("input",{className:"w-full px-3 py-2 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline",id:"email",name:"email",type:"email",value:t,onChange:d=>n(d.target.value),required:!0}),D.jsxs("div",{className:"flex flex-col gap-1",children:[D.jsx("label",{className:"block text-sm font-bold text-gray-700",htmlFor:"password",children:"Passowrd"}),D.jsx("input",{className:"w-full px-3 py-2 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline",id:"passwrd",name:"password",type:"password",value:r,onChange:d=>i(d.target.value),required:!0}),o&&D.jsx("div",{className:"text-wrap text-sm font-medium text-red-500 max-w-[274px]",children:a})]})]}),D.jsx("div",{className:"flex justify-end",children:D.jsx("button",{type:"submit",children:"Login"})})]})})})},k_=S.createContext();function fG(){return S.useContext(k_)}function hG({children:e}){const[t,n]=S.useState();return S.useEffect(()=>{const r=cF(Gy,i=>{n(i)});return()=>r()},[]),D.jsx(k_.Provider,{value:{user:t},children:e})}function dp({children:e}){const{user:t}=fG();return t?e:D.jsx(kD,{to:"/login",replace:!0})}const pG=()=>D.jsx("div",{className:"flex flex-col justify-center items-center min-h-screen w-full",children:D.jsx("p",{children:"Page Not Found"})});function mG(){const{user:e}=S.useContext(k_);return e===void 0?null:D.jsxs(DD,{children:[D.jsx(Ki,{path:"/",element:D.jsx(sH,{})}),D.jsx(Ki,{path:"/dashboard",element:D.jsx(dp,{children:D.jsx(cH,{})})}),D.jsx(Ki,{path:"/login",element:D.jsx(dG,{})}),D.jsx(Ki,{path:"/dashboard/languages",element:D.jsx(dp,{children:D.jsx(lG,{})})}),D.jsx(Ki,{path:"/dashboard/collections",element:D.jsx(dp,{children:D.jsx(cG,{})})}),D.jsx(Ki,{path:"*",element:D.jsx(pG,{})})]})}GI(document.getElementById("root")).render(D.jsx(nN,{children:D.jsx(S.StrictMode,{children:D.jsx(RV,{children:D.jsx(oG,{children:D.jsx(hG,{children:D.jsx(mG,{})})})})})}));
