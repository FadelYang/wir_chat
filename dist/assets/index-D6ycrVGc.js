function cb(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cC(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dC={exports:{}},qd={},hC={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wl=Symbol.for("react.element"),db=Symbol.for("react.portal"),hb=Symbol.for("react.fragment"),fb=Symbol.for("react.strict_mode"),pb=Symbol.for("react.profiler"),mb=Symbol.for("react.provider"),gb=Symbol.for("react.context"),yb=Symbol.for("react.forward_ref"),vb=Symbol.for("react.suspense"),_b=Symbol.for("react.memo"),wb=Symbol.for("react.lazy"),ew=Symbol.iterator;function Eb(e){return e===null||typeof e!="object"?null:(e=ew&&e[ew]||e["@@iterator"],typeof e=="function"?e:null)}var fC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pC=Object.assign,mC={};function Hs(e,t,n){this.props=e,this.context=t,this.refs=mC,this.updater=n||fC}Hs.prototype.isReactComponent={};Hs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Hs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gC(){}gC.prototype=Hs.prototype;function Ig(e,t,n){this.props=e,this.context=t,this.refs=mC,this.updater=n||fC}var xg=Ig.prototype=new gC;xg.constructor=Ig;pC(xg,Hs.prototype);xg.isPureReactComponent=!0;var tw=Array.isArray,yC=Object.prototype.hasOwnProperty,Ag={current:null},vC={key:!0,ref:!0,__self:!0,__source:!0};function _C(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)yC.call(t,r)&&!vC.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Wl,type:e,key:o,ref:s,props:i,_owner:Ag.current}}function Sb(e,t){return{$$typeof:Wl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Tg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wl}function Cb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var nw=/\/+/g;function gf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Cb(""+e.key):t.toString(36)}function vc(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Wl:case db:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+gf(s,0):r,tw(i)?(n="",e!=null&&(n=e.replace(nw,"$&/")+"/"),vc(i,t,n,"",function(u){return u})):i!=null&&(Tg(i)&&(i=Sb(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(nw,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",tw(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+gf(o,a);s+=vc(o,t,n,l,i)}else if(l=Eb(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+gf(o,a++),s+=vc(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Uu(e,t,n){if(e==null)return e;var r=[],i=0;return vc(e,r,"","",function(o){return t.call(n,o,i++)}),r}function Ib(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var qt={current:null},_c={transition:null},xb={ReactCurrentDispatcher:qt,ReactCurrentBatchConfig:_c,ReactCurrentOwner:Ag};function wC(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:Uu,forEach:function(e,t,n){Uu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Uu(e,function(){t++}),t},toArray:function(e){return Uu(e,function(t){return t})||[]},only:function(e){if(!Tg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ye.Component=Hs;ye.Fragment=hb;ye.Profiler=pb;ye.PureComponent=Ig;ye.StrictMode=fb;ye.Suspense=vb;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xb;ye.act=wC;ye.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=pC({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Ag.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)yC.call(t,l)&&!vC.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Wl,type:e.type,key:i,ref:o,props:r,_owner:s}};ye.createContext=function(e){return e={$$typeof:gb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mb,_context:e},e.Consumer=e};ye.createElement=_C;ye.createFactory=function(e){var t=_C.bind(null,e);return t.type=e,t};ye.createRef=function(){return{current:null}};ye.forwardRef=function(e){return{$$typeof:yb,render:e}};ye.isValidElement=Tg;ye.lazy=function(e){return{$$typeof:wb,_payload:{_status:-1,_result:e},_init:Ib}};ye.memo=function(e,t){return{$$typeof:_b,type:e,compare:t===void 0?null:t}};ye.startTransition=function(e){var t=_c.transition;_c.transition={};try{e()}finally{_c.transition=t}};ye.unstable_act=wC;ye.useCallback=function(e,t){return qt.current.useCallback(e,t)};ye.useContext=function(e){return qt.current.useContext(e)};ye.useDebugValue=function(){};ye.useDeferredValue=function(e){return qt.current.useDeferredValue(e)};ye.useEffect=function(e,t){return qt.current.useEffect(e,t)};ye.useId=function(){return qt.current.useId()};ye.useImperativeHandle=function(e,t,n){return qt.current.useImperativeHandle(e,t,n)};ye.useInsertionEffect=function(e,t){return qt.current.useInsertionEffect(e,t)};ye.useLayoutEffect=function(e,t){return qt.current.useLayoutEffect(e,t)};ye.useMemo=function(e,t){return qt.current.useMemo(e,t)};ye.useReducer=function(e,t,n){return qt.current.useReducer(e,t,n)};ye.useRef=function(e){return qt.current.useRef(e)};ye.useState=function(e){return qt.current.useState(e)};ye.useSyncExternalStore=function(e,t,n){return qt.current.useSyncExternalStore(e,t,n)};ye.useTransition=function(){return qt.current.useTransition()};ye.version="18.3.1";hC.exports=ye;var S=hC.exports;const Se=cC(S),Lp=cb({__proto__:null,default:Se},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ab=S,Tb=Symbol.for("react.element"),Pb=Symbol.for("react.fragment"),Rb=Object.prototype.hasOwnProperty,bb=Ab.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kb={key:!0,ref:!0,__self:!0,__source:!0};function EC(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Rb.call(t,r)&&!kb.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Tb,type:e,key:o,ref:s,props:i,_owner:bb.current}}qd.Fragment=Pb;qd.jsx=EC;qd.jsxs=EC;dC.exports=qd;var C=dC.exports,SC={exports:{}},_n={},CC={exports:{}},IC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,q){var N=U.length;U.push(q);e:for(;0<N;){var le=N-1>>>1,ue=U[le];if(0<i(ue,q))U[le]=q,U[N]=ue,N=le;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var q=U[0],N=U.pop();if(N!==q){U[0]=N;e:for(var le=0,ue=U.length,L=ue>>>1;le<L;){var ve=2*(le+1)-1,Be=U[ve],Re=ve+1,gt=U[Re];if(0>i(Be,N))Re<ue&&0>i(gt,Be)?(U[le]=gt,U[Re]=N,le=Re):(U[le]=Be,U[ve]=N,le=ve);else if(Re<ue&&0>i(gt,N))U[le]=gt,U[Re]=N,le=Re;else break e}}return q}function i(U,q){var N=U.sortIndex-q.sortIndex;return N!==0?N:U.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],d=1,h=null,p=3,f=!1,m=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(U){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=U)r(u),q.sortIndex=q.expirationTime,t(l,q);else break;q=n(u)}}function D(U){if(_=!1,E(U),!m)if(n(l)!==null)m=!0,re(F);else{var q=n(u);q!==null&&te(D,q.startTime-U)}}function F(U,q){m=!1,_&&(_=!1,y(A),A=-1),f=!0;var N=p;try{for(E(q),h=n(l);h!==null&&(!(h.expirationTime>q)||U&&!R());){var le=h.callback;if(typeof le=="function"){h.callback=null,p=h.priorityLevel;var ue=le(h.expirationTime<=q);q=e.unstable_now(),typeof ue=="function"?h.callback=ue:h===n(l)&&r(l),E(q)}else r(l);h=n(l)}if(h!==null)var L=!0;else{var ve=n(u);ve!==null&&te(D,ve.startTime-q),L=!1}return L}finally{h=null,p=N,f=!1}}var k=!1,P=null,A=-1,T=5,I=-1;function R(){return!(e.unstable_now()-I<T)}function M(){if(P!==null){var U=e.unstable_now();I=U;var q=!0;try{q=P(!0,U)}finally{q?O():(k=!1,P=null)}}else k=!1}var O;if(typeof v=="function")O=function(){v(M)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Z=X.port2;X.port1.onmessage=M,O=function(){Z.postMessage(null)}}else O=function(){x(M,0)};function re(U){P=U,k||(k=!0,O())}function te(U,q){A=x(function(){U(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){m||f||(m=!0,re(F))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(U){switch(p){case 1:case 2:case 3:var q=3;break;default:q=p}var N=p;p=q;try{return U()}finally{p=N}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,q){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var N=p;p=U;try{return q()}finally{p=N}},e.unstable_scheduleCallback=function(U,q,N){var le=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?le+N:le):N=le,U){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=N+ue,U={id:d++,callback:q,priorityLevel:U,startTime:N,expirationTime:ue,sortIndex:-1},N>le?(U.sortIndex=N,t(u,U),n(l)===null&&U===n(u)&&(_?(y(A),A=-1):_=!0,te(D,N-le))):(U.sortIndex=ue,t(l,U),m||f||(m=!0,re(F))),U},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(U){var q=p;return function(){var N=p;p=q;try{return U.apply(this,arguments)}finally{p=N}}}})(IC);CC.exports=IC;var Db=CC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ob=S,yn=Db;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xC=new Set,hl={};function Do(e,t){Ts(e,t),Ts(e+"Capture",t)}function Ts(e,t){for(hl[e]=t,e=0;e<t.length;e++)xC.add(t[e])}var Lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mp=Object.prototype.hasOwnProperty,Nb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rw={},iw={};function Lb(e){return Mp.call(iw,e)?!0:Mp.call(rw,e)?!1:Nb.test(e)?iw[e]=!0:(rw[e]=!0,!1)}function Mb(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Fb(e,t,n,r){if(t===null||typeof t>"u"||Mb(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Kt(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ct[e]=new Kt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ct[t]=new Kt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ct[e]=new Kt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ct[e]=new Kt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ct[e]=new Kt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ct[e]=new Kt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ct[e]=new Kt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ct[e]=new Kt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ct[e]=new Kt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Pg=/[\-:]([a-z])/g;function Rg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Pg,Rg);Ct[t]=new Kt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Pg,Rg);Ct[t]=new Kt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Pg,Rg);Ct[t]=new Kt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ct[e]=new Kt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ct.xlinkHref=new Kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ct[e]=new Kt(e,1,!1,e.toLowerCase(),null,!0,!0)});function bg(e,t,n,r){var i=Ct.hasOwnProperty(t)?Ct[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Fb(t,n,i,r)&&(n=null),r||i===null?Lb(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Hr=Ob.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$u=Symbol.for("react.element"),ts=Symbol.for("react.portal"),ns=Symbol.for("react.fragment"),kg=Symbol.for("react.strict_mode"),Fp=Symbol.for("react.profiler"),AC=Symbol.for("react.provider"),TC=Symbol.for("react.context"),Dg=Symbol.for("react.forward_ref"),Vp=Symbol.for("react.suspense"),Up=Symbol.for("react.suspense_list"),Og=Symbol.for("react.memo"),si=Symbol.for("react.lazy"),PC=Symbol.for("react.offscreen"),ow=Symbol.iterator;function Ia(e){return e===null||typeof e!="object"?null:(e=ow&&e[ow]||e["@@iterator"],typeof e=="function"?e:null)}var Qe=Object.assign,yf;function Fa(e){if(yf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);yf=t&&t[1]||""}return`
`+yf+e}var vf=!1;function _f(e,t){if(!e||vf)return"";vf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{vf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Fa(e):""}function Vb(e){switch(e.tag){case 5:return Fa(e.type);case 16:return Fa("Lazy");case 13:return Fa("Suspense");case 19:return Fa("SuspenseList");case 0:case 2:case 15:return e=_f(e.type,!1),e;case 11:return e=_f(e.type.render,!1),e;case 1:return e=_f(e.type,!0),e;default:return""}}function $p(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ns:return"Fragment";case ts:return"Portal";case Fp:return"Profiler";case kg:return"StrictMode";case Vp:return"Suspense";case Up:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case TC:return(e.displayName||"Context")+".Consumer";case AC:return(e._context.displayName||"Context")+".Provider";case Dg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Og:return t=e.displayName||null,t!==null?t:$p(e.type)||"Memo";case si:t=e._payload,e=e._init;try{return $p(e(t))}catch{}}return null}function Ub(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $p(t);case 8:return t===kg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ki(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function RC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $b(e){var t=RC(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ju(e){e._valueTracker||(e._valueTracker=$b(e))}function bC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=RC(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Gc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function jp(e,t){var n=t.checked;return Qe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function sw(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ki(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function kC(e,t){t=t.checked,t!=null&&bg(e,"checked",t,!1)}function Bp(e,t){kC(e,t);var n=ki(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?zp(e,t.type,n):t.hasOwnProperty("defaultValue")&&zp(e,t.type,ki(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function aw(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function zp(e,t,n){(t!=="number"||Gc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Va=Array.isArray;function ps(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ki(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Wp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return Qe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function lw(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(H(92));if(Va(n)){if(1<n.length)throw Error(H(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ki(n)}}function DC(e,t){var n=ki(t.value),r=ki(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function uw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function OC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?OC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Bu,NC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Bu=Bu||document.createElement("div"),Bu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Bu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function fl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var qa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jb=["Webkit","ms","Moz","O"];Object.keys(qa).forEach(function(e){jb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qa[t]=qa[e]})});function LC(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||qa.hasOwnProperty(e)&&qa[e]?(""+t).trim():t+"px"}function MC(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=LC(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Bb=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gp(e,t){if(t){if(Bb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function qp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kp=null;function Ng(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qp=null,ms=null,gs=null;function cw(e){if(e=ql(e)){if(typeof Qp!="function")throw Error(H(280));var t=e.stateNode;t&&(t=Jd(t),Qp(e.stateNode,e.type,t))}}function FC(e){ms?gs?gs.push(e):gs=[e]:ms=e}function VC(){if(ms){var e=ms,t=gs;if(gs=ms=null,cw(e),t)for(e=0;e<t.length;e++)cw(t[e])}}function UC(e,t){return e(t)}function $C(){}var wf=!1;function jC(e,t,n){if(wf)return e(t,n);wf=!0;try{return UC(e,t,n)}finally{wf=!1,(ms!==null||gs!==null)&&($C(),VC())}}function pl(e,t){var n=e.stateNode;if(n===null)return null;var r=Jd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var Xp=!1;if(Lr)try{var xa={};Object.defineProperty(xa,"passive",{get:function(){Xp=!0}}),window.addEventListener("test",xa,xa),window.removeEventListener("test",xa,xa)}catch{Xp=!1}function zb(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Ka=!1,qc=null,Kc=!1,Yp=null,Wb={onError:function(e){Ka=!0,qc=e}};function Hb(e,t,n,r,i,o,s,a,l){Ka=!1,qc=null,zb.apply(Wb,arguments)}function Gb(e,t,n,r,i,o,s,a,l){if(Hb.apply(this,arguments),Ka){if(Ka){var u=qc;Ka=!1,qc=null}else throw Error(H(198));Kc||(Kc=!0,Yp=u)}}function Oo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function BC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function dw(e){if(Oo(e)!==e)throw Error(H(188))}function qb(e){var t=e.alternate;if(!t){if(t=Oo(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return dw(i),e;if(o===r)return dw(i),t;o=o.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function zC(e){return e=qb(e),e!==null?WC(e):null}function WC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=WC(e);if(t!==null)return t;e=e.sibling}return null}var HC=yn.unstable_scheduleCallback,hw=yn.unstable_cancelCallback,Kb=yn.unstable_shouldYield,Qb=yn.unstable_requestPaint,et=yn.unstable_now,Xb=yn.unstable_getCurrentPriorityLevel,Lg=yn.unstable_ImmediatePriority,GC=yn.unstable_UserBlockingPriority,Qc=yn.unstable_NormalPriority,Yb=yn.unstable_LowPriority,qC=yn.unstable_IdlePriority,Kd=null,sr=null;function Jb(e){if(sr&&typeof sr.onCommitFiberRoot=="function")try{sr.onCommitFiberRoot(Kd,e,void 0,(e.current.flags&128)===128)}catch{}}var $n=Math.clz32?Math.clz32:tk,Zb=Math.log,ek=Math.LN2;function tk(e){return e>>>=0,e===0?32:31-(Zb(e)/ek|0)|0}var zu=64,Wu=4194304;function Ua(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Ua(a):(o&=s,o!==0&&(r=Ua(o)))}else s=n&~i,s!==0?r=Ua(s):o!==0&&(r=Ua(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-$n(t),i=1<<n,r|=e[n],t&=~i;return r}function nk(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rk(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-$n(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=nk(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function Jp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function KC(){var e=zu;return zu<<=1,!(zu&4194240)&&(zu=64),e}function Ef(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Hl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$n(t),e[t]=n}function ik(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-$n(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Mg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-$n(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Oe=0;function QC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var XC,Fg,YC,JC,ZC,Zp=!1,Hu=[],vi=null,_i=null,wi=null,ml=new Map,gl=new Map,li=[],ok="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fw(e,t){switch(e){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":_i=null;break;case"mouseover":case"mouseout":wi=null;break;case"pointerover":case"pointerout":ml.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(t.pointerId)}}function Aa(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=ql(t),t!==null&&Fg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function sk(e,t,n,r,i){switch(t){case"focusin":return vi=Aa(vi,e,t,n,r,i),!0;case"dragenter":return _i=Aa(_i,e,t,n,r,i),!0;case"mouseover":return wi=Aa(wi,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ml.set(o,Aa(ml.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,gl.set(o,Aa(gl.get(o)||null,e,t,n,r,i)),!0}return!1}function eI(e){var t=lo(e.target);if(t!==null){var n=Oo(t);if(n!==null){if(t=n.tag,t===13){if(t=BC(n),t!==null){e.blockedOn=t,ZC(e.priority,function(){YC(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=em(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Kp=r,n.target.dispatchEvent(r),Kp=null}else return t=ql(n),t!==null&&Fg(t),e.blockedOn=n,!1;t.shift()}return!0}function pw(e,t,n){wc(e)&&n.delete(t)}function ak(){Zp=!1,vi!==null&&wc(vi)&&(vi=null),_i!==null&&wc(_i)&&(_i=null),wi!==null&&wc(wi)&&(wi=null),ml.forEach(pw),gl.forEach(pw)}function Ta(e,t){e.blockedOn===t&&(e.blockedOn=null,Zp||(Zp=!0,yn.unstable_scheduleCallback(yn.unstable_NormalPriority,ak)))}function yl(e){function t(i){return Ta(i,e)}if(0<Hu.length){Ta(Hu[0],e);for(var n=1;n<Hu.length;n++){var r=Hu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(vi!==null&&Ta(vi,e),_i!==null&&Ta(_i,e),wi!==null&&Ta(wi,e),ml.forEach(t),gl.forEach(t),n=0;n<li.length;n++)r=li[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<li.length&&(n=li[0],n.blockedOn===null);)eI(n),n.blockedOn===null&&li.shift()}var ys=Hr.ReactCurrentBatchConfig,Yc=!0;function lk(e,t,n,r){var i=Oe,o=ys.transition;ys.transition=null;try{Oe=1,Vg(e,t,n,r)}finally{Oe=i,ys.transition=o}}function uk(e,t,n,r){var i=Oe,o=ys.transition;ys.transition=null;try{Oe=4,Vg(e,t,n,r)}finally{Oe=i,ys.transition=o}}function Vg(e,t,n,r){if(Yc){var i=em(e,t,n,r);if(i===null)kf(e,t,r,Jc,n),fw(e,r);else if(sk(i,e,t,n,r))r.stopPropagation();else if(fw(e,r),t&4&&-1<ok.indexOf(e)){for(;i!==null;){var o=ql(i);if(o!==null&&XC(o),o=em(e,t,n,r),o===null&&kf(e,t,r,Jc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else kf(e,t,r,null,n)}}var Jc=null;function em(e,t,n,r){if(Jc=null,e=Ng(r),e=lo(e),e!==null)if(t=Oo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=BC(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jc=e,null}function tI(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xb()){case Lg:return 1;case GC:return 4;case Qc:case Yb:return 16;case qC:return 536870912;default:return 16}default:return 16}}var pi=null,Ug=null,Ec=null;function nI(){if(Ec)return Ec;var e,t=Ug,n=t.length,r,i="value"in pi?pi.value:pi.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return Ec=i.slice(e,1<r?1-r:void 0)}function Sc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gu(){return!0}function mw(){return!1}function wn(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Gu:mw,this.isPropagationStopped=mw,this}return Qe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gu)},persist:function(){},isPersistent:Gu}),t}var Gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$g=wn(Gs),Gl=Qe({},Gs,{view:0,detail:0}),ck=wn(Gl),Sf,Cf,Pa,Qd=Qe({},Gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pa&&(Pa&&e.type==="mousemove"?(Sf=e.screenX-Pa.screenX,Cf=e.screenY-Pa.screenY):Cf=Sf=0,Pa=e),Sf)},movementY:function(e){return"movementY"in e?e.movementY:Cf}}),gw=wn(Qd),dk=Qe({},Qd,{dataTransfer:0}),hk=wn(dk),fk=Qe({},Gl,{relatedTarget:0}),If=wn(fk),pk=Qe({},Gs,{animationName:0,elapsedTime:0,pseudoElement:0}),mk=wn(pk),gk=Qe({},Gs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yk=wn(gk),vk=Qe({},Gs,{data:0}),yw=wn(vk),_k={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ek={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sk(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ek[e])?!!t[e]:!1}function jg(){return Sk}var Ck=Qe({},Gl,{key:function(e){if(e.key){var t=_k[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Sc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jg,charCode:function(e){return e.type==="keypress"?Sc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ik=wn(Ck),xk=Qe({},Qd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vw=wn(xk),Ak=Qe({},Gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jg}),Tk=wn(Ak),Pk=Qe({},Gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rk=wn(Pk),bk=Qe({},Qd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kk=wn(bk),Dk=[9,13,27,32],Bg=Lr&&"CompositionEvent"in window,Qa=null;Lr&&"documentMode"in document&&(Qa=document.documentMode);var Ok=Lr&&"TextEvent"in window&&!Qa,rI=Lr&&(!Bg||Qa&&8<Qa&&11>=Qa),_w=" ",ww=!1;function iI(e,t){switch(e){case"keyup":return Dk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oI(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rs=!1;function Nk(e,t){switch(e){case"compositionend":return oI(t);case"keypress":return t.which!==32?null:(ww=!0,_w);case"textInput":return e=t.data,e===_w&&ww?null:e;default:return null}}function Lk(e,t){if(rs)return e==="compositionend"||!Bg&&iI(e,t)?(e=nI(),Ec=Ug=pi=null,rs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rI&&t.locale!=="ko"?null:t.data;default:return null}}var Mk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ew(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Mk[e.type]:t==="textarea"}function sI(e,t,n,r){FC(r),t=Zc(t,"onChange"),0<t.length&&(n=new $g("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xa=null,vl=null;function Fk(e){yI(e,0)}function Xd(e){var t=ss(e);if(bC(t))return e}function Vk(e,t){if(e==="change")return t}var aI=!1;if(Lr){var xf;if(Lr){var Af="oninput"in document;if(!Af){var Sw=document.createElement("div");Sw.setAttribute("oninput","return;"),Af=typeof Sw.oninput=="function"}xf=Af}else xf=!1;aI=xf&&(!document.documentMode||9<document.documentMode)}function Cw(){Xa&&(Xa.detachEvent("onpropertychange",lI),vl=Xa=null)}function lI(e){if(e.propertyName==="value"&&Xd(vl)){var t=[];sI(t,vl,e,Ng(e)),jC(Fk,t)}}function Uk(e,t,n){e==="focusin"?(Cw(),Xa=t,vl=n,Xa.attachEvent("onpropertychange",lI)):e==="focusout"&&Cw()}function $k(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xd(vl)}function jk(e,t){if(e==="click")return Xd(t)}function Bk(e,t){if(e==="input"||e==="change")return Xd(t)}function zk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gn=typeof Object.is=="function"?Object.is:zk;function _l(e,t){if(Gn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Mp.call(t,i)||!Gn(e[i],t[i]))return!1}return!0}function Iw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xw(e,t){var n=Iw(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Iw(n)}}function uI(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uI(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cI(){for(var e=window,t=Gc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Gc(e.document)}return t}function zg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Wk(e){var t=cI(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&uI(n.ownerDocument.documentElement,n)){if(r!==null&&zg(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=xw(n,o);var s=xw(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Hk=Lr&&"documentMode"in document&&11>=document.documentMode,is=null,tm=null,Ya=null,nm=!1;function Aw(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nm||is==null||is!==Gc(r)||(r=is,"selectionStart"in r&&zg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ya&&_l(Ya,r)||(Ya=r,r=Zc(tm,"onSelect"),0<r.length&&(t=new $g("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=is)))}function qu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var os={animationend:qu("Animation","AnimationEnd"),animationiteration:qu("Animation","AnimationIteration"),animationstart:qu("Animation","AnimationStart"),transitionend:qu("Transition","TransitionEnd")},Tf={},dI={};Lr&&(dI=document.createElement("div").style,"AnimationEvent"in window||(delete os.animationend.animation,delete os.animationiteration.animation,delete os.animationstart.animation),"TransitionEvent"in window||delete os.transitionend.transition);function Yd(e){if(Tf[e])return Tf[e];if(!os[e])return e;var t=os[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in dI)return Tf[e]=t[n];return e}var hI=Yd("animationend"),fI=Yd("animationiteration"),pI=Yd("animationstart"),mI=Yd("transitionend"),gI=new Map,Tw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zi(e,t){gI.set(e,t),Do(t,[e])}for(var Pf=0;Pf<Tw.length;Pf++){var Rf=Tw[Pf],Gk=Rf.toLowerCase(),qk=Rf[0].toUpperCase()+Rf.slice(1);zi(Gk,"on"+qk)}zi(hI,"onAnimationEnd");zi(fI,"onAnimationIteration");zi(pI,"onAnimationStart");zi("dblclick","onDoubleClick");zi("focusin","onFocus");zi("focusout","onBlur");zi(mI,"onTransitionEnd");Ts("onMouseEnter",["mouseout","mouseover"]);Ts("onMouseLeave",["mouseout","mouseover"]);Ts("onPointerEnter",["pointerout","pointerover"]);Ts("onPointerLeave",["pointerout","pointerover"]);Do("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Do("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Do("onBeforeInput",["compositionend","keypress","textInput","paste"]);Do("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Do("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Do("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kk=new Set("cancel close invalid load scroll toggle".split(" ").concat($a));function Pw(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Gb(r,t,void 0,e),e.currentTarget=null}function yI(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Pw(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Pw(i,a,u),o=l}}}if(Kc)throw e=Yp,Kc=!1,Yp=null,e}function Ue(e,t){var n=t[am];n===void 0&&(n=t[am]=new Set);var r=e+"__bubble";n.has(r)||(vI(t,e,2,!1),n.add(r))}function bf(e,t,n){var r=0;t&&(r|=4),vI(n,e,r,t)}var Ku="_reactListening"+Math.random().toString(36).slice(2);function wl(e){if(!e[Ku]){e[Ku]=!0,xC.forEach(function(n){n!=="selectionchange"&&(Kk.has(n)||bf(n,!1,e),bf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ku]||(t[Ku]=!0,bf("selectionchange",!1,t))}}function vI(e,t,n,r){switch(tI(t)){case 1:var i=lk;break;case 4:i=uk;break;default:i=Vg}n=i.bind(null,t,n,e),i=void 0,!Xp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function kf(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=lo(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}jC(function(){var u=o,d=Ng(n),h=[];e:{var p=gI.get(e);if(p!==void 0){var f=$g,m=e;switch(e){case"keypress":if(Sc(n)===0)break e;case"keydown":case"keyup":f=Ik;break;case"focusin":m="focus",f=If;break;case"focusout":m="blur",f=If;break;case"beforeblur":case"afterblur":f=If;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=gw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=hk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Tk;break;case hI:case fI:case pI:f=mk;break;case mI:f=Rk;break;case"scroll":f=ck;break;case"wheel":f=kk;break;case"copy":case"cut":case"paste":f=yk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=vw}var _=(t&4)!==0,x=!_&&e==="scroll",y=_?p!==null?p+"Capture":null:p;_=[];for(var v=u,E;v!==null;){E=v;var D=E.stateNode;if(E.tag===5&&D!==null&&(E=D,y!==null&&(D=pl(v,y),D!=null&&_.push(El(v,D,E)))),x)break;v=v.return}0<_.length&&(p=new f(p,m,null,n,d),h.push({event:p,listeners:_}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",p&&n!==Kp&&(m=n.relatedTarget||n.fromElement)&&(lo(m)||m[Mr]))break e;if((f||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,f?(m=n.relatedTarget||n.toElement,f=u,m=m?lo(m):null,m!==null&&(x=Oo(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=u),f!==m)){if(_=gw,D="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(_=vw,D="onPointerLeave",y="onPointerEnter",v="pointer"),x=f==null?p:ss(f),E=m==null?p:ss(m),p=new _(D,v+"leave",f,n,d),p.target=x,p.relatedTarget=E,D=null,lo(d)===u&&(_=new _(y,v+"enter",m,n,d),_.target=E,_.relatedTarget=x,D=_),x=D,f&&m)t:{for(_=f,y=m,v=0,E=_;E;E=Ko(E))v++;for(E=0,D=y;D;D=Ko(D))E++;for(;0<v-E;)_=Ko(_),v--;for(;0<E-v;)y=Ko(y),E--;for(;v--;){if(_===y||y!==null&&_===y.alternate)break t;_=Ko(_),y=Ko(y)}_=null}else _=null;f!==null&&Rw(h,p,f,_,!1),m!==null&&x!==null&&Rw(h,x,m,_,!0)}}e:{if(p=u?ss(u):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var F=Vk;else if(Ew(p))if(aI)F=Bk;else{F=$k;var k=Uk}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(F=jk);if(F&&(F=F(e,u))){sI(h,F,n,d);break e}k&&k(e,p,u),e==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&zp(p,"number",p.value)}switch(k=u?ss(u):window,e){case"focusin":(Ew(k)||k.contentEditable==="true")&&(is=k,tm=u,Ya=null);break;case"focusout":Ya=tm=is=null;break;case"mousedown":nm=!0;break;case"contextmenu":case"mouseup":case"dragend":nm=!1,Aw(h,n,d);break;case"selectionchange":if(Hk)break;case"keydown":case"keyup":Aw(h,n,d)}var P;if(Bg)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else rs?iI(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(rI&&n.locale!=="ko"&&(rs||A!=="onCompositionStart"?A==="onCompositionEnd"&&rs&&(P=nI()):(pi=d,Ug="value"in pi?pi.value:pi.textContent,rs=!0)),k=Zc(u,A),0<k.length&&(A=new yw(A,e,null,n,d),h.push({event:A,listeners:k}),P?A.data=P:(P=oI(n),P!==null&&(A.data=P)))),(P=Ok?Nk(e,n):Lk(e,n))&&(u=Zc(u,"onBeforeInput"),0<u.length&&(d=new yw("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=P))}yI(h,t)})}function El(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zc(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=pl(e,n),o!=null&&r.unshift(El(e,o,i)),o=pl(e,t),o!=null&&r.push(El(e,o,i))),e=e.return}return r}function Ko(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Rw(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=pl(n,o),l!=null&&s.unshift(El(n,l,a))):i||(l=pl(n,o),l!=null&&s.push(El(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Qk=/\r\n?/g,Xk=/\u0000|\uFFFD/g;function bw(e){return(typeof e=="string"?e:""+e).replace(Qk,`
`).replace(Xk,"")}function Qu(e,t,n){if(t=bw(t),bw(e)!==t&&n)throw Error(H(425))}function ed(){}var rm=null,im=null;function om(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sm=typeof setTimeout=="function"?setTimeout:void 0,Yk=typeof clearTimeout=="function"?clearTimeout:void 0,kw=typeof Promise=="function"?Promise:void 0,Jk=typeof queueMicrotask=="function"?queueMicrotask:typeof kw<"u"?function(e){return kw.resolve(null).then(e).catch(Zk)}:sm;function Zk(e){setTimeout(function(){throw e})}function Df(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),yl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);yl(t)}function Ei(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Dw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var qs=Math.random().toString(36).slice(2),rr="__reactFiber$"+qs,Sl="__reactProps$"+qs,Mr="__reactContainer$"+qs,am="__reactEvents$"+qs,eD="__reactListeners$"+qs,tD="__reactHandles$"+qs;function lo(e){var t=e[rr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Mr]||n[rr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Dw(e);e!==null;){if(n=e[rr])return n;e=Dw(e)}return t}e=n,n=e.parentNode}return null}function ql(e){return e=e[rr]||e[Mr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ss(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function Jd(e){return e[Sl]||null}var lm=[],as=-1;function Wi(e){return{current:e}}function je(e){0>as||(e.current=lm[as],lm[as]=null,as--)}function Fe(e,t){as++,lm[as]=e.current,e.current=t}var Di={},Vt=Wi(Di),en=Wi(!1),vo=Di;function Ps(e,t){var n=e.type.contextTypes;if(!n)return Di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function tn(e){return e=e.childContextTypes,e!=null}function td(){je(en),je(Vt)}function Ow(e,t,n){if(Vt.current!==Di)throw Error(H(168));Fe(Vt,t),Fe(en,n)}function _I(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(H(108,Ub(e)||"Unknown",i));return Qe({},n,r)}function nd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Di,vo=Vt.current,Fe(Vt,e),Fe(en,en.current),!0}function Nw(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=_I(e,t,vo),r.__reactInternalMemoizedMergedChildContext=e,je(en),je(Vt),Fe(Vt,e)):je(en),Fe(en,n)}var Ir=null,Zd=!1,Of=!1;function wI(e){Ir===null?Ir=[e]:Ir.push(e)}function nD(e){Zd=!0,wI(e)}function Hi(){if(!Of&&Ir!==null){Of=!0;var e=0,t=Oe;try{var n=Ir;for(Oe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ir=null,Zd=!1}catch(i){throw Ir!==null&&(Ir=Ir.slice(e+1)),HC(Lg,Hi),i}finally{Oe=t,Of=!1}}return null}var ls=[],us=0,rd=null,id=0,Cn=[],In=0,_o=null,xr=1,Ar="";function ro(e,t){ls[us++]=id,ls[us++]=rd,rd=e,id=t}function EI(e,t,n){Cn[In++]=xr,Cn[In++]=Ar,Cn[In++]=_o,_o=e;var r=xr;e=Ar;var i=32-$n(r)-1;r&=~(1<<i),n+=1;var o=32-$n(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,xr=1<<32-$n(t)+i|n<<i|r,Ar=o+e}else xr=1<<o|n<<i|r,Ar=e}function Wg(e){e.return!==null&&(ro(e,1),EI(e,1,0))}function Hg(e){for(;e===rd;)rd=ls[--us],ls[us]=null,id=ls[--us],ls[us]=null;for(;e===_o;)_o=Cn[--In],Cn[In]=null,Ar=Cn[--In],Cn[In]=null,xr=Cn[--In],Cn[In]=null}var pn=null,hn=null,ze=!1,Un=null;function SI(e,t){var n=Tn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Lw(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pn=e,hn=Ei(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pn=e,hn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=_o!==null?{id:xr,overflow:Ar}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Tn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,pn=e,hn=null,!0):!1;default:return!1}}function um(e){return(e.mode&1)!==0&&(e.flags&128)===0}function cm(e){if(ze){var t=hn;if(t){var n=t;if(!Lw(e,t)){if(um(e))throw Error(H(418));t=Ei(n.nextSibling);var r=pn;t&&Lw(e,t)?SI(r,n):(e.flags=e.flags&-4097|2,ze=!1,pn=e)}}else{if(um(e))throw Error(H(418));e.flags=e.flags&-4097|2,ze=!1,pn=e}}}function Mw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pn=e}function Xu(e){if(e!==pn)return!1;if(!ze)return Mw(e),ze=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!om(e.type,e.memoizedProps)),t&&(t=hn)){if(um(e))throw CI(),Error(H(418));for(;t;)SI(e,t),t=Ei(t.nextSibling)}if(Mw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){hn=Ei(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}hn=null}}else hn=pn?Ei(e.stateNode.nextSibling):null;return!0}function CI(){for(var e=hn;e;)e=Ei(e.nextSibling)}function Rs(){hn=pn=null,ze=!1}function Gg(e){Un===null?Un=[e]:Un.push(e)}var rD=Hr.ReactCurrentBatchConfig;function Ra(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function Yu(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Fw(e){var t=e._init;return t(e._payload)}function II(e){function t(y,v){if(e){var E=y.deletions;E===null?(y.deletions=[v],y.flags|=16):E.push(v)}}function n(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=xi(y,v),y.index=0,y.sibling=null,y}function o(y,v,E){return y.index=E,e?(E=y.alternate,E!==null?(E=E.index,E<v?(y.flags|=2,v):E):(y.flags|=2,v)):(y.flags|=1048576,v)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,v,E,D){return v===null||v.tag!==6?(v=$f(E,y.mode,D),v.return=y,v):(v=i(v,E),v.return=y,v)}function l(y,v,E,D){var F=E.type;return F===ns?d(y,v,E.props.children,D,E.key):v!==null&&(v.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===si&&Fw(F)===v.type)?(D=i(v,E.props),D.ref=Ra(y,v,E),D.return=y,D):(D=Rc(E.type,E.key,E.props,null,y.mode,D),D.ref=Ra(y,v,E),D.return=y,D)}function u(y,v,E,D){return v===null||v.tag!==4||v.stateNode.containerInfo!==E.containerInfo||v.stateNode.implementation!==E.implementation?(v=jf(E,y.mode,D),v.return=y,v):(v=i(v,E.children||[]),v.return=y,v)}function d(y,v,E,D,F){return v===null||v.tag!==7?(v=go(E,y.mode,D,F),v.return=y,v):(v=i(v,E),v.return=y,v)}function h(y,v,E){if(typeof v=="string"&&v!==""||typeof v=="number")return v=$f(""+v,y.mode,E),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case $u:return E=Rc(v.type,v.key,v.props,null,y.mode,E),E.ref=Ra(y,null,v),E.return=y,E;case ts:return v=jf(v,y.mode,E),v.return=y,v;case si:var D=v._init;return h(y,D(v._payload),E)}if(Va(v)||Ia(v))return v=go(v,y.mode,E,null),v.return=y,v;Yu(y,v)}return null}function p(y,v,E,D){var F=v!==null?v.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return F!==null?null:a(y,v,""+E,D);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case $u:return E.key===F?l(y,v,E,D):null;case ts:return E.key===F?u(y,v,E,D):null;case si:return F=E._init,p(y,v,F(E._payload),D)}if(Va(E)||Ia(E))return F!==null?null:d(y,v,E,D,null);Yu(y,E)}return null}function f(y,v,E,D,F){if(typeof D=="string"&&D!==""||typeof D=="number")return y=y.get(E)||null,a(v,y,""+D,F);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case $u:return y=y.get(D.key===null?E:D.key)||null,l(v,y,D,F);case ts:return y=y.get(D.key===null?E:D.key)||null,u(v,y,D,F);case si:var k=D._init;return f(y,v,E,k(D._payload),F)}if(Va(D)||Ia(D))return y=y.get(E)||null,d(v,y,D,F,null);Yu(v,D)}return null}function m(y,v,E,D){for(var F=null,k=null,P=v,A=v=0,T=null;P!==null&&A<E.length;A++){P.index>A?(T=P,P=null):T=P.sibling;var I=p(y,P,E[A],D);if(I===null){P===null&&(P=T);break}e&&P&&I.alternate===null&&t(y,P),v=o(I,v,A),k===null?F=I:k.sibling=I,k=I,P=T}if(A===E.length)return n(y,P),ze&&ro(y,A),F;if(P===null){for(;A<E.length;A++)P=h(y,E[A],D),P!==null&&(v=o(P,v,A),k===null?F=P:k.sibling=P,k=P);return ze&&ro(y,A),F}for(P=r(y,P);A<E.length;A++)T=f(P,y,A,E[A],D),T!==null&&(e&&T.alternate!==null&&P.delete(T.key===null?A:T.key),v=o(T,v,A),k===null?F=T:k.sibling=T,k=T);return e&&P.forEach(function(R){return t(y,R)}),ze&&ro(y,A),F}function _(y,v,E,D){var F=Ia(E);if(typeof F!="function")throw Error(H(150));if(E=F.call(E),E==null)throw Error(H(151));for(var k=F=null,P=v,A=v=0,T=null,I=E.next();P!==null&&!I.done;A++,I=E.next()){P.index>A?(T=P,P=null):T=P.sibling;var R=p(y,P,I.value,D);if(R===null){P===null&&(P=T);break}e&&P&&R.alternate===null&&t(y,P),v=o(R,v,A),k===null?F=R:k.sibling=R,k=R,P=T}if(I.done)return n(y,P),ze&&ro(y,A),F;if(P===null){for(;!I.done;A++,I=E.next())I=h(y,I.value,D),I!==null&&(v=o(I,v,A),k===null?F=I:k.sibling=I,k=I);return ze&&ro(y,A),F}for(P=r(y,P);!I.done;A++,I=E.next())I=f(P,y,A,I.value,D),I!==null&&(e&&I.alternate!==null&&P.delete(I.key===null?A:I.key),v=o(I,v,A),k===null?F=I:k.sibling=I,k=I);return e&&P.forEach(function(M){return t(y,M)}),ze&&ro(y,A),F}function x(y,v,E,D){if(typeof E=="object"&&E!==null&&E.type===ns&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case $u:e:{for(var F=E.key,k=v;k!==null;){if(k.key===F){if(F=E.type,F===ns){if(k.tag===7){n(y,k.sibling),v=i(k,E.props.children),v.return=y,y=v;break e}}else if(k.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===si&&Fw(F)===k.type){n(y,k.sibling),v=i(k,E.props),v.ref=Ra(y,k,E),v.return=y,y=v;break e}n(y,k);break}else t(y,k);k=k.sibling}E.type===ns?(v=go(E.props.children,y.mode,D,E.key),v.return=y,y=v):(D=Rc(E.type,E.key,E.props,null,y.mode,D),D.ref=Ra(y,v,E),D.return=y,y=D)}return s(y);case ts:e:{for(k=E.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===E.containerInfo&&v.stateNode.implementation===E.implementation){n(y,v.sibling),v=i(v,E.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else t(y,v);v=v.sibling}v=jf(E,y.mode,D),v.return=y,y=v}return s(y);case si:return k=E._init,x(y,v,k(E._payload),D)}if(Va(E))return m(y,v,E,D);if(Ia(E))return _(y,v,E,D);Yu(y,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,v!==null&&v.tag===6?(n(y,v.sibling),v=i(v,E),v.return=y,y=v):(n(y,v),v=$f(E,y.mode,D),v.return=y,y=v),s(y)):n(y,v)}return x}var bs=II(!0),xI=II(!1),od=Wi(null),sd=null,cs=null,qg=null;function Kg(){qg=cs=sd=null}function Qg(e){var t=od.current;je(od),e._currentValue=t}function dm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function vs(e,t){sd=e,qg=cs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Zt=!0),e.firstContext=null)}function bn(e){var t=e._currentValue;if(qg!==e)if(e={context:e,memoizedValue:t,next:null},cs===null){if(sd===null)throw Error(H(308));cs=e,sd.dependencies={lanes:0,firstContext:e}}else cs=cs.next=e;return t}var uo=null;function Xg(e){uo===null?uo=[e]:uo.push(e)}function AI(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Xg(t)):(n.next=i.next,i.next=n),t.interleaved=n,Fr(e,r)}function Fr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ai=!1;function Yg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TI(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Si(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Fr(e,n)}return i=r.interleaved,i===null?(t.next=t,Xg(r)):(t.next=i.next,i.next=t),r.interleaved=t,Fr(e,n)}function Cc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Mg(e,n)}}function Vw(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ad(e,t,n,r){var i=e.updateQueue;ai=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,d=u=l=null,a=o;do{var p=a.lane,f=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,_=a;switch(p=t,f=n,_.tag){case 1:if(m=_.payload,typeof m=="function"){h=m.call(f,h,p);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=_.payload,p=typeof m=="function"?m.call(f,h,p):m,p==null)break e;h=Qe({},h,p);break e;case 2:ai=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else f={eventTime:f,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=f,l=h):d=d.next=f,s|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Eo|=s,e.lanes=s,e.memoizedState=h}}function Uw(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var Kl={},ar=Wi(Kl),Cl=Wi(Kl),Il=Wi(Kl);function co(e){if(e===Kl)throw Error(H(174));return e}function Jg(e,t){switch(Fe(Il,t),Fe(Cl,e),Fe(ar,Kl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Hp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Hp(t,e)}je(ar),Fe(ar,t)}function ks(){je(ar),je(Cl),je(Il)}function PI(e){co(Il.current);var t=co(ar.current),n=Hp(t,e.type);t!==n&&(Fe(Cl,e),Fe(ar,n))}function Zg(e){Cl.current===e&&(je(ar),je(Cl))}var He=Wi(0);function ld(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Nf=[];function ey(){for(var e=0;e<Nf.length;e++)Nf[e]._workInProgressVersionPrimary=null;Nf.length=0}var Ic=Hr.ReactCurrentDispatcher,Lf=Hr.ReactCurrentBatchConfig,wo=0,Ge=null,st=null,pt=null,ud=!1,Ja=!1,xl=0,iD=0;function Pt(){throw Error(H(321))}function ty(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gn(e[n],t[n]))return!1;return!0}function ny(e,t,n,r,i,o){if(wo=o,Ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ic.current=e===null||e.memoizedState===null?lD:uD,e=n(r,i),Ja){o=0;do{if(Ja=!1,xl=0,25<=o)throw Error(H(301));o+=1,pt=st=null,t.updateQueue=null,Ic.current=cD,e=n(r,i)}while(Ja)}if(Ic.current=cd,t=st!==null&&st.next!==null,wo=0,pt=st=Ge=null,ud=!1,t)throw Error(H(300));return e}function ry(){var e=xl!==0;return xl=0,e}function er(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Ge.memoizedState=pt=e:pt=pt.next=e,pt}function kn(){if(st===null){var e=Ge.alternate;e=e!==null?e.memoizedState:null}else e=st.next;var t=pt===null?Ge.memoizedState:pt.next;if(t!==null)pt=t,st=e;else{if(e===null)throw Error(H(310));st=e,e={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},pt===null?Ge.memoizedState=pt=e:pt=pt.next=e}return pt}function Al(e,t){return typeof t=="function"?t(e):t}function Mf(e){var t=kn(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=st,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var d=u.lane;if((wo&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,Ge.lanes|=d,Eo|=d}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Gn(r,t.memoizedState)||(Zt=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Ge.lanes|=o,Eo|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ff(e){var t=kn(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Gn(o,t.memoizedState)||(Zt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function RI(){}function bI(e,t){var n=Ge,r=kn(),i=t(),o=!Gn(r.memoizedState,i);if(o&&(r.memoizedState=i,Zt=!0),r=r.queue,iy(OI.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||pt!==null&&pt.memoizedState.tag&1){if(n.flags|=2048,Tl(9,DI.bind(null,n,r,i,t),void 0,null),mt===null)throw Error(H(349));wo&30||kI(n,t,i)}return i}function kI(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function DI(e,t,n,r){t.value=n,t.getSnapshot=r,NI(t)&&LI(e)}function OI(e,t,n){return n(function(){NI(t)&&LI(e)})}function NI(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gn(e,n)}catch{return!0}}function LI(e){var t=Fr(e,1);t!==null&&jn(t,e,1,-1)}function $w(e){var t=er();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Al,lastRenderedState:e},t.queue=e,e=e.dispatch=aD.bind(null,Ge,e),[t.memoizedState,e]}function Tl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function MI(){return kn().memoizedState}function xc(e,t,n,r){var i=er();Ge.flags|=e,i.memoizedState=Tl(1|t,n,void 0,r===void 0?null:r)}function eh(e,t,n,r){var i=kn();r=r===void 0?null:r;var o=void 0;if(st!==null){var s=st.memoizedState;if(o=s.destroy,r!==null&&ty(r,s.deps)){i.memoizedState=Tl(t,n,o,r);return}}Ge.flags|=e,i.memoizedState=Tl(1|t,n,o,r)}function jw(e,t){return xc(8390656,8,e,t)}function iy(e,t){return eh(2048,8,e,t)}function FI(e,t){return eh(4,2,e,t)}function VI(e,t){return eh(4,4,e,t)}function UI(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $I(e,t,n){return n=n!=null?n.concat([e]):null,eh(4,4,UI.bind(null,t,e),n)}function oy(){}function jI(e,t){var n=kn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ty(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function BI(e,t){var n=kn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ty(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function zI(e,t,n){return wo&21?(Gn(n,t)||(n=KC(),Ge.lanes|=n,Eo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Zt=!0),e.memoizedState=n)}function oD(e,t){var n=Oe;Oe=n!==0&&4>n?n:4,e(!0);var r=Lf.transition;Lf.transition={};try{e(!1),t()}finally{Oe=n,Lf.transition=r}}function WI(){return kn().memoizedState}function sD(e,t,n){var r=Ii(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},HI(e))GI(t,n);else if(n=AI(e,t,n,r),n!==null){var i=Gt();jn(n,e,r,i),qI(n,t,r)}}function aD(e,t,n){var r=Ii(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(HI(e))GI(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Gn(a,s)){var l=t.interleaved;l===null?(i.next=i,Xg(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=AI(e,t,i,r),n!==null&&(i=Gt(),jn(n,e,r,i),qI(n,t,r))}}function HI(e){var t=e.alternate;return e===Ge||t!==null&&t===Ge}function GI(e,t){Ja=ud=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qI(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Mg(e,n)}}var cd={readContext:bn,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useInsertionEffect:Pt,useLayoutEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useMutableSource:Pt,useSyncExternalStore:Pt,useId:Pt,unstable_isNewReconciler:!1},lD={readContext:bn,useCallback:function(e,t){return er().memoizedState=[e,t===void 0?null:t],e},useContext:bn,useEffect:jw,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,xc(4194308,4,UI.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xc(4194308,4,e,t)},useInsertionEffect:function(e,t){return xc(4,2,e,t)},useMemo:function(e,t){var n=er();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=er();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=sD.bind(null,Ge,e),[r.memoizedState,e]},useRef:function(e){var t=er();return e={current:e},t.memoizedState=e},useState:$w,useDebugValue:oy,useDeferredValue:function(e){return er().memoizedState=e},useTransition:function(){var e=$w(!1),t=e[0];return e=oD.bind(null,e[1]),er().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ge,i=er();if(ze){if(n===void 0)throw Error(H(407));n=n()}else{if(n=t(),mt===null)throw Error(H(349));wo&30||kI(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,jw(OI.bind(null,r,o,e),[e]),r.flags|=2048,Tl(9,DI.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=er(),t=mt.identifierPrefix;if(ze){var n=Ar,r=xr;n=(r&~(1<<32-$n(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=xl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=iD++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},uD={readContext:bn,useCallback:jI,useContext:bn,useEffect:iy,useImperativeHandle:$I,useInsertionEffect:FI,useLayoutEffect:VI,useMemo:BI,useReducer:Mf,useRef:MI,useState:function(){return Mf(Al)},useDebugValue:oy,useDeferredValue:function(e){var t=kn();return zI(t,st.memoizedState,e)},useTransition:function(){var e=Mf(Al)[0],t=kn().memoizedState;return[e,t]},useMutableSource:RI,useSyncExternalStore:bI,useId:WI,unstable_isNewReconciler:!1},cD={readContext:bn,useCallback:jI,useContext:bn,useEffect:iy,useImperativeHandle:$I,useInsertionEffect:FI,useLayoutEffect:VI,useMemo:BI,useReducer:Ff,useRef:MI,useState:function(){return Ff(Al)},useDebugValue:oy,useDeferredValue:function(e){var t=kn();return st===null?t.memoizedState=e:zI(t,st.memoizedState,e)},useTransition:function(){var e=Ff(Al)[0],t=kn().memoizedState;return[e,t]},useMutableSource:RI,useSyncExternalStore:bI,useId:WI,unstable_isNewReconciler:!1};function Fn(e,t){if(e&&e.defaultProps){t=Qe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function hm(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Qe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var th={isMounted:function(e){return(e=e._reactInternals)?Oo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Gt(),i=Ii(e),o=kr(r,i);o.payload=t,n!=null&&(o.callback=n),t=Si(e,o,i),t!==null&&(jn(t,e,i,r),Cc(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Gt(),i=Ii(e),o=kr(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Si(e,o,i),t!==null&&(jn(t,e,i,r),Cc(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gt(),r=Ii(e),i=kr(n,r);i.tag=2,t!=null&&(i.callback=t),t=Si(e,i,r),t!==null&&(jn(t,e,r,n),Cc(t,e,r))}};function Bw(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!_l(n,r)||!_l(i,o):!0}function KI(e,t,n){var r=!1,i=Di,o=t.contextType;return typeof o=="object"&&o!==null?o=bn(o):(i=tn(t)?vo:Vt.current,r=t.contextTypes,o=(r=r!=null)?Ps(e,i):Di),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=th,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function zw(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&th.enqueueReplaceState(t,t.state,null)}function fm(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Yg(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=bn(o):(o=tn(t)?vo:Vt.current,i.context=Ps(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(hm(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&th.enqueueReplaceState(i,i.state,null),ad(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ds(e,t){try{var n="",r=t;do n+=Vb(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Vf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function pm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var dD=typeof WeakMap=="function"?WeakMap:Map;function QI(e,t,n){n=kr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){hd||(hd=!0,Im=r),pm(e,t)},n}function XI(e,t,n){n=kr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){pm(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){pm(e,t),typeof r!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Ww(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new dD;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=xD.bind(null,e,t,n),t.then(e,e))}function Hw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Gw(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=kr(-1,1),t.tag=2,Si(n,t,1))),n.lanes|=1),e)}var hD=Hr.ReactCurrentOwner,Zt=!1;function zt(e,t,n,r){t.child=e===null?xI(t,null,n,r):bs(t,e.child,n,r)}function qw(e,t,n,r,i){n=n.render;var o=t.ref;return vs(t,i),r=ny(e,t,n,r,o,i),n=ry(),e!==null&&!Zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vr(e,t,i)):(ze&&n&&Wg(t),t.flags|=1,zt(e,t,r,i),t.child)}function Kw(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!fy(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,YI(e,t,o,r,i)):(e=Rc(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:_l,n(s,r)&&e.ref===t.ref)return Vr(e,t,i)}return t.flags|=1,e=xi(o,r),e.ref=t.ref,e.return=t,t.child=e}function YI(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(_l(o,r)&&e.ref===t.ref)if(Zt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Zt=!0);else return t.lanes=e.lanes,Vr(e,t,i)}return mm(e,t,n,r,i)}function JI(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(hs,dn),dn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fe(hs,dn),dn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Fe(hs,dn),dn|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Fe(hs,dn),dn|=r;return zt(e,t,i,n),t.child}function ZI(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function mm(e,t,n,r,i){var o=tn(n)?vo:Vt.current;return o=Ps(t,o),vs(t,i),n=ny(e,t,n,r,o,i),r=ry(),e!==null&&!Zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vr(e,t,i)):(ze&&r&&Wg(t),t.flags|=1,zt(e,t,n,i),t.child)}function Qw(e,t,n,r,i){if(tn(n)){var o=!0;nd(t)}else o=!1;if(vs(t,i),t.stateNode===null)Ac(e,t),KI(t,n,r),fm(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=bn(u):(u=tn(n)?vo:Vt.current,u=Ps(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&zw(t,s,r,u),ai=!1;var p=t.memoizedState;s.state=p,ad(t,r,s,i),l=t.memoizedState,a!==r||p!==l||en.current||ai?(typeof d=="function"&&(hm(t,n,d,r),l=t.memoizedState),(a=ai||Bw(t,n,a,r,p,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,TI(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Fn(t.type,a),s.props=u,h=t.pendingProps,p=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=bn(l):(l=tn(n)?vo:Vt.current,l=Ps(t,l));var f=n.getDerivedStateFromProps;(d=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||p!==l)&&zw(t,s,r,l),ai=!1,p=t.memoizedState,s.state=p,ad(t,r,s,i);var m=t.memoizedState;a!==h||p!==m||en.current||ai?(typeof f=="function"&&(hm(t,n,f,r),m=t.memoizedState),(u=ai||Bw(t,n,u,r,p,m,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),s.props=r,s.state=m,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return gm(e,t,n,r,o,i)}function gm(e,t,n,r,i,o){ZI(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Nw(t,n,!1),Vr(e,t,o);r=t.stateNode,hD.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=bs(t,e.child,null,o),t.child=bs(t,null,a,o)):zt(e,t,a,o),t.memoizedState=r.state,i&&Nw(t,n,!0),t.child}function ex(e){var t=e.stateNode;t.pendingContext?Ow(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ow(e,t.context,!1),Jg(e,t.containerInfo)}function Xw(e,t,n,r,i){return Rs(),Gg(i),t.flags|=256,zt(e,t,n,r),t.child}var ym={dehydrated:null,treeContext:null,retryLane:0};function vm(e){return{baseLanes:e,cachePool:null,transitions:null}}function tx(e,t,n){var r=t.pendingProps,i=He.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Fe(He,i&1),e===null)return cm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=ih(s,r,0,null),e=go(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=vm(n),t.memoizedState=ym,e):sy(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return fD(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=xi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=xi(a,o):(o=go(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?vm(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=ym,r}return o=e.child,e=o.sibling,r=xi(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function sy(e,t){return t=ih({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ju(e,t,n,r){return r!==null&&Gg(r),bs(t,e.child,null,n),e=sy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fD(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=Vf(Error(H(422))),Ju(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=ih({mode:"visible",children:r.children},i,0,null),o=go(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&bs(t,e.child,null,s),t.child.memoizedState=vm(s),t.memoizedState=ym,o);if(!(t.mode&1))return Ju(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(H(419)),r=Vf(o,r,void 0),Ju(e,t,s,r)}if(a=(s&e.childLanes)!==0,Zt||a){if(r=mt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Fr(e,i),jn(r,e,i,-1))}return hy(),r=Vf(Error(H(421))),Ju(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=AD.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,hn=Ei(i.nextSibling),pn=t,ze=!0,Un=null,e!==null&&(Cn[In++]=xr,Cn[In++]=Ar,Cn[In++]=_o,xr=e.id,Ar=e.overflow,_o=t),t=sy(t,r.children),t.flags|=4096,t)}function Yw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),dm(e.return,t,n)}function Uf(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function nx(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(zt(e,t,r.children,n),r=He.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yw(e,n,t);else if(e.tag===19)Yw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Fe(He,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ld(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Uf(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ld(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Uf(t,!0,n,null,o);break;case"together":Uf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ac(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Eo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=xi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=xi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function pD(e,t,n){switch(t.tag){case 3:ex(t),Rs();break;case 5:PI(t);break;case 1:tn(t.type)&&nd(t);break;case 4:Jg(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Fe(od,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Fe(He,He.current&1),t.flags|=128,null):n&t.child.childLanes?tx(e,t,n):(Fe(He,He.current&1),e=Vr(e,t,n),e!==null?e.sibling:null);Fe(He,He.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return nx(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fe(He,He.current),r)break;return null;case 22:case 23:return t.lanes=0,JI(e,t,n)}return Vr(e,t,n)}var rx,_m,ix,ox;rx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_m=function(){};ix=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,co(ar.current);var o=null;switch(n){case"input":i=jp(e,i),r=jp(e,r),o=[];break;case"select":i=Qe({},i,{value:void 0}),r=Qe({},r,{value:void 0}),o=[];break;case"textarea":i=Wp(e,i),r=Wp(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ed)}Gp(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hl.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(hl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ue("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};ox=function(e,t,n,r){n!==r&&(t.flags|=4)};function ba(e,t){if(!ze)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function mD(e,t,n){var r=t.pendingProps;switch(Hg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(t),null;case 1:return tn(t.type)&&td(),Rt(t),null;case 3:return r=t.stateNode,ks(),je(en),je(Vt),ey(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Xu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Un!==null&&(Tm(Un),Un=null))),_m(e,t),Rt(t),null;case 5:Zg(t);var i=co(Il.current);if(n=t.type,e!==null&&t.stateNode!=null)ix(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(H(166));return Rt(t),null}if(e=co(ar.current),Xu(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[rr]=t,r[Sl]=o,e=(t.mode&1)!==0,n){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(i=0;i<$a.length;i++)Ue($a[i],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":sw(r,o),Ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ue("invalid",r);break;case"textarea":lw(r,o),Ue("invalid",r)}Gp(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Qu(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Qu(r.textContent,a,e),i=["children",""+a]):hl.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ue("scroll",r)}switch(n){case"input":ju(r),aw(r,o,!0);break;case"textarea":ju(r),uw(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ed)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=OC(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[rr]=t,e[Sl]=r,rx(e,t,!1,!1),t.stateNode=e;e:{switch(s=qp(n,r),n){case"dialog":Ue("cancel",e),Ue("close",e),i=r;break;case"iframe":case"object":case"embed":Ue("load",e),i=r;break;case"video":case"audio":for(i=0;i<$a.length;i++)Ue($a[i],e);i=r;break;case"source":Ue("error",e),i=r;break;case"img":case"image":case"link":Ue("error",e),Ue("load",e),i=r;break;case"details":Ue("toggle",e),i=r;break;case"input":sw(e,r),i=jp(e,r),Ue("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Qe({},r,{value:void 0}),Ue("invalid",e);break;case"textarea":lw(e,r),i=Wp(e,r),Ue("invalid",e);break;default:i=r}Gp(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?MC(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&NC(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&fl(e,l):typeof l=="number"&&fl(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(hl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ue("scroll",e):l!=null&&bg(e,o,l,s))}switch(n){case"input":ju(e),aw(e,r,!1);break;case"textarea":ju(e),uw(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ki(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ps(e,!!r.multiple,o,!1):r.defaultValue!=null&&ps(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ed)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Rt(t),null;case 6:if(e&&t.stateNode!=null)ox(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));if(n=co(Il.current),co(ar.current),Xu(t)){if(r=t.stateNode,n=t.memoizedProps,r[rr]=t,(o=r.nodeValue!==n)&&(e=pn,e!==null))switch(e.tag){case 3:Qu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qu(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[rr]=t,t.stateNode=r}return Rt(t),null;case 13:if(je(He),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ze&&hn!==null&&t.mode&1&&!(t.flags&128))CI(),Rs(),t.flags|=98560,o=!1;else if(o=Xu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(H(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(H(317));o[rr]=t}else Rs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Rt(t),o=!1}else Un!==null&&(Tm(Un),Un=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||He.current&1?at===0&&(at=3):hy())),t.updateQueue!==null&&(t.flags|=4),Rt(t),null);case 4:return ks(),_m(e,t),e===null&&wl(t.stateNode.containerInfo),Rt(t),null;case 10:return Qg(t.type._context),Rt(t),null;case 17:return tn(t.type)&&td(),Rt(t),null;case 19:if(je(He),o=t.memoizedState,o===null)return Rt(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)ba(o,!1);else{if(at!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=ld(e),s!==null){for(t.flags|=128,ba(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Fe(He,He.current&1|2),t.child}e=e.sibling}o.tail!==null&&et()>Os&&(t.flags|=128,r=!0,ba(o,!1),t.lanes=4194304)}else{if(!r)if(e=ld(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ba(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ze)return Rt(t),null}else 2*et()-o.renderingStartTime>Os&&n!==1073741824&&(t.flags|=128,r=!0,ba(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=et(),t.sibling=null,n=He.current,Fe(He,r?n&1|2:n&1),t):(Rt(t),null);case 22:case 23:return dy(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?dn&1073741824&&(Rt(t),t.subtreeFlags&6&&(t.flags|=8192)):Rt(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function gD(e,t){switch(Hg(t),t.tag){case 1:return tn(t.type)&&td(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ks(),je(en),je(Vt),ey(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Zg(t),null;case 13:if(je(He),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));Rs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return je(He),null;case 4:return ks(),null;case 10:return Qg(t.type._context),null;case 22:case 23:return dy(),null;case 24:return null;default:return null}}var Zu=!1,Ot=!1,yD=typeof WeakSet=="function"?WeakSet:Set,Y=null;function ds(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(e,t,r)}else n.current=null}function wm(e,t,n){try{n()}catch(r){Je(e,t,r)}}var Jw=!1;function vD(e,t){if(rm=Yc,e=cI(),zg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(f=h.firstChild)!==null;)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===i&&(a=s),p===o&&++d===r&&(l=s),(f=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(im={focusedElem:e,selectionRange:n},Yc=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var _=m.memoizedProps,x=m.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?_:Fn(t.type,_),x);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(D){Je(t,t.return,D)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return m=Jw,Jw=!1,m}function Za(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&wm(t,n,o)}i=i.next}while(i!==r)}}function nh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Em(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function sx(e){var t=e.alternate;t!==null&&(e.alternate=null,sx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rr],delete t[Sl],delete t[am],delete t[eD],delete t[tD])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ax(e){return e.tag===5||e.tag===3||e.tag===4}function Zw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ax(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ed));else if(r!==4&&(e=e.child,e!==null))for(Sm(e,t,n),e=e.sibling;e!==null;)Sm(e,t,n),e=e.sibling}function Cm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Cm(e,t,n),e=e.sibling;e!==null;)Cm(e,t,n),e=e.sibling}var _t=null,Vn=!1;function ri(e,t,n){for(n=n.child;n!==null;)lx(e,t,n),n=n.sibling}function lx(e,t,n){if(sr&&typeof sr.onCommitFiberUnmount=="function")try{sr.onCommitFiberUnmount(Kd,n)}catch{}switch(n.tag){case 5:Ot||ds(n,t);case 6:var r=_t,i=Vn;_t=null,ri(e,t,n),_t=r,Vn=i,_t!==null&&(Vn?(e=_t,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):_t.removeChild(n.stateNode));break;case 18:_t!==null&&(Vn?(e=_t,n=n.stateNode,e.nodeType===8?Df(e.parentNode,n):e.nodeType===1&&Df(e,n),yl(e)):Df(_t,n.stateNode));break;case 4:r=_t,i=Vn,_t=n.stateNode.containerInfo,Vn=!0,ri(e,t,n),_t=r,Vn=i;break;case 0:case 11:case 14:case 15:if(!Ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&wm(n,t,s),i=i.next}while(i!==r)}ri(e,t,n);break;case 1:if(!Ot&&(ds(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Je(n,t,a)}ri(e,t,n);break;case 21:ri(e,t,n);break;case 22:n.mode&1?(Ot=(r=Ot)||n.memoizedState!==null,ri(e,t,n),Ot=r):ri(e,t,n);break;default:ri(e,t,n)}}function eE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new yD),t.forEach(function(r){var i=TD.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Mn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:_t=a.stateNode,Vn=!1;break e;case 3:_t=a.stateNode.containerInfo,Vn=!0;break e;case 4:_t=a.stateNode.containerInfo,Vn=!0;break e}a=a.return}if(_t===null)throw Error(H(160));lx(o,s,i),_t=null,Vn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Je(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ux(t,e),t=t.sibling}function ux(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mn(t,e),Jn(e),r&4){try{Za(3,e,e.return),nh(3,e)}catch(_){Je(e,e.return,_)}try{Za(5,e,e.return)}catch(_){Je(e,e.return,_)}}break;case 1:Mn(t,e),Jn(e),r&512&&n!==null&&ds(n,n.return);break;case 5:if(Mn(t,e),Jn(e),r&512&&n!==null&&ds(n,n.return),e.flags&32){var i=e.stateNode;try{fl(i,"")}catch(_){Je(e,e.return,_)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&kC(i,o),qp(a,s);var u=qp(a,o);for(s=0;s<l.length;s+=2){var d=l[s],h=l[s+1];d==="style"?MC(i,h):d==="dangerouslySetInnerHTML"?NC(i,h):d==="children"?fl(i,h):bg(i,d,h,u)}switch(a){case"input":Bp(i,o);break;case"textarea":DC(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?ps(i,!!o.multiple,f,!1):p!==!!o.multiple&&(o.defaultValue!=null?ps(i,!!o.multiple,o.defaultValue,!0):ps(i,!!o.multiple,o.multiple?[]:"",!1))}i[Sl]=o}catch(_){Je(e,e.return,_)}}break;case 6:if(Mn(t,e),Jn(e),r&4){if(e.stateNode===null)throw Error(H(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(_){Je(e,e.return,_)}}break;case 3:if(Mn(t,e),Jn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yl(t.containerInfo)}catch(_){Je(e,e.return,_)}break;case 4:Mn(t,e),Jn(e);break;case 13:Mn(t,e),Jn(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(uy=et())),r&4&&eE(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ot=(u=Ot)||d,Mn(t,e),Ot=u):Mn(t,e),Jn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Y=e,d=e.child;d!==null;){for(h=Y=d;Y!==null;){switch(p=Y,f=p.child,p.tag){case 0:case 11:case 14:case 15:Za(4,p,p.return);break;case 1:ds(p,p.return);var m=p.stateNode;if(typeof m.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(_){Je(r,n,_)}}break;case 5:ds(p,p.return);break;case 22:if(p.memoizedState!==null){nE(h);continue}}f!==null?(f.return=p,Y=f):nE(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=LC("display",s))}catch(_){Je(e,e.return,_)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){Je(e,e.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Mn(t,e),Jn(e),r&4&&eE(e);break;case 21:break;default:Mn(t,e),Jn(e)}}function Jn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ax(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(fl(i,""),r.flags&=-33);var o=Zw(e);Cm(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Zw(e);Sm(e,a,s);break;default:throw Error(H(161))}}catch(l){Je(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _D(e,t,n){Y=e,cx(e)}function cx(e,t,n){for(var r=(e.mode&1)!==0;Y!==null;){var i=Y,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Zu;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ot;a=Zu;var u=Ot;if(Zu=s,(Ot=l)&&!u)for(Y=i;Y!==null;)s=Y,l=s.child,s.tag===22&&s.memoizedState!==null?rE(i):l!==null?(l.return=s,Y=l):rE(i);for(;o!==null;)Y=o,cx(o),o=o.sibling;Y=i,Zu=a,Ot=u}tE(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Y=o):tE(e)}}function tE(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ot||nh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ot)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Fn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Uw(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Uw(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&yl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Ot||t.flags&512&&Em(t)}catch(p){Je(t,t.return,p)}}if(t===e){Y=null;break}if(n=t.sibling,n!==null){n.return=t.return,Y=n;break}Y=t.return}}function nE(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Y=n;break}Y=t.return}}function rE(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nh(4,t)}catch(l){Je(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Je(t,i,l)}}var o=t.return;try{Em(t)}catch(l){Je(t,o,l)}break;case 5:var s=t.return;try{Em(t)}catch(l){Je(t,s,l)}}}catch(l){Je(t,t.return,l)}if(t===e){Y=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Y=a;break}Y=t.return}}var wD=Math.ceil,dd=Hr.ReactCurrentDispatcher,ay=Hr.ReactCurrentOwner,Pn=Hr.ReactCurrentBatchConfig,Te=0,mt=null,rt=null,St=0,dn=0,hs=Wi(0),at=0,Pl=null,Eo=0,rh=0,ly=0,el=null,Yt=null,uy=0,Os=1/0,Sr=null,hd=!1,Im=null,Ci=null,ec=!1,mi=null,fd=0,tl=0,xm=null,Tc=-1,Pc=0;function Gt(){return Te&6?et():Tc!==-1?Tc:Tc=et()}function Ii(e){return e.mode&1?Te&2&&St!==0?St&-St:rD.transition!==null?(Pc===0&&(Pc=KC()),Pc):(e=Oe,e!==0||(e=window.event,e=e===void 0?16:tI(e.type)),e):1}function jn(e,t,n,r){if(50<tl)throw tl=0,xm=null,Error(H(185));Hl(e,n,r),(!(Te&2)||e!==mt)&&(e===mt&&(!(Te&2)&&(rh|=n),at===4&&ui(e,St)),nn(e,r),n===1&&Te===0&&!(t.mode&1)&&(Os=et()+500,Zd&&Hi()))}function nn(e,t){var n=e.callbackNode;rk(e,t);var r=Xc(e,e===mt?St:0);if(r===0)n!==null&&hw(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&hw(n),t===1)e.tag===0?nD(iE.bind(null,e)):wI(iE.bind(null,e)),Jk(function(){!(Te&6)&&Hi()}),n=null;else{switch(QC(r)){case 1:n=Lg;break;case 4:n=GC;break;case 16:n=Qc;break;case 536870912:n=qC;break;default:n=Qc}n=vx(n,dx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function dx(e,t){if(Tc=-1,Pc=0,Te&6)throw Error(H(327));var n=e.callbackNode;if(_s()&&e.callbackNode!==n)return null;var r=Xc(e,e===mt?St:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=pd(e,r);else{t=r;var i=Te;Te|=2;var o=fx();(mt!==e||St!==t)&&(Sr=null,Os=et()+500,mo(e,t));do try{CD();break}catch(a){hx(e,a)}while(!0);Kg(),dd.current=o,Te=i,rt!==null?t=0:(mt=null,St=0,t=at)}if(t!==0){if(t===2&&(i=Jp(e),i!==0&&(r=i,t=Am(e,i))),t===1)throw n=Pl,mo(e,0),ui(e,r),nn(e,et()),n;if(t===6)ui(e,r);else{if(i=e.current.alternate,!(r&30)&&!ED(i)&&(t=pd(e,r),t===2&&(o=Jp(e),o!==0&&(r=o,t=Am(e,o))),t===1))throw n=Pl,mo(e,0),ui(e,r),nn(e,et()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(H(345));case 2:io(e,Yt,Sr);break;case 3:if(ui(e,r),(r&130023424)===r&&(t=uy+500-et(),10<t)){if(Xc(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Gt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=sm(io.bind(null,e,Yt,Sr),t);break}io(e,Yt,Sr);break;case 4:if(ui(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-$n(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=et()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wD(r/1960))-r,10<r){e.timeoutHandle=sm(io.bind(null,e,Yt,Sr),r);break}io(e,Yt,Sr);break;case 5:io(e,Yt,Sr);break;default:throw Error(H(329))}}}return nn(e,et()),e.callbackNode===n?dx.bind(null,e):null}function Am(e,t){var n=el;return e.current.memoizedState.isDehydrated&&(mo(e,t).flags|=256),e=pd(e,t),e!==2&&(t=Yt,Yt=n,t!==null&&Tm(t)),e}function Tm(e){Yt===null?Yt=e:Yt.push.apply(Yt,e)}function ED(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Gn(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ui(e,t){for(t&=~ly,t&=~rh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-$n(t),r=1<<n;e[n]=-1,t&=~r}}function iE(e){if(Te&6)throw Error(H(327));_s();var t=Xc(e,0);if(!(t&1))return nn(e,et()),null;var n=pd(e,t);if(e.tag!==0&&n===2){var r=Jp(e);r!==0&&(t=r,n=Am(e,r))}if(n===1)throw n=Pl,mo(e,0),ui(e,t),nn(e,et()),n;if(n===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,io(e,Yt,Sr),nn(e,et()),null}function cy(e,t){var n=Te;Te|=1;try{return e(t)}finally{Te=n,Te===0&&(Os=et()+500,Zd&&Hi())}}function So(e){mi!==null&&mi.tag===0&&!(Te&6)&&_s();var t=Te;Te|=1;var n=Pn.transition,r=Oe;try{if(Pn.transition=null,Oe=1,e)return e()}finally{Oe=r,Pn.transition=n,Te=t,!(Te&6)&&Hi()}}function dy(){dn=hs.current,je(hs)}function mo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Yk(n)),rt!==null)for(n=rt.return;n!==null;){var r=n;switch(Hg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&td();break;case 3:ks(),je(en),je(Vt),ey();break;case 5:Zg(r);break;case 4:ks();break;case 13:je(He);break;case 19:je(He);break;case 10:Qg(r.type._context);break;case 22:case 23:dy()}n=n.return}if(mt=e,rt=e=xi(e.current,null),St=dn=t,at=0,Pl=null,ly=rh=Eo=0,Yt=el=null,uo!==null){for(t=0;t<uo.length;t++)if(n=uo[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}uo=null}return e}function hx(e,t){do{var n=rt;try{if(Kg(),Ic.current=cd,ud){for(var r=Ge.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ud=!1}if(wo=0,pt=st=Ge=null,Ja=!1,xl=0,ay.current=null,n===null||n.return===null){at=1,Pl=t,rt=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=St,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=Hw(s);if(f!==null){f.flags&=-257,Gw(f,s,a,o,t),f.mode&1&&Ww(o,u,t),t=f,l=u;var m=t.updateQueue;if(m===null){var _=new Set;_.add(l),t.updateQueue=_}else m.add(l);break e}else{if(!(t&1)){Ww(o,u,t),hy();break e}l=Error(H(426))}}else if(ze&&a.mode&1){var x=Hw(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Gw(x,s,a,o,t),Gg(Ds(l,a));break e}}o=l=Ds(l,a),at!==4&&(at=2),el===null?el=[o]:el.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=QI(o,l,t);Vw(o,y);break e;case 1:a=l;var v=o.type,E=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Ci===null||!Ci.has(E)))){o.flags|=65536,t&=-t,o.lanes|=t;var D=XI(o,a,t);Vw(o,D);break e}}o=o.return}while(o!==null)}mx(n)}catch(F){t=F,rt===n&&n!==null&&(rt=n=n.return);continue}break}while(!0)}function fx(){var e=dd.current;return dd.current=cd,e===null?cd:e}function hy(){(at===0||at===3||at===2)&&(at=4),mt===null||!(Eo&268435455)&&!(rh&268435455)||ui(mt,St)}function pd(e,t){var n=Te;Te|=2;var r=fx();(mt!==e||St!==t)&&(Sr=null,mo(e,t));do try{SD();break}catch(i){hx(e,i)}while(!0);if(Kg(),Te=n,dd.current=r,rt!==null)throw Error(H(261));return mt=null,St=0,at}function SD(){for(;rt!==null;)px(rt)}function CD(){for(;rt!==null&&!Kb();)px(rt)}function px(e){var t=yx(e.alternate,e,dn);e.memoizedProps=e.pendingProps,t===null?mx(e):rt=t,ay.current=null}function mx(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=gD(n,t),n!==null){n.flags&=32767,rt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{at=6,rt=null;return}}else if(n=mD(n,t,dn),n!==null){rt=n;return}if(t=t.sibling,t!==null){rt=t;return}rt=t=e}while(t!==null);at===0&&(at=5)}function io(e,t,n){var r=Oe,i=Pn.transition;try{Pn.transition=null,Oe=1,ID(e,t,n,r)}finally{Pn.transition=i,Oe=r}return null}function ID(e,t,n,r){do _s();while(mi!==null);if(Te&6)throw Error(H(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(ik(e,o),e===mt&&(rt=mt=null,St=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ec||(ec=!0,vx(Qc,function(){return _s(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Pn.transition,Pn.transition=null;var s=Oe;Oe=1;var a=Te;Te|=4,ay.current=null,vD(e,n),ux(n,e),Wk(im),Yc=!!rm,im=rm=null,e.current=n,_D(n),Qb(),Te=a,Oe=s,Pn.transition=o}else e.current=n;if(ec&&(ec=!1,mi=e,fd=i),o=e.pendingLanes,o===0&&(Ci=null),Jb(n.stateNode),nn(e,et()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(hd)throw hd=!1,e=Im,Im=null,e;return fd&1&&e.tag!==0&&_s(),o=e.pendingLanes,o&1?e===xm?tl++:(tl=0,xm=e):tl=0,Hi(),null}function _s(){if(mi!==null){var e=QC(fd),t=Pn.transition,n=Oe;try{if(Pn.transition=null,Oe=16>e?16:e,mi===null)var r=!1;else{if(e=mi,mi=null,fd=0,Te&6)throw Error(H(331));var i=Te;for(Te|=4,Y=e.current;Y!==null;){var o=Y,s=o.child;if(Y.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Y=u;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:Za(8,d,o)}var h=d.child;if(h!==null)h.return=d,Y=h;else for(;Y!==null;){d=Y;var p=d.sibling,f=d.return;if(sx(d),d===u){Y=null;break}if(p!==null){p.return=f,Y=p;break}Y=f}}}var m=o.alternate;if(m!==null){var _=m.child;if(_!==null){m.child=null;do{var x=_.sibling;_.sibling=null,_=x}while(_!==null)}}Y=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Y=s;else e:for(;Y!==null;){if(o=Y,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Za(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,Y=y;break e}Y=o.return}}var v=e.current;for(Y=v;Y!==null;){s=Y;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,Y=E;else e:for(s=v;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:nh(9,a)}}catch(F){Je(a,a.return,F)}if(a===s){Y=null;break e}var D=a.sibling;if(D!==null){D.return=a.return,Y=D;break e}Y=a.return}}if(Te=i,Hi(),sr&&typeof sr.onPostCommitFiberRoot=="function")try{sr.onPostCommitFiberRoot(Kd,e)}catch{}r=!0}return r}finally{Oe=n,Pn.transition=t}}return!1}function oE(e,t,n){t=Ds(n,t),t=QI(e,t,1),e=Si(e,t,1),t=Gt(),e!==null&&(Hl(e,1,t),nn(e,t))}function Je(e,t,n){if(e.tag===3)oE(e,e,n);else for(;t!==null;){if(t.tag===3){oE(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ci===null||!Ci.has(r))){e=Ds(n,e),e=XI(t,e,1),t=Si(t,e,1),e=Gt(),t!==null&&(Hl(t,1,e),nn(t,e));break}}t=t.return}}function xD(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Gt(),e.pingedLanes|=e.suspendedLanes&n,mt===e&&(St&n)===n&&(at===4||at===3&&(St&130023424)===St&&500>et()-uy?mo(e,0):ly|=n),nn(e,t)}function gx(e,t){t===0&&(e.mode&1?(t=Wu,Wu<<=1,!(Wu&130023424)&&(Wu=4194304)):t=1);var n=Gt();e=Fr(e,t),e!==null&&(Hl(e,t,n),nn(e,n))}function AD(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),gx(e,n)}function TD(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(t),gx(e,n)}var yx;yx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||en.current)Zt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Zt=!1,pD(e,t,n);Zt=!!(e.flags&131072)}else Zt=!1,ze&&t.flags&1048576&&EI(t,id,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ac(e,t),e=t.pendingProps;var i=Ps(t,Vt.current);vs(t,n),i=ny(null,t,r,e,i,n);var o=ry();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tn(r)?(o=!0,nd(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Yg(t),i.updater=th,t.stateNode=i,i._reactInternals=t,fm(t,r,e,n),t=gm(null,t,r,!0,o,n)):(t.tag=0,ze&&o&&Wg(t),zt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ac(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=RD(r),e=Fn(r,e),i){case 0:t=mm(null,t,r,e,n);break e;case 1:t=Qw(null,t,r,e,n);break e;case 11:t=qw(null,t,r,e,n);break e;case 14:t=Kw(null,t,r,Fn(r.type,e),n);break e}throw Error(H(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Fn(r,i),mm(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Fn(r,i),Qw(e,t,r,i,n);case 3:e:{if(ex(t),e===null)throw Error(H(387));r=t.pendingProps,o=t.memoizedState,i=o.element,TI(e,t),ad(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Ds(Error(H(423)),t),t=Xw(e,t,r,n,i);break e}else if(r!==i){i=Ds(Error(H(424)),t),t=Xw(e,t,r,n,i);break e}else for(hn=Ei(t.stateNode.containerInfo.firstChild),pn=t,ze=!0,Un=null,n=xI(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rs(),r===i){t=Vr(e,t,n);break e}zt(e,t,r,n)}t=t.child}return t;case 5:return PI(t),e===null&&cm(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,om(r,i)?s=null:o!==null&&om(r,o)&&(t.flags|=32),ZI(e,t),zt(e,t,s,n),t.child;case 6:return e===null&&cm(t),null;case 13:return tx(e,t,n);case 4:return Jg(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=bs(t,null,r,n):zt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Fn(r,i),qw(e,t,r,i,n);case 7:return zt(e,t,t.pendingProps,n),t.child;case 8:return zt(e,t,t.pendingProps.children,n),t.child;case 12:return zt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Fe(od,r._currentValue),r._currentValue=s,o!==null)if(Gn(o.value,s)){if(o.children===i.children&&!en.current){t=Vr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=kr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),dm(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(H(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),dm(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}zt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,vs(t,n),i=bn(i),r=r(i),t.flags|=1,zt(e,t,r,n),t.child;case 14:return r=t.type,i=Fn(r,t.pendingProps),i=Fn(r.type,i),Kw(e,t,r,i,n);case 15:return YI(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Fn(r,i),Ac(e,t),t.tag=1,tn(r)?(e=!0,nd(t)):e=!1,vs(t,n),KI(t,r,i),fm(t,r,i,n),gm(null,t,r,!0,e,n);case 19:return nx(e,t,n);case 22:return JI(e,t,n)}throw Error(H(156,t.tag))};function vx(e,t){return HC(e,t)}function PD(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(e,t,n,r){return new PD(e,t,n,r)}function fy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function RD(e){if(typeof e=="function")return fy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Dg)return 11;if(e===Og)return 14}return 2}function xi(e,t){var n=e.alternate;return n===null?(n=Tn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")fy(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case ns:return go(n.children,i,o,t);case kg:s=8,i|=8;break;case Fp:return e=Tn(12,n,t,i|2),e.elementType=Fp,e.lanes=o,e;case Vp:return e=Tn(13,n,t,i),e.elementType=Vp,e.lanes=o,e;case Up:return e=Tn(19,n,t,i),e.elementType=Up,e.lanes=o,e;case PC:return ih(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case AC:s=10;break e;case TC:s=9;break e;case Dg:s=11;break e;case Og:s=14;break e;case si:s=16,r=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=Tn(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function go(e,t,n,r){return e=Tn(7,e,r,t),e.lanes=n,e}function ih(e,t,n,r){return e=Tn(22,e,r,t),e.elementType=PC,e.lanes=n,e.stateNode={isHidden:!1},e}function $f(e,t,n){return e=Tn(6,e,null,t),e.lanes=n,e}function jf(e,t,n){return t=Tn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function bD(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ef(0),this.expirationTimes=Ef(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ef(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function py(e,t,n,r,i,o,s,a,l){return e=new bD(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Tn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yg(o),e}function kD(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ts,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function _x(e){if(!e)return Di;e=e._reactInternals;e:{if(Oo(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var n=e.type;if(tn(n))return _I(e,n,t)}return t}function wx(e,t,n,r,i,o,s,a,l){return e=py(n,r,!0,e,i,o,s,a,l),e.context=_x(null),n=e.current,r=Gt(),i=Ii(n),o=kr(r,i),o.callback=t??null,Si(n,o,i),e.current.lanes=i,Hl(e,i,r),nn(e,r),e}function oh(e,t,n,r){var i=t.current,o=Gt(),s=Ii(i);return n=_x(n),t.context===null?t.context=n:t.pendingContext=n,t=kr(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Si(i,t,s),e!==null&&(jn(e,i,s,o),Cc(e,i,s)),s}function md(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function my(e,t){sE(e,t),(e=e.alternate)&&sE(e,t)}function DD(){return null}var Ex=typeof reportError=="function"?reportError:function(e){console.error(e)};function gy(e){this._internalRoot=e}sh.prototype.render=gy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));oh(e,t,null,null)};sh.prototype.unmount=gy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;So(function(){oh(null,e,null,null)}),t[Mr]=null}};function sh(e){this._internalRoot=e}sh.prototype.unstable_scheduleHydration=function(e){if(e){var t=JC();e={blockedOn:null,target:e,priority:t};for(var n=0;n<li.length&&t!==0&&t<li[n].priority;n++);li.splice(n,0,e),n===0&&eI(e)}};function yy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ah(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function aE(){}function OD(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=md(s);o.call(u)}}var s=wx(t,r,e,0,null,!1,!1,"",aE);return e._reactRootContainer=s,e[Mr]=s.current,wl(e.nodeType===8?e.parentNode:e),So(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=md(l);a.call(u)}}var l=py(e,0,!1,null,null,!1,!1,"",aE);return e._reactRootContainer=l,e[Mr]=l.current,wl(e.nodeType===8?e.parentNode:e),So(function(){oh(t,l,n,r)}),l}function lh(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=md(s);a.call(l)}}oh(t,s,e,i)}else s=OD(n,t,e,i,r);return md(s)}XC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ua(t.pendingLanes);n!==0&&(Mg(t,n|1),nn(t,et()),!(Te&6)&&(Os=et()+500,Hi()))}break;case 13:So(function(){var r=Fr(e,1);if(r!==null){var i=Gt();jn(r,e,1,i)}}),my(e,1)}};Fg=function(e){if(e.tag===13){var t=Fr(e,134217728);if(t!==null){var n=Gt();jn(t,e,134217728,n)}my(e,134217728)}};YC=function(e){if(e.tag===13){var t=Ii(e),n=Fr(e,t);if(n!==null){var r=Gt();jn(n,e,t,r)}my(e,t)}};JC=function(){return Oe};ZC=function(e,t){var n=Oe;try{return Oe=e,t()}finally{Oe=n}};Qp=function(e,t,n){switch(t){case"input":if(Bp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Jd(r);if(!i)throw Error(H(90));bC(r),Bp(r,i)}}}break;case"textarea":DC(e,n);break;case"select":t=n.value,t!=null&&ps(e,!!n.multiple,t,!1)}};UC=cy;$C=So;var ND={usingClientEntryPoint:!1,Events:[ql,ss,Jd,FC,VC,cy]},ka={findFiberByHostInstance:lo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LD={bundleType:ka.bundleType,version:ka.version,rendererPackageName:ka.rendererPackageName,rendererConfig:ka.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=zC(e),e===null?null:e.stateNode},findFiberByHostInstance:ka.findFiberByHostInstance||DD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tc.isDisabled&&tc.supportsFiber)try{Kd=tc.inject(LD),sr=tc}catch{}}_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ND;_n.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yy(t))throw Error(H(200));return kD(e,t,null,n)};_n.createRoot=function(e,t){if(!yy(e))throw Error(H(299));var n=!1,r="",i=Ex;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=py(e,1,!1,null,null,n,!1,r,i),e[Mr]=t.current,wl(e.nodeType===8?e.parentNode:e),new gy(t)};_n.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=zC(t),e=e===null?null:e.stateNode,e};_n.flushSync=function(e){return So(e)};_n.hydrate=function(e,t,n){if(!ah(t))throw Error(H(200));return lh(null,e,t,!0,n)};_n.hydrateRoot=function(e,t,n){if(!yy(e))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Ex;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=wx(t,null,e,1,n??null,i,!1,o,s),e[Mr]=t.current,wl(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new sh(t)};_n.render=function(e,t,n){if(!ah(t))throw Error(H(200));return lh(null,e,t,!1,n)};_n.unmountComponentAtNode=function(e){if(!ah(e))throw Error(H(40));return e._reactRootContainer?(So(function(){lh(null,null,e,!1,function(){e._reactRootContainer=null,e[Mr]=null})}),!0):!1};_n.unstable_batchedUpdates=cy;_n.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ah(n))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return lh(e,t,n,!1,r)};_n.version="18.3.1-next-f1338f8080-20240426";function Sx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sx)}catch(e){console.error(e)}}Sx(),SC.exports=_n;var lt=SC.exports,Cx,lE=lt;Cx=lE.createRoot,lE.hydrateRoot;var vy={};Object.defineProperty(vy,"__esModule",{value:!0});vy.parse=BD;vy.serialize=zD;const MD=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,FD=/^[\u0021-\u003A\u003C-\u007E]*$/,VD=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,UD=/^[\u0020-\u003A\u003D-\u007E]*$/,$D=Object.prototype.toString,jD=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function BD(e,t){const n=new jD,r=e.length;if(r<2)return n;const i=(t==null?void 0:t.decode)||WD;let o=0;do{const s=e.indexOf("=",o);if(s===-1)break;const a=e.indexOf(";",o),l=a===-1?r:a;if(s>l){o=e.lastIndexOf(";",s-1)+1;continue}const u=uE(e,o,s),d=cE(e,s,u),h=e.slice(u,d);if(n[h]===void 0){let p=uE(e,s+1,l),f=cE(e,l,p);const m=i(e.slice(p,f));n[h]=m}o=l+1}while(o<r);return n}function uE(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function cE(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function zD(e,t,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!MD.test(e))throw new TypeError(`argument name is invalid: ${e}`);const i=r(t);if(!FD.test(i))throw new TypeError(`argument val is invalid: ${t}`);let o=e+"="+i;if(!n)return o;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);o+="; Max-Age="+n.maxAge}if(n.domain){if(!VD.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);o+="; Domain="+n.domain}if(n.path){if(!UD.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);o+="; Path="+n.path}if(n.expires){if(!HD(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.partitioned&&(o+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return o}function WD(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function HD(e){return $D.call(e)==="[object Date]"}/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var dE="popstate";function GD(e={}){function t(r,i){let{pathname:o,search:s,hash:a}=r.location;return Pm("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Rl(i)}return KD(t,n,null,e)}function qe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function qD(){return Math.random().toString(36).substring(2,10)}function hE(e,t){return{usr:e.state,key:e.key,idx:t}}function Pm(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ks(t):t,state:n,key:t&&t.key||r||qD()}}function Rl({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ks(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function KD(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",l=null,u=d();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function d(){return(s.state||{idx:null}).idx}function h(){a="POP";let x=d(),y=x==null?null:x-u;u=x,l&&l({action:a,location:_.location,delta:y})}function p(x,y){a="PUSH";let v=Pm(_.location,x,y);u=d()+1;let E=hE(v,u),D=_.createHref(v);try{s.pushState(E,"",D)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(D)}o&&l&&l({action:a,location:_.location,delta:1})}function f(x,y){a="REPLACE";let v=Pm(_.location,x,y);u=d();let E=hE(v,u),D=_.createHref(v);s.replaceState(E,"",D),o&&l&&l({action:a,location:_.location,delta:0})}function m(x){let y=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof x=="string"?x:Rl(x);return v=v.replace(/ $/,"%20"),qe(y,`No window.location.(origin|href) available to create URL for href: ${v}`),new URL(v,y)}let _={get action(){return a},get location(){return e(i,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(dE,h),l=x,()=>{i.removeEventListener(dE,h),l=null}},createHref(x){return t(i,x)},createURL:m,encodeLocation(x){let y=m(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:f,go(x){return s.go(x)}};return _}function Ix(e,t,n="/"){return QD(e,t,n,!1)}function QD(e,t,n,r){let i=typeof t=="string"?Ks(t):t,o=Oi(i.pathname||"/",n);if(o==null)return null;let s=xx(e);XD(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=aO(o);a=oO(s[l],u,r)}return a}function xx(e,t=[],n=[],r=""){let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(qe(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=Dr([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(qe(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),xx(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:rO(u,o.index),routesMeta:d})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of Ax(o.path))i(o,s,l)}),t}function Ax(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=Ax(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function XD(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:iO(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var YD=/^:[\w-]+$/,JD=3,ZD=2,eO=1,tO=10,nO=-2,fE=e=>e==="*";function rO(e,t){let n=e.split("/"),r=n.length;return n.some(fE)&&(r+=nO),t&&(r+=ZD),n.filter(i=>!fE(i)).reduce((i,o)=>i+(YD.test(o)?JD:o===""?eO:tO),r)}function iO(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function oO(e,t,n=!1){let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",h=gd({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),p=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=gd({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:Dr([o,h.pathname]),pathnameBase:dO(Dr([o,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(o=Dr([o,h.pathnameBase]))}return s}function gd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=sO(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:h},p)=>{if(d==="*"){let m=a[p]||"";s=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const f=a[p];return h&&!f?u[d]=void 0:u[d]=(f||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:e}}function sO(e,t=!1,n=!0){fr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function aO(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return fr(!1,`The URL path "${e}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Oi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function lO(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ks(e):e;return{pathname:n?n.startsWith("/")?n:uO(n,t):t,search:hO(r),hash:fO(i)}}function uO(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Bf(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cO(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Tx(e){let t=cO(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Px(e,t,n,r=!1){let i;typeof e=="string"?i=Ks(e):(i={...e},qe(!i.pathname||!i.pathname.includes("?"),Bf("?","pathname","search",i)),qe(!i.pathname||!i.pathname.includes("#"),Bf("#","pathname","hash",i)),qe(!i.search||!i.search.includes("#"),Bf("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let h=t.length-1;if(!r&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?t[h]:"/"}let l=lO(i,a),u=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var Dr=e=>e.join("/").replace(/\/\/+/g,"/"),dO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),hO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,fO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function pO(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Rx=["POST","PUT","PATCH","DELETE"];new Set(Rx);var mO=["GET",...Rx];new Set(mO);var Qs=S.createContext(null);Qs.displayName="DataRouter";var uh=S.createContext(null);uh.displayName="DataRouterState";var bx=S.createContext({isTransitioning:!1});bx.displayName="ViewTransition";var gO=S.createContext(new Map);gO.displayName="Fetchers";var yO=S.createContext(null);yO.displayName="Await";var gr=S.createContext(null);gr.displayName="Navigation";var Ql=S.createContext(null);Ql.displayName="Location";var Gr=S.createContext({outlet:null,matches:[],isDataRoute:!1});Gr.displayName="Route";var _y=S.createContext(null);_y.displayName="RouteError";function vO(e,{relative:t}={}){qe(Xl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(gr),{hash:i,pathname:o,search:s}=Yl(e,{relative:t}),a=o;return n!=="/"&&(a=o==="/"?n:Dr([n,o])),r.createHref({pathname:a,search:s,hash:i})}function Xl(){return S.useContext(Ql)!=null}function No(){return qe(Xl(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Ql).location}var kx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Dx(e){S.useContext(gr).static||S.useLayoutEffect(e)}function Lo(){let{isDataRoute:e}=S.useContext(Gr);return e?kO():_O()}function _O(){qe(Xl(),"useNavigate() may be used only in the context of a <Router> component.");let e=S.useContext(Qs),{basename:t,navigator:n}=S.useContext(gr),{matches:r}=S.useContext(Gr),{pathname:i}=No(),o=JSON.stringify(Tx(r)),s=S.useRef(!1);return Dx(()=>{s.current=!0}),S.useCallback((l,u={})=>{if(fr(s.current,kx),!s.current)return;if(typeof l=="number"){n.go(l);return}let d=Px(l,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Dr([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,o,i,e])}S.createContext(null);function Yl(e,{relative:t}={}){let{matches:n}=S.useContext(Gr),{pathname:r}=No(),i=JSON.stringify(Tx(n));return S.useMemo(()=>Px(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function wO(e,t){return Ox(e,t)}function Ox(e,t,n,r){var y;qe(Xl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=S.useContext(gr),{matches:o}=S.useContext(Gr),s=o[o.length-1],a=s?s.params:{},l=s?s.pathname:"/",u=s?s.pathnameBase:"/",d=s&&s.route;{let v=d&&d.path||"";Nx(l,!d||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let h=No(),p;if(t){let v=typeof t=="string"?Ks(t):t;qe(u==="/"||((y=v.pathname)==null?void 0:y.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${v.pathname}" was given in the \`location\` prop.`),p=v}else p=h;let f=p.pathname||"/",m=f;if(u!=="/"){let v=u.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let _=Ix(e,{pathname:m});fr(d||_!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),fr(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=xO(_&&_.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:Dr([u,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?u:Dr([u,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,n,r);return t&&x?S.createElement(Ql.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},x):x}function EO(){let e=bO(),t=pO(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:o},"ErrorBoundary")," or"," ",S.createElement("code",{style:o},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:i},n):null,s)}var SO=S.createElement(EO,null),CO=class extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?S.createElement(Gr.Provider,{value:this.props.routeContext},S.createElement(_y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function IO({routeContext:e,match:t,children:n}){let r=S.useContext(Qs);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(Gr.Provider,{value:e},n)}function xO(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=n==null?void 0:n.errors;if(o!=null){let l=i.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);qe(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let s=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:d,errors:h}=n,p=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||p){s=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,u,d)=>{let h,p=!1,f=null,m=null;n&&(h=o&&u.route.id?o[u.route.id]:void 0,f=u.route.errorElement||SO,s&&(a<0&&d===0?(Nx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,m=null):a===d&&(p=!0,m=u.route.hydrateFallbackElement||null)));let _=t.concat(i.slice(0,d+1)),x=()=>{let y;return h?y=f:p?y=m:u.route.Component?y=S.createElement(u.route.Component,null):u.route.element?y=u.route.element:y=l,S.createElement(IO,{match:u,routeContext:{outlet:l,matches:_,isDataRoute:n!=null},children:y})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?S.createElement(CO,{location:n.location,revalidation:n.revalidation,component:f,error:h,children:x(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):x()},null)}function wy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AO(e){let t=S.useContext(Qs);return qe(t,wy(e)),t}function TO(e){let t=S.useContext(uh);return qe(t,wy(e)),t}function PO(e){let t=S.useContext(Gr);return qe(t,wy(e)),t}function Ey(e){let t=PO(e),n=t.matches[t.matches.length-1];return qe(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function RO(){return Ey("useRouteId")}function bO(){var r;let e=S.useContext(_y),t=TO("useRouteError"),n=Ey("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function kO(){let{router:e}=AO("useNavigate"),t=Ey("useNavigate"),n=S.useRef(!1);return Dx(()=>{n.current=!0}),S.useCallback(async(i,o={})=>{fr(n.current,kx),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var pE={};function Nx(e,t,n){!t&&!pE[e]&&(pE[e]=!0,fr(!1,n))}S.memo(DO);function DO({routes:e,future:t,state:n}){return Ox(e,void 0,n,t)}function Zn(e){qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function OO({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){qe(!Xl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),a=S.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=Ks(n));let{pathname:l="/",search:u="",hash:d="",state:h=null,key:p="default"}=n,f=S.useMemo(()=>{let m=Oi(l,s);return m==null?null:{location:{pathname:m,search:u,hash:d,state:h,key:p},navigationType:r}},[s,l,u,d,h,p,r]);return fr(f!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:S.createElement(gr.Provider,{value:a},S.createElement(Ql.Provider,{children:t,value:f}))}function NO({children:e,location:t}){return wO(Rm(e),t)}function Rm(e,t=[]){let n=[];return S.Children.forEach(e,(r,i)=>{if(!S.isValidElement(r))return;let o=[...t,i];if(r.type===S.Fragment){n.push.apply(n,Rm(r.props.children,o));return}qe(r.type===Zn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Rm(r.props.children,o)),n.push(s)}),n}var bc="get",kc="application/x-www-form-urlencoded";function ch(e){return e!=null&&typeof e.tagName=="string"}function LO(e){return ch(e)&&e.tagName.toLowerCase()==="button"}function MO(e){return ch(e)&&e.tagName.toLowerCase()==="form"}function FO(e){return ch(e)&&e.tagName.toLowerCase()==="input"}function VO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function UO(e,t){return e.button===0&&(!t||t==="_self")&&!VO(e)}var nc=null;function $O(){if(nc===null)try{new FormData(document.createElement("form"),0),nc=!1}catch{nc=!0}return nc}var jO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zf(e){return e!=null&&!jO.has(e)?(fr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kc}"`),null):e}function BO(e,t){let n,r,i,o,s;if(MO(e)){let a=e.getAttribute("action");r=a?Oi(a,t):null,n=e.getAttribute("method")||bc,i=zf(e.getAttribute("enctype"))||kc,o=new FormData(e)}else if(LO(e)||FO(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?Oi(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||bc,i=zf(e.getAttribute("formenctype"))||zf(a.getAttribute("enctype"))||kc,o=new FormData(a,e),!$O()){let{name:u,type:d,value:h}=e;if(d==="image"){let p=u?`${u}.`:"";o.append(`${p}x`,"0"),o.append(`${p}y`,"0")}else u&&o.append(u,h)}}else{if(ch(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=bc,r=null,i=kc,s=e}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}function Sy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function zO(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function WO(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function HO(e,t,n){let r=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let s=await zO(o,n);return s.links?s.links():[]}return[]}));return QO(r.flat(1).filter(WO).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function mE(e,t,n,r,i,o){let s=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var d;return n[u].pathname!==l.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return o==="assets"?t.filter((l,u)=>s(l,u)||a(l,u)):o==="data"?t.filter((l,u)=>{var h;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(s(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function GO(e,t){return qO(e.map(n=>{let r=t.routes[n.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function qO(e){return[...new Set(e)]}function KO(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function QO(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let o=JSON.stringify(KO(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function XO(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function YO(){let e=S.useContext(Qs);return Sy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function JO(){let e=S.useContext(uh);return Sy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Cy=S.createContext(void 0);Cy.displayName="FrameworkContext";function Lx(){let e=S.useContext(Cy);return Sy(e,"You must render this element inside a <HydratedRouter> element"),e}function ZO(e,t){let n=S.useContext(Cy),[r,i]=S.useState(!1),[o,s]=S.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,p=S.useRef(null);S.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let _=y=>{y.forEach(v=>{s(v.isIntersecting)})},x=new IntersectionObserver(_,{threshold:.5});return p.current&&x.observe(p.current),()=>{x.disconnect()}}},[e]),S.useEffect(()=>{if(r){let _=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(_)}}},[r]);let f=()=>{i(!0)},m=()=>{i(!1),s(!1)};return n?e!=="intent"?[o,p,{}]:[o,p,{onFocus:Da(a,f),onBlur:Da(l,m),onMouseEnter:Da(u,f),onMouseLeave:Da(d,m),onTouchStart:Da(h,f)}]:[!1,p,{}]}function Da(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function eN({page:e,...t}){let{router:n}=YO(),r=S.useMemo(()=>Ix(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?S.createElement(nN,{page:e,matches:r,...t}):(console.warn(`Tried to prefetch ${e} but no routes matched.`),null)}function tN(e){let{manifest:t,routeModules:n}=Lx(),[r,i]=S.useState([]);return S.useEffect(()=>{let o=!1;return HO(e,t,n).then(s=>{o||i(s)}),()=>{o=!0}},[e,t,n]),r}function nN({page:e,matches:t,...n}){let r=No(),{manifest:i,routeModules:o}=Lx(),{loaderData:s,matches:a}=JO(),l=S.useMemo(()=>mE(e,t,a,i,r,"data"),[e,t,a,i,r]),u=S.useMemo(()=>mE(e,t,a,i,r,"assets"),[e,t,a,i,r]),d=S.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let f=new Set,m=!1;if(t.forEach(x=>{var v;let y=i.routes[x.route.id];!y||!y.hasLoader||(!l.some(E=>E.route.id===x.route.id)&&x.route.id in s&&((v=o[x.route.id])!=null&&v.shouldRevalidate)||y.hasClientLoader?m=!0:f.add(x.route.id))}),f.size===0)return[];let _=XO(e);return m&&f.size>0&&_.searchParams.set("_routes",t.filter(x=>f.has(x.route.id)).map(x=>x.route.id).join(",")),[_.pathname+_.search]},[s,r,i,l,t,e,o]),h=S.useMemo(()=>GO(u,i),[u,i]),p=tN(u);return S.createElement(S.Fragment,null,d.map(f=>S.createElement("link",{key:f,rel:"prefetch",as:"fetch",href:f,...n})),h.map(f=>S.createElement("link",{key:f,rel:"modulepreload",href:f,...n})),p.map(({key:f,link:m})=>S.createElement("link",{key:f,...m})))}function rN(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Mx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Mx&&(window.__reactRouterVersion="7.0.2")}catch{}function iN({basename:e,children:t,window:n}){let r=S.useRef();r.current==null&&(r.current=GD({window:n,v5Compat:!0}));let i=r.current,[o,s]=S.useState({action:i.action,location:i.location}),a=S.useCallback(l=>{S.startTransition(()=>s(l))},[s]);return S.useLayoutEffect(()=>i.listen(a),[i,a]),S.createElement(OO,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i})}var Fx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ir=S.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h,...p},f){let{basename:m}=S.useContext(gr),_=typeof u=="string"&&Fx.test(u),x,y=!1;if(typeof u=="string"&&_&&(x=u,Mx))try{let T=new URL(window.location.href),I=u.startsWith("//")?new URL(T.protocol+u):new URL(u),R=Oi(I.pathname,m);I.origin===T.origin&&R!=null?u=R+I.search+I.hash:y=!0}catch{fr(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=vO(u,{relative:i}),[E,D,F]=ZO(r,p),k=lN(u,{replace:s,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function P(T){t&&t(T),T.defaultPrevented||k(T)}let A=S.createElement("a",{...p,...F,href:x||v,onClick:y||o?t:P,ref:rN(f,D),target:l,"data-discover":!_&&n==="render"?"true":void 0});return E&&!_?S.createElement(S.Fragment,null,A,S.createElement(eN,{page:v})):A});ir.displayName="Link";var oN=S.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:l,...u},d){let h=Yl(s,{relative:u.relative}),p=No(),f=S.useContext(uh),{navigator:m,basename:_}=S.useContext(gr),x=f!=null&&fN(h)&&a===!0,y=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,v=p.pathname,E=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;n||(v=v.toLowerCase(),E=E?E.toLowerCase():null,y=y.toLowerCase()),E&&_&&(E=Oi(E,_)||E);const D=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let F=v===y||!i&&v.startsWith(y)&&v.charAt(D)==="/",k=E!=null&&(E===y||!i&&E.startsWith(y)&&E.charAt(y.length)==="/"),P={isActive:F,isPending:k,isTransitioning:x},A=F?t:void 0,T;typeof r=="function"?T=r(P):T=[r,F?"active":null,k?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(P):o;return S.createElement(ir,{...u,"aria-current":A,className:T,ref:d,style:I,to:s,viewTransition:a},typeof l=="function"?l(P):l)});oN.displayName="NavLink";var sN=S.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:o,method:s=bc,action:a,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:h,...p},f)=>{let m=dN(),_=hN(a,{relative:u}),x=s.toLowerCase()==="get"?"get":"post",y=typeof a=="string"&&Fx.test(a),v=E=>{if(l&&l(E),E.defaultPrevented)return;E.preventDefault();let D=E.nativeEvent.submitter,F=(D==null?void 0:D.getAttribute("formmethod"))||s;m(D||E.currentTarget,{fetcherKey:t,method:F,navigate:n,replace:i,state:o,relative:u,preventScrollReset:d,viewTransition:h})};return S.createElement("form",{ref:f,method:x,action:_,onSubmit:r?l:v,...p,"data-discover":!y&&e==="render"?"true":void 0})});sN.displayName="Form";function aN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vx(e){let t=S.useContext(Qs);return qe(t,aN(e)),t}function lN(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let a=Lo(),l=No(),u=Yl(e,{relative:o});return S.useCallback(d=>{if(UO(d,t)){d.preventDefault();let h=n!==void 0?n:Rl(l)===Rl(u);a(e,{replace:h,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[l,a,u,n,r,t,e,i,o,s])}var uN=0,cN=()=>`__${String(++uN)}__`;function dN(){let{router:e}=Vx("useSubmit"),{basename:t}=S.useContext(gr),n=RO();return S.useCallback(async(r,i={})=>{let{action:o,method:s,encType:a,formData:l,body:u}=BO(r,t);if(i.navigate===!1){let d=i.fetcherKey||cN();await e.fetch(d,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function hN(e,{relative:t}={}){let{basename:n}=S.useContext(gr),r=S.useContext(Gr);qe(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Yl(e||".",{relative:t})},s=No();if(e==null){o.search=s.search;let a=new URLSearchParams(o.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let d=a.toString();o.search=d?`?${d}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Dr([n,o.pathname])),Rl(o)}function fN(e,t={}){let n=S.useContext(bx);qe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Vx("useViewTransitionState"),i=Yl(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=Oi(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Oi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return gd(i.pathname,s)!=null||gd(i.pathname,o)!=null}new TextEncoder;const pN=({children:e,style:t,onClick:n,className:r,value:i,onChange:o,onKeyDown:s,type:a,id:l,placeholder:u})=>C.jsx("textarea",{style:t,onClick:n,className:r,value:i,onChange:o,onKeyDown:s,type:a,id:l,placeholder:u,required:!0,children:e}),gE=({children:e,style:t,onClick:n,className:r,type:i,value:o})=>C.jsx("button",{style:t,onClick:n,className:r,type:i,value:o,children:e});var yE={ACSetupSvcPort:"23210",ACSvcPort:"17532",ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\budik\\AppData\\Roaming",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_29048_POCUMDQMJUIBEPJW",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"ARLT0048",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_23616:"1",EnableLog:"WARNING",FLASK_APP:"main.py",GIT_ASKPASS:"c:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\budik",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\budik",INIT_CWD:"D:\\DATA\\GIT\\WIR\\ea.wirglobal.com",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\budik\\AppData\\Local",LOGONSERVER:"\\\\ARLT0048",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",npm_command:"run-script",npm_config_cache:"C:\\Users\\budik\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\budik\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\budik\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\budik\\.npm-init.js",npm_config_local_prefix:"D:\\DATA\\GIT\\WIR\\ea.wirglobal.com",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.9.2",npm_config_prefix:"C:\\Users\\budik\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\budik\\.npmrc",npm_config_user_agent:"npm/10.9.2 node/v22.14.0 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"vite build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"D:\\DATA\\GIT\\WIR\\ea.wirglobal.com\\package.json",npm_package_name:"wir-chat",npm_package_version:"0.0.0",NUMBER_OF_PROCESSORS:"16",OneDrive:"C:\\Users\\budik\\OneDrive",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"D:\\DATA\\GIT\\WIR\\ea.wirglobal.com\\node_modules\\.bin;D:\\DATA\\GIT\\WIR\\node_modules\\.bin;D:\\DATA\\GIT\\node_modules\\.bin;D:\\DATA\\node_modules\\.bin;D:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\ffmpeg\\bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\dotnet\\;C:\\Program Files\\PuTTY\\;C:\\Users\\budik\\AppData\\Local\\Programs\\Python\\Python310\\Scripts\\;C:\\Users\\budik\\AppData\\Local\\Programs\\Python\\Python310\\;C:\\Users\\budik\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\xampp\\php;C:\\ProgramData\\ComposerSetup\\bin;C:\\MinGW\\bin;C:\\Program Files\\Git\\cmd;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files\\NVIDIA Corporation\\NVIDIA app\\NvDLISR;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Docker\\Docker\\resources\\bin;C:\\Program Files\\nodejs\\;C:\\Users\\budik\\AppData\\Local\\Programs\\Python\\Python310\\Scripts\\;C:\\Users\\budik\\AppData\\Local\\Programs\\Python\\Python310\\;C:\\Users\\budik\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\budik\\AppData\\Roaming\\Composer\\vendor\\bin;C:\\Users\\budik\\.dotnet\\tools;C:\\flutter\\bin;C:\\Users\\budik\\AppData\\Roaming\\npm",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"AMD64 Family 25 Model 68 Stepping 1, AuthenticAMD",PROCESSOR_LEVEL:"25",PROCESSOR_REVISION:"4401",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\budik\\OneDrive\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",REACT_APP_BACKEND_URL:"backend-url",REACT_APP_CURRENT_VERSION:"current-version",REACT_APP_FIREBASE_API_KEY:"AIzaSyDoyWyWKSk_8ovvS8_0d1A64DIRVhsEPdE",REACT_APP_FIREBASE_APP_ID:"1:279788642755:web:61bafae06f7d1932765d76",REACT_APP_FIREBASE_AUTH_DOMAIN:"wirchat-22331.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-97GNX3XH66",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"279788642755",REACT_APP_FIREBASE_PROJECT_ID:"wirchat-22331",REACT_APP_FIREBASE_STORAGE_BUCKET:"wirchat-22331.firebasestorage.app",RlsSvcPort:"22112",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\budik\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.98.2",TMP:"C:\\Users\\budik\\AppData\\Local\\Temp",USERDOMAIN:"ARLT0048",USERDOMAIN_ROAMINGPROFILE:"ARLT0048",USERNAME:"budik",USERPROFILE:"C:\\Users\\budik",VBOX_HWVIRTEX_IGNORE_SVM_IN_USE:"1",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-ac8c3e907a-sock",VSCODE_INJECTION:"1",VSCODE_NONCE:"bce40833-b57a-4fe9-bb46-50437c202ead",VSCODE_STABLE:"1",windir:"C:\\WINDOWS"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},mN=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++],s=e[n++],a=e[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},$x={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],s=i+1<e.length,a=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,d=o>>2,h=(o&3)<<4|a>>4;let p=(a&15)<<2|u>>6,f=u&63;l||(f=64,s||(p=64)),r.push(n[d],n[h],n[p],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ux(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):mN(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const h=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||u==null||h==null)throw new gN;const p=o<<2|a>>4;if(r.push(p),u!==64){const f=a<<4&240|u>>2;if(r.push(f),h!==64){const m=u<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class gN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yN=function(e){const t=Ux(e);return $x.encodeByteArray(t,!0)},yd=function(e){return yN(e).replace(/\./g,"")},jx=function(e){try{return $x.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=()=>vN().__FIREBASE_DEFAULTS__,wN=()=>{if(typeof process>"u"||typeof yE>"u")return;const e=yE.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},EN=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&jx(e[1]);return t&&JSON.parse(t)},dh=()=>{try{return _N()||wN()||EN()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Bx=e=>{var t,n;return(n=(t=dh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},SN=e=>{const t=Bx(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},zx=()=>{var e;return(e=dh())===null||e===void 0?void 0:e.config},Wx=e=>{var t;return(t=dh())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[yd(JSON.stringify(n)),yd(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ut())}function AN(){var e;const t=(e=dh())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PN(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function RN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bN(){const e=Ut();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function kN(){return!AN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DN(){try{return typeof indexedDB=="object"}catch{return!1}}function ON(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN="FirebaseError";class qr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=NN,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jl.prototype.create)}}class Jl{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?LN(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new qr(i,a,r)}}function LN(e,t){return e.replace(MN,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const MN=/\{\$([^}]+)}/g;function FN(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function vd(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],s=t[i];if(vE(o)&&vE(s)){if(!vd(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function vE(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ja(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(o)}}),t}function Ba(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function VN(e,t){const n=new UN(e,t);return n.subscribe.bind(n)}class UN{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$N(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=Wf),i.error===void 0&&(i.error=Wf),i.complete===void 0&&(i.complete=Wf);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $N(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Wf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(e){return e&&e._delegate?e._delegate:e}class Co{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new CN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(zN(t))try{this.getOrInitializeService({instanceIdentifier:oo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=oo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=oo){return this.instances.has(t)}getOptions(t=oo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BN(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=oo){return this.component?this.component.multipleInstances?t:oo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BN(e){return e===oo?void 0:e}function zN(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new jN(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(_e||(_e={}));const HN={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},GN=_e.INFO,qN={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},KN=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=qN[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Iy{constructor(t){this.name=t,this._logLevel=GN,this._logHandler=KN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in _e))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?HN[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...t),this._logHandler(this,_e.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...t),this._logHandler(this,_e.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...t),this._logHandler(this,_e.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...t),this._logHandler(this,_e.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...t),this._logHandler(this,_e.ERROR,...t)}}const QN=(e,t)=>t.some(n=>e instanceof n);let _E,wE;function XN(){return _E||(_E=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YN(){return wE||(wE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Hx=new WeakMap,bm=new WeakMap,Gx=new WeakMap,Hf=new WeakMap,xy=new WeakMap;function JN(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(Ai(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&Hx.set(n,e)}).catch(()=>{}),xy.set(t,e),t}function ZN(e){if(bm.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});bm.set(e,t)}let km={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return bm.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Gx.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ai(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function eL(e){km=e(km)}function tL(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Gf(this),t,...n);return Gx.set(r,t.sort?t.sort():[t]),Ai(r)}:YN().includes(e)?function(...t){return e.apply(Gf(this),t),Ai(Hx.get(this))}:function(...t){return Ai(e.apply(Gf(this),t))}}function nL(e){return typeof e=="function"?tL(e):(e instanceof IDBTransaction&&ZN(e),QN(e,XN())?new Proxy(e,km):e)}function Ai(e){if(e instanceof IDBRequest)return JN(e);if(Hf.has(e))return Hf.get(e);const t=nL(e);return t!==e&&(Hf.set(e,t),xy.set(t,e)),t}const Gf=e=>xy.get(e);function rL(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=Ai(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Ai(s.result),l.oldVersion,l.newVersion,Ai(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const iL=["get","getKey","getAll","getAllKeys","count"],oL=["put","add","delete","clear"],qf=new Map;function EE(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(qf.get(t))return qf.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=oL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||iL.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return qf.set(t,o),o}eL(e=>({...e,get:(t,n,r)=>EE(t,n)||e.get(t,n,r),has:(t,n)=>!!EE(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function aL(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Dm="@firebase/app",SE="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=new Iy("@firebase/app"),lL="@firebase/app-compat",uL="@firebase/analytics-compat",cL="@firebase/analytics",dL="@firebase/app-check-compat",hL="@firebase/app-check",fL="@firebase/auth",pL="@firebase/auth-compat",mL="@firebase/database",gL="@firebase/data-connect",yL="@firebase/database-compat",vL="@firebase/functions",_L="@firebase/functions-compat",wL="@firebase/installations",EL="@firebase/installations-compat",SL="@firebase/messaging",CL="@firebase/messaging-compat",IL="@firebase/performance",xL="@firebase/performance-compat",AL="@firebase/remote-config",TL="@firebase/remote-config-compat",PL="@firebase/storage",RL="@firebase/storage-compat",bL="@firebase/firestore",kL="@firebase/vertexai",DL="@firebase/firestore-compat",OL="firebase",NL="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="[DEFAULT]",LL={[Dm]:"fire-core",[lL]:"fire-core-compat",[cL]:"fire-analytics",[uL]:"fire-analytics-compat",[hL]:"fire-app-check",[dL]:"fire-app-check-compat",[fL]:"fire-auth",[pL]:"fire-auth-compat",[mL]:"fire-rtdb",[gL]:"fire-data-connect",[yL]:"fire-rtdb-compat",[vL]:"fire-fn",[_L]:"fire-fn-compat",[wL]:"fire-iid",[EL]:"fire-iid-compat",[SL]:"fire-fcm",[CL]:"fire-fcm-compat",[IL]:"fire-perf",[xL]:"fire-perf-compat",[AL]:"fire-rc",[TL]:"fire-rc-compat",[PL]:"fire-gcs",[RL]:"fire-gcs-compat",[bL]:"fire-fst",[DL]:"fire-fst-compat",[kL]:"fire-vertex","fire-js":"fire-js",[OL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=new Map,ML=new Map,Nm=new Map;function CE(e,t){try{e.container.addComponent(t)}catch(n){Ur.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ns(e){const t=e.name;if(Nm.has(t))return Ur.debug(`There were multiple attempts to register component ${t}.`),!1;Nm.set(t,e);for(const n of _d.values())CE(n,e);for(const n of ML.values())CE(n,e);return!0}function Ay(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function or(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ti=new Jl("app","Firebase",FL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ti.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=NL;function qx(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Om,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Ti.create("bad-app-name",{appName:String(i)});if(n||(n=zx()),!n)throw Ti.create("no-options");const o=_d.get(i);if(o){if(vd(n,o.options)&&vd(r,o.config))return o;throw Ti.create("duplicate-app",{appName:i})}const s=new WN(i);for(const l of Nm.values())s.addComponent(l);const a=new VL(n,r,s);return _d.set(i,a),a}function Kx(e=Om){const t=_d.get(e);if(!t&&e===Om&&zx())return qx();if(!t)throw Ti.create("no-app",{appName:e});return t}function Pi(e,t,n){var r;let i=(r=LL[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ur.warn(a.join(" "));return}Ns(new Co(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL="firebase-heartbeat-database",$L=1,bl="firebase-heartbeat-store";let Kf=null;function Qx(){return Kf||(Kf=rL(UL,$L,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(bl)}catch(n){console.warn(n)}}}}).catch(e=>{throw Ti.create("idb-open",{originalErrorMessage:e.message})})),Kf}async function jL(e){try{const n=(await Qx()).transaction(bl),r=await n.objectStore(bl).get(Xx(e));return await n.done,r}catch(t){if(t instanceof qr)Ur.warn(t.message);else{const n=Ti.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ur.warn(n.message)}}}async function IE(e,t){try{const r=(await Qx()).transaction(bl,"readwrite");await r.objectStore(bl).put(t,Xx(e)),await r.done}catch(n){if(n instanceof qr)Ur.warn(n.message);else{const r=Ti.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ur.warn(r.message)}}}function Xx(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL=1024,zL=30*24*60*60*1e3;class WL{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new GL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=xE();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=zL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ur.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xE(),{heartbeatsToSend:r,unsentEntries:i}=HL(this._heartbeatsCache.heartbeats),o=yd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ur.warn(n),""}}}function xE(){return new Date().toISOString().substring(0,10)}function HL(e,t=BL){const n=[];let r=e.slice();for(const i of e){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),AE(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),AE(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class GL{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DN()?ON().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return IE(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return IE(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function AE(e){return yd(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(e){Ns(new Co("platform-logger",t=>new sL(t),"PRIVATE")),Ns(new Co("heartbeat",t=>new WL(t),"PRIVATE")),Pi(Dm,SE,e),Pi(Dm,SE,"esm2017"),Pi("fire-js","")}qL("");var KL="firebase",QL="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pi(KL,QL,"app");var TE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ri,Yx;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(P,A){function T(){}T.prototype=A.prototype,P.D=A.prototype,P.prototype=new T,P.prototype.constructor=P,P.C=function(I,R,M){for(var O=Array(arguments.length-2),X=2;X<arguments.length;X++)O[X-2]=arguments[X];return A.prototype[R].apply(I,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,A,T){T||(T=0);var I=Array(16);if(typeof A=="string")for(var R=0;16>R;++R)I[R]=A.charCodeAt(T++)|A.charCodeAt(T++)<<8|A.charCodeAt(T++)<<16|A.charCodeAt(T++)<<24;else for(R=0;16>R;++R)I[R]=A[T++]|A[T++]<<8|A[T++]<<16|A[T++]<<24;A=P.g[0],T=P.g[1],R=P.g[2];var M=P.g[3],O=A+(M^T&(R^M))+I[0]+3614090360&4294967295;A=T+(O<<7&4294967295|O>>>25),O=M+(R^A&(T^R))+I[1]+3905402710&4294967295,M=A+(O<<12&4294967295|O>>>20),O=R+(T^M&(A^T))+I[2]+606105819&4294967295,R=M+(O<<17&4294967295|O>>>15),O=T+(A^R&(M^A))+I[3]+3250441966&4294967295,T=R+(O<<22&4294967295|O>>>10),O=A+(M^T&(R^M))+I[4]+4118548399&4294967295,A=T+(O<<7&4294967295|O>>>25),O=M+(R^A&(T^R))+I[5]+1200080426&4294967295,M=A+(O<<12&4294967295|O>>>20),O=R+(T^M&(A^T))+I[6]+2821735955&4294967295,R=M+(O<<17&4294967295|O>>>15),O=T+(A^R&(M^A))+I[7]+4249261313&4294967295,T=R+(O<<22&4294967295|O>>>10),O=A+(M^T&(R^M))+I[8]+1770035416&4294967295,A=T+(O<<7&4294967295|O>>>25),O=M+(R^A&(T^R))+I[9]+2336552879&4294967295,M=A+(O<<12&4294967295|O>>>20),O=R+(T^M&(A^T))+I[10]+4294925233&4294967295,R=M+(O<<17&4294967295|O>>>15),O=T+(A^R&(M^A))+I[11]+2304563134&4294967295,T=R+(O<<22&4294967295|O>>>10),O=A+(M^T&(R^M))+I[12]+1804603682&4294967295,A=T+(O<<7&4294967295|O>>>25),O=M+(R^A&(T^R))+I[13]+4254626195&4294967295,M=A+(O<<12&4294967295|O>>>20),O=R+(T^M&(A^T))+I[14]+2792965006&4294967295,R=M+(O<<17&4294967295|O>>>15),O=T+(A^R&(M^A))+I[15]+1236535329&4294967295,T=R+(O<<22&4294967295|O>>>10),O=A+(R^M&(T^R))+I[1]+4129170786&4294967295,A=T+(O<<5&4294967295|O>>>27),O=M+(T^R&(A^T))+I[6]+3225465664&4294967295,M=A+(O<<9&4294967295|O>>>23),O=R+(A^T&(M^A))+I[11]+643717713&4294967295,R=M+(O<<14&4294967295|O>>>18),O=T+(M^A&(R^M))+I[0]+3921069994&4294967295,T=R+(O<<20&4294967295|O>>>12),O=A+(R^M&(T^R))+I[5]+3593408605&4294967295,A=T+(O<<5&4294967295|O>>>27),O=M+(T^R&(A^T))+I[10]+38016083&4294967295,M=A+(O<<9&4294967295|O>>>23),O=R+(A^T&(M^A))+I[15]+3634488961&4294967295,R=M+(O<<14&4294967295|O>>>18),O=T+(M^A&(R^M))+I[4]+3889429448&4294967295,T=R+(O<<20&4294967295|O>>>12),O=A+(R^M&(T^R))+I[9]+568446438&4294967295,A=T+(O<<5&4294967295|O>>>27),O=M+(T^R&(A^T))+I[14]+3275163606&4294967295,M=A+(O<<9&4294967295|O>>>23),O=R+(A^T&(M^A))+I[3]+4107603335&4294967295,R=M+(O<<14&4294967295|O>>>18),O=T+(M^A&(R^M))+I[8]+1163531501&4294967295,T=R+(O<<20&4294967295|O>>>12),O=A+(R^M&(T^R))+I[13]+2850285829&4294967295,A=T+(O<<5&4294967295|O>>>27),O=M+(T^R&(A^T))+I[2]+4243563512&4294967295,M=A+(O<<9&4294967295|O>>>23),O=R+(A^T&(M^A))+I[7]+1735328473&4294967295,R=M+(O<<14&4294967295|O>>>18),O=T+(M^A&(R^M))+I[12]+2368359562&4294967295,T=R+(O<<20&4294967295|O>>>12),O=A+(T^R^M)+I[5]+4294588738&4294967295,A=T+(O<<4&4294967295|O>>>28),O=M+(A^T^R)+I[8]+2272392833&4294967295,M=A+(O<<11&4294967295|O>>>21),O=R+(M^A^T)+I[11]+1839030562&4294967295,R=M+(O<<16&4294967295|O>>>16),O=T+(R^M^A)+I[14]+4259657740&4294967295,T=R+(O<<23&4294967295|O>>>9),O=A+(T^R^M)+I[1]+2763975236&4294967295,A=T+(O<<4&4294967295|O>>>28),O=M+(A^T^R)+I[4]+1272893353&4294967295,M=A+(O<<11&4294967295|O>>>21),O=R+(M^A^T)+I[7]+4139469664&4294967295,R=M+(O<<16&4294967295|O>>>16),O=T+(R^M^A)+I[10]+3200236656&4294967295,T=R+(O<<23&4294967295|O>>>9),O=A+(T^R^M)+I[13]+681279174&4294967295,A=T+(O<<4&4294967295|O>>>28),O=M+(A^T^R)+I[0]+3936430074&4294967295,M=A+(O<<11&4294967295|O>>>21),O=R+(M^A^T)+I[3]+3572445317&4294967295,R=M+(O<<16&4294967295|O>>>16),O=T+(R^M^A)+I[6]+76029189&4294967295,T=R+(O<<23&4294967295|O>>>9),O=A+(T^R^M)+I[9]+3654602809&4294967295,A=T+(O<<4&4294967295|O>>>28),O=M+(A^T^R)+I[12]+3873151461&4294967295,M=A+(O<<11&4294967295|O>>>21),O=R+(M^A^T)+I[15]+530742520&4294967295,R=M+(O<<16&4294967295|O>>>16),O=T+(R^M^A)+I[2]+3299628645&4294967295,T=R+(O<<23&4294967295|O>>>9),O=A+(R^(T|~M))+I[0]+4096336452&4294967295,A=T+(O<<6&4294967295|O>>>26),O=M+(T^(A|~R))+I[7]+1126891415&4294967295,M=A+(O<<10&4294967295|O>>>22),O=R+(A^(M|~T))+I[14]+2878612391&4294967295,R=M+(O<<15&4294967295|O>>>17),O=T+(M^(R|~A))+I[5]+4237533241&4294967295,T=R+(O<<21&4294967295|O>>>11),O=A+(R^(T|~M))+I[12]+1700485571&4294967295,A=T+(O<<6&4294967295|O>>>26),O=M+(T^(A|~R))+I[3]+2399980690&4294967295,M=A+(O<<10&4294967295|O>>>22),O=R+(A^(M|~T))+I[10]+4293915773&4294967295,R=M+(O<<15&4294967295|O>>>17),O=T+(M^(R|~A))+I[1]+2240044497&4294967295,T=R+(O<<21&4294967295|O>>>11),O=A+(R^(T|~M))+I[8]+1873313359&4294967295,A=T+(O<<6&4294967295|O>>>26),O=M+(T^(A|~R))+I[15]+4264355552&4294967295,M=A+(O<<10&4294967295|O>>>22),O=R+(A^(M|~T))+I[6]+2734768916&4294967295,R=M+(O<<15&4294967295|O>>>17),O=T+(M^(R|~A))+I[13]+1309151649&4294967295,T=R+(O<<21&4294967295|O>>>11),O=A+(R^(T|~M))+I[4]+4149444226&4294967295,A=T+(O<<6&4294967295|O>>>26),O=M+(T^(A|~R))+I[11]+3174756917&4294967295,M=A+(O<<10&4294967295|O>>>22),O=R+(A^(M|~T))+I[2]+718787259&4294967295,R=M+(O<<15&4294967295|O>>>17),O=T+(M^(R|~A))+I[9]+3951481745&4294967295,P.g[0]=P.g[0]+A&4294967295,P.g[1]=P.g[1]+(R+(O<<21&4294967295|O>>>11))&4294967295,P.g[2]=P.g[2]+R&4294967295,P.g[3]=P.g[3]+M&4294967295}r.prototype.u=function(P,A){A===void 0&&(A=P.length);for(var T=A-this.blockSize,I=this.B,R=this.h,M=0;M<A;){if(R==0)for(;M<=T;)i(this,P,M),M+=this.blockSize;if(typeof P=="string"){for(;M<A;)if(I[R++]=P.charCodeAt(M++),R==this.blockSize){i(this,I),R=0;break}}else for(;M<A;)if(I[R++]=P[M++],R==this.blockSize){i(this,I),R=0;break}}this.h=R,this.o+=A},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var A=1;A<P.length-8;++A)P[A]=0;var T=8*this.o;for(A=P.length-8;A<P.length;++A)P[A]=T&255,T/=256;for(this.u(P),P=Array(16),A=T=0;4>A;++A)for(var I=0;32>I;I+=8)P[T++]=this.g[A]>>>I&255;return P};function o(P,A){var T=a;return Object.prototype.hasOwnProperty.call(T,P)?T[P]:T[P]=A(P)}function s(P,A){this.h=A;for(var T=[],I=!0,R=P.length-1;0<=R;R--){var M=P[R]|0;I&&M==A||(T[R]=M,I=!1)}this.g=T}var a={};function l(P){return-128<=P&&128>P?o(P,function(A){return new s([A|0],0>A?-1:0)}):new s([P|0],0>P?-1:0)}function u(P){if(isNaN(P)||!isFinite(P))return h;if(0>P)return x(u(-P));for(var A=[],T=1,I=0;P>=T;I++)A[I]=P/T|0,T*=4294967296;return new s(A,0)}function d(P,A){if(P.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(P.charAt(0)=="-")return x(d(P.substring(1),A));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=u(Math.pow(A,8)),I=h,R=0;R<P.length;R+=8){var M=Math.min(8,P.length-R),O=parseInt(P.substring(R,R+M),A);8>M?(M=u(Math.pow(A,M)),I=I.j(M).add(u(O))):(I=I.j(T),I=I.add(u(O)))}return I}var h=l(0),p=l(1),f=l(16777216);e=s.prototype,e.m=function(){if(_(this))return-x(this).m();for(var P=0,A=1,T=0;T<this.g.length;T++){var I=this.i(T);P+=(0<=I?I:4294967296+I)*A,A*=4294967296}return P},e.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(m(this))return"0";if(_(this))return"-"+x(this).toString(P);for(var A=u(Math.pow(P,6)),T=this,I="";;){var R=D(T,A).g;T=y(T,R.j(A));var M=((0<T.g.length?T.g[0]:T.h)>>>0).toString(P);if(T=R,m(T))return M+I;for(;6>M.length;)M="0"+M;I=M+I}},e.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function m(P){if(P.h!=0)return!1;for(var A=0;A<P.g.length;A++)if(P.g[A]!=0)return!1;return!0}function _(P){return P.h==-1}e.l=function(P){return P=y(this,P),_(P)?-1:m(P)?0:1};function x(P){for(var A=P.g.length,T=[],I=0;I<A;I++)T[I]=~P.g[I];return new s(T,~P.h).add(p)}e.abs=function(){return _(this)?x(this):this},e.add=function(P){for(var A=Math.max(this.g.length,P.g.length),T=[],I=0,R=0;R<=A;R++){var M=I+(this.i(R)&65535)+(P.i(R)&65535),O=(M>>>16)+(this.i(R)>>>16)+(P.i(R)>>>16);I=O>>>16,M&=65535,O&=65535,T[R]=O<<16|M}return new s(T,T[T.length-1]&-2147483648?-1:0)};function y(P,A){return P.add(x(A))}e.j=function(P){if(m(this)||m(P))return h;if(_(this))return _(P)?x(this).j(x(P)):x(x(this).j(P));if(_(P))return x(this.j(x(P)));if(0>this.l(f)&&0>P.l(f))return u(this.m()*P.m());for(var A=this.g.length+P.g.length,T=[],I=0;I<2*A;I++)T[I]=0;for(I=0;I<this.g.length;I++)for(var R=0;R<P.g.length;R++){var M=this.i(I)>>>16,O=this.i(I)&65535,X=P.i(R)>>>16,Z=P.i(R)&65535;T[2*I+2*R]+=O*Z,v(T,2*I+2*R),T[2*I+2*R+1]+=M*Z,v(T,2*I+2*R+1),T[2*I+2*R+1]+=O*X,v(T,2*I+2*R+1),T[2*I+2*R+2]+=M*X,v(T,2*I+2*R+2)}for(I=0;I<A;I++)T[I]=T[2*I+1]<<16|T[2*I];for(I=A;I<2*A;I++)T[I]=0;return new s(T,0)};function v(P,A){for(;(P[A]&65535)!=P[A];)P[A+1]+=P[A]>>>16,P[A]&=65535,A++}function E(P,A){this.g=P,this.h=A}function D(P,A){if(m(A))throw Error("division by zero");if(m(P))return new E(h,h);if(_(P))return A=D(x(P),A),new E(x(A.g),x(A.h));if(_(A))return A=D(P,x(A)),new E(x(A.g),A.h);if(30<P.g.length){if(_(P)||_(A))throw Error("slowDivide_ only works with positive integers.");for(var T=p,I=A;0>=I.l(P);)T=F(T),I=F(I);var R=k(T,1),M=k(I,1);for(I=k(I,2),T=k(T,2);!m(I);){var O=M.add(I);0>=O.l(P)&&(R=R.add(T),M=O),I=k(I,1),T=k(T,1)}return A=y(P,R.j(A)),new E(R,A)}for(R=h;0<=P.l(A);){for(T=Math.max(1,Math.floor(P.m()/A.m())),I=Math.ceil(Math.log(T)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),M=u(T),O=M.j(A);_(O)||0<O.l(P);)T-=I,M=u(T),O=M.j(A);m(M)&&(M=p),R=R.add(M),P=y(P,O)}return new E(R,P)}e.A=function(P){return D(this,P).h},e.and=function(P){for(var A=Math.max(this.g.length,P.g.length),T=[],I=0;I<A;I++)T[I]=this.i(I)&P.i(I);return new s(T,this.h&P.h)},e.or=function(P){for(var A=Math.max(this.g.length,P.g.length),T=[],I=0;I<A;I++)T[I]=this.i(I)|P.i(I);return new s(T,this.h|P.h)},e.xor=function(P){for(var A=Math.max(this.g.length,P.g.length),T=[],I=0;I<A;I++)T[I]=this.i(I)^P.i(I);return new s(T,this.h^P.h)};function F(P){for(var A=P.g.length+1,T=[],I=0;I<A;I++)T[I]=P.i(I)<<1|P.i(I-1)>>>31;return new s(T,P.h)}function k(P,A){var T=A>>5;A%=32;for(var I=P.g.length-T,R=[],M=0;M<I;M++)R[M]=0<A?P.i(M+T)>>>A|P.i(M+T+1)<<32-A:P.i(M+T);return new s(R,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Yx=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,Ri=s}).apply(typeof TE<"u"?TE:typeof self<"u"?self:typeof window<"u"?window:{});var rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jx,za,Zx,Dc,Lm,e1,t1,n1;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,w){return c==Array.prototype||c==Object.prototype||(c[g]=w.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof rc=="object"&&rc];for(var g=0;g<c.length;++g){var w=c[g];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function i(c,g){if(g)e:{var w=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var V=c[b];if(!(V in w))break e;w=w[V]}c=c[c.length-1],b=w[c],g=g(b),g!=b&&g!=null&&t(w,c,{configurable:!0,writable:!0,value:g})}}function o(c,g){c instanceof String&&(c+="");var w=0,b=!1,V={next:function(){if(!b&&w<c.length){var $=w++;return{value:g($,c[$]),done:!1}}return b=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(c){return c||function(){return o(this,function(g,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function u(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function d(c,g,w){return c.call.apply(c.bind,arguments)}function h(c,g,w){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,b),c.apply(g,V)}}return function(){return c.apply(g,arguments)}}function p(c,g,w){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function f(c,g){var w=Array.prototype.slice.call(arguments,1);return function(){var b=w.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function m(c,g){function w(){}w.prototype=g.prototype,c.aa=g.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(b,V,$){for(var K=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)K[Ne-2]=arguments[Ne];return g.prototype[V].apply(b,K)}}function _(c){const g=c.length;if(0<g){const w=Array(g);for(let b=0;b<g;b++)w[b]=c[b];return w}return[]}function x(c,g){for(let w=1;w<arguments.length;w++){const b=arguments[w];if(l(b)){const V=c.length||0,$=b.length||0;c.length=V+$;for(let K=0;K<$;K++)c[V+K]=b[K]}else c.push(b)}}class y{constructor(g,w){this.i=g,this.j=w,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function v(c){return/^[\s\xa0]*$/.test(c)}function E(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function D(c){return D[" "](c),c}D[" "]=function(){};var F=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function k(c,g,w){for(const b in c)g.call(w,c[b],b,c)}function P(c,g){for(const w in c)g.call(void 0,c[w],w,c)}function A(c){const g={};for(const w in c)g[w]=c[w];return g}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,g){let w,b;for(let V=1;V<arguments.length;V++){b=arguments[V];for(w in b)c[w]=b[w];for(let $=0;$<T.length;$++)w=T[$],Object.prototype.hasOwnProperty.call(b,w)&&(c[w]=b[w])}}function R(c){var g=1;c=c.split(":");const w=[];for(;0<g&&c.length;)w.push(c.shift()),g--;return c.length&&w.push(c.join(":")),w}function M(c){a.setTimeout(()=>{throw c},0)}function O(){var c=q;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class X{constructor(){this.h=this.g=null}add(g,w){const b=Z.get();b.set(g,w),this.h?this.h.next=b:this.g=b,this.h=b}}var Z=new y(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(g,w){this.h=g,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let te,U=!1,q=new X,N=()=>{const c=a.Promise.resolve(void 0);te=()=>{c.then(le)}};var le=()=>{for(var c;c=O();){try{c.h.call(c.g)}catch(w){M(w)}var g=Z;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}U=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};a.addEventListener("test",w,g),a.removeEventListener("test",w,g)}catch{}return c}();function Be(c,g){if(L.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(F){e:{try{D(g.nodeName);var V=!0;break e}catch{}V=!1}V||(g=null)}}else w=="mouseover"?g=c.fromElement:w=="mouseout"&&(g=c.toElement);this.relatedTarget=g,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Re[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Be.aa.h.call(this)}}m(Be,L);var Re={2:"touch",3:"pen",4:"mouse"};Be.prototype.h=function(){Be.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),En=0;function Yn(c,g,w,b,V){this.listener=c,this.proxy=null,this.src=g,this.type=w,this.capture=!!b,this.ha=V,this.key=++En,this.da=this.fa=!1}function on(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Nn(c){this.src=c,this.g={},this.h=0}Nn.prototype.add=function(c,g,w,b,V){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var K=We(c,g,b,V);return-1<K?(g=c[K],w||(g.fa=!1)):(g=new Yn(g,this.src,$,!!b,V),g.fa=w,c.push(g)),g};function be(c,g){var w=g.type;if(w in c.g){var b=c.g[w],V=Array.prototype.indexOf.call(b,g,void 0),$;($=0<=V)&&Array.prototype.splice.call(b,V,1),$&&(on(g),c.g[w].length==0&&(delete c.g[w],c.h--))}}function We(c,g,w,b){for(var V=0;V<c.length;++V){var $=c[V];if(!$.da&&$.listener==g&&$.capture==!!w&&$.ha==b)return V}return-1}var xt="closure_lm_"+(1e6*Math.random()|0),Yr={};function la(c,g,w,b,V){if(Array.isArray(g)){for(var $=0;$<g.length;$++)la(c,g[$],w,b,V);return null}return w=Cu(w),c&&c[gt]?c.K(g,w,u(b)?!!b.capture:!!b,V):Eu(c,g,w,!1,b,V)}function Eu(c,g,w,b,V,$){if(!g)throw Error("Invalid event type");var K=u(V)?!!V.capture:!!V,Ne=ca(c);if(Ne||(c[xt]=Ne=new Nn(c)),w=Ne.add(g,w,b,K,$),w.proxy)return w;if(b=Zh(),w.proxy=b,b.src=c,b.listener=w,c.addEventListener)ve||(V=K),V===void 0&&(V=!1),c.addEventListener(g.toString(),b,V);else if(c.attachEvent)c.attachEvent(Su(g.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Zh(){function c(w){return g.call(c.src,c.listener,w)}const g=ef;return c}function ua(c,g,w,b,V){if(Array.isArray(g))for(var $=0;$<g.length;$++)ua(c,g[$],w,b,V);else b=u(b)?!!b.capture:!!b,w=Cu(w),c&&c[gt]?(c=c.i,g=String(g).toString(),g in c.g&&($=c.g[g],w=We($,w,b,V),-1<w&&(on($[w]),Array.prototype.splice.call($,w,1),$.length==0&&(delete c.g[g],c.h--)))):c&&(c=ca(c))&&(g=c.g[g.toString()],c=-1,g&&(c=We(g,w,b,V)),(w=-1<c?g[c]:null)&&zo(w))}function zo(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[gt])be(g.i,c);else{var w=c.type,b=c.proxy;g.removeEventListener?g.removeEventListener(w,b,c.capture):g.detachEvent?g.detachEvent(Su(w),b):g.addListener&&g.removeListener&&g.removeListener(b),(w=ca(g))?(be(w,c),w.h==0&&(w.src=null,g[xt]=null)):on(c)}}}function Su(c){return c in Yr?Yr[c]:Yr[c]="on"+c}function ef(c,g){if(c.da)c=!0;else{g=new Be(g,this);var w=c.listener,b=c.ha||c.src;c.fa&&zo(c),c=w.call(b,g)}return c}function ca(c){return c=c[xt],c instanceof Nn?c:null}var da="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cu(c){return typeof c=="function"?c:(c[da]||(c[da]=function(g){return c.handleEvent(g)}),c[da])}function j(){ue.call(this),this.i=new Nn(this),this.M=this,this.F=null}m(j,ue),j.prototype[gt]=!0,j.prototype.removeEventListener=function(c,g,w,b){ua(this,c,g,w,b)};function W(c,g){var w,b=c.F;if(b)for(w=[];b;b=b.F)w.push(b);if(c=c.M,b=g.type||g,typeof g=="string")g=new L(g,c);else if(g instanceof L)g.target=g.target||c;else{var V=g;g=new L(b,c),I(g,V)}if(V=!0,w)for(var $=w.length-1;0<=$;$--){var K=g.g=w[$];V=ie(K,b,!0,g)&&V}if(K=g.g=c,V=ie(K,b,!0,g)&&V,V=ie(K,b,!1,g)&&V,w)for($=0;$<w.length;$++)K=g.g=w[$],V=ie(K,b,!1,g)&&V}j.prototype.N=function(){if(j.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var w=c.g[g],b=0;b<w.length;b++)on(w[b]);delete c.g[g],c.h--}}this.F=null},j.prototype.K=function(c,g,w,b){return this.i.add(String(c),g,!1,w,b)},j.prototype.L=function(c,g,w,b){return this.i.add(String(c),g,!0,w,b)};function ie(c,g,w,b){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var V=!0,$=0;$<g.length;++$){var K=g[$];if(K&&!K.da&&K.capture==w){var Ne=K.listener,yt=K.ha||K.src;K.fa&&be(c.i,K),V=Ne.call(yt,b)!==!1&&V}}return V&&!b.defaultPrevented}function me(c,g,w){if(typeof c=="function")w&&(c=p(c,w));else if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(c,g||0)}function ke(c){c.g=me(()=>{c.g=null,c.i&&(c.i=!1,ke(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class sn extends ue{constructor(g,w){super(),this.m=g,this.l=w,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ke(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function an(c){ue.call(this),this.h=c,this.g={}}m(an,ue);var Sn=[];function Jr(c){k(c.g,function(g,w){this.g.hasOwnProperty(w)&&zo(g)},c),c.g={}}an.prototype.N=function(){an.aa.N.call(this),Jr(this)},an.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _r=a.JSON.stringify,jt=a.JSON.parse,Zr=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function ln(){}ln.prototype.h=null;function l_(c){return c.h||(c.h=c.i())}function u_(){}var ha={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tf(){L.call(this,"d")}m(tf,L);function nf(){L.call(this,"c")}m(nf,L);var Yi={},c_=null;function Iu(){return c_=c_||new j}Yi.La="serverreachability";function d_(c){L.call(this,Yi.La,c)}m(d_,L);function fa(c){const g=Iu();W(g,new d_(g))}Yi.STAT_EVENT="statevent";function h_(c,g){L.call(this,Yi.STAT_EVENT,c),this.stat=g}m(h_,L);function Bt(c){const g=Iu();W(g,new h_(g,c))}Yi.Ma="timingevent";function f_(c,g){L.call(this,Yi.Ma,c),this.size=g}m(f_,L);function pa(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},g)}function ma(){this.g=!0}ma.prototype.xa=function(){this.g=!1};function jR(c,g,w,b,V,$){c.info(function(){if(c.g)if($)for(var K="",Ne=$.split("&"),yt=0;yt<Ne.length;yt++){var Pe=Ne[yt].split("=");if(1<Pe.length){var At=Pe[0];Pe=Pe[1];var Tt=At.split("_");K=2<=Tt.length&&Tt[1]=="type"?K+(At+"="+Pe+"&"):K+(At+"=redacted&")}}else K=null;else K=$;return"XMLHTTP REQ ("+b+") [attempt "+V+"]: "+g+`
`+w+`
`+K})}function BR(c,g,w,b,V,$,K){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+V+"]: "+g+`
`+w+`
`+$+" "+K})}function Wo(c,g,w,b){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+WR(c,w)+(b?" "+b:"")})}function zR(c,g){c.info(function(){return"TIMEOUT: "+g})}ma.prototype.info=function(){};function WR(c,g){if(!c.g)return g;if(!g)return null;try{var w=JSON.parse(g);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var b=w[c];if(!(2>b.length)){var V=b[1];if(Array.isArray(V)&&!(1>V.length)){var $=V[0];if($!="noop"&&$!="stop"&&$!="close")for(var K=1;K<V.length;K++)V[K]=""}}}}return _r(w)}catch{return g}}var xu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},p_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rf;function Au(){}m(Au,ln),Au.prototype.g=function(){return new XMLHttpRequest},Au.prototype.i=function(){return{}},rf=new Au;function ei(c,g,w,b){this.j=c,this.i=g,this.l=w,this.R=b||1,this.U=new an(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new m_}function m_(){this.i=null,this.g="",this.h=!1}var g_={},of={};function sf(c,g,w){c.L=1,c.v=bu(wr(g)),c.m=w,c.P=!0,y_(c,null)}function y_(c,g){c.F=Date.now(),Tu(c),c.A=wr(c.v);var w=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),k_(w.i,"t",b),c.C=0,w=c.j.J,c.h=new m_,c.g=Q_(c.j,w?g:null,!c.m),0<c.O&&(c.M=new sn(p(c.Y,c,c.g),c.O)),g=c.U,w=c.g,b=c.ca;var V="readystatechange";Array.isArray(V)||(V&&(Sn[0]=V.toString()),V=Sn);for(var $=0;$<V.length;$++){var K=la(w,V[$],b||g.handleEvent,!1,g.h||g);if(!K)break;g.g[K.key]=K}g=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),fa(),jR(c.i,c.u,c.A,c.l,c.R,c.m)}ei.prototype.ca=function(c){c=c.target;const g=this.M;g&&Er(c)==3?g.j():this.Y(c)},ei.prototype.Y=function(c){try{if(c==this.g)e:{const Tt=Er(this.g);var g=this.g.Ba();const qo=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||V_(this.g)))){this.J||Tt!=4||g==7||(g==8||0>=qo?fa(3):fa(2)),af(this);var w=this.g.Z();this.X=w;t:if(v_(this)){var b=V_(this.g);c="";var V=b.length,$=Er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ji(this),ga(this);var K="";break t}this.h.i=new a.TextDecoder}for(g=0;g<V;g++)this.h.h=!0,c+=this.h.i.decode(b[g],{stream:!($&&g==V-1)});b.length=0,this.h.g+=c,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=w==200,BR(this.i,this.u,this.A,this.l,this.R,Tt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Ne,yt=this.g;if((Ne=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Ne)){var Pe=Ne;break t}}Pe=null}if(w=Pe)Wo(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lf(this,w);else{this.o=!1,this.s=3,Bt(12),Ji(this),ga(this);break e}}if(this.P){w=!0;let Ln;for(;!this.J&&this.C<K.length;)if(Ln=HR(this,K),Ln==of){Tt==4&&(this.s=4,Bt(14),w=!1),Wo(this.i,this.l,null,"[Incomplete Response]");break}else if(Ln==g_){this.s=4,Bt(15),Wo(this.i,this.l,K,"[Invalid Chunk]"),w=!1;break}else Wo(this.i,this.l,Ln,null),lf(this,Ln);if(v_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||K.length!=0||this.h.h||(this.s=1,Bt(16),w=!1),this.o=this.o&&w,!w)Wo(this.i,this.l,K,"[Invalid Chunked Response]"),Ji(this),ga(this);else if(0<K.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),pf(At),At.M=!0,Bt(11))}}else Wo(this.i,this.l,K,null),lf(this,K);Tt==4&&Ji(this),this.o&&!this.J&&(Tt==4?H_(this.j,this):(this.o=!1,Tu(this)))}else lb(this.g),w==400&&0<K.indexOf("Unknown SID")?(this.s=3,Bt(12)):(this.s=0,Bt(13)),Ji(this),ga(this)}}}catch{}finally{}};function v_(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function HR(c,g){var w=c.C,b=g.indexOf(`
`,w);return b==-1?of:(w=Number(g.substring(w,b)),isNaN(w)?g_:(b+=1,b+w>g.length?of:(g=g.slice(b,b+w),c.C=b+w,g)))}ei.prototype.cancel=function(){this.J=!0,Ji(this)};function Tu(c){c.S=Date.now()+c.I,__(c,c.I)}function __(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pa(p(c.ba,c),g)}function af(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ei.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(zR(this.i,this.A),this.L!=2&&(fa(),Bt(17)),Ji(this),this.s=2,ga(this)):__(this,this.S-c)};function ga(c){c.j.G==0||c.J||H_(c.j,c)}function Ji(c){af(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Jr(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function lf(c,g){try{var w=c.j;if(w.G!=0&&(w.g==c||uf(w.h,c))){if(!c.K&&uf(w.h,c)&&w.G==3){try{var b=w.Da.g.parse(g)}catch{b=null}if(Array.isArray(b)&&b.length==3){var V=b;if(V[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)Mu(w),Nu(w);else break e;ff(w),Bt(18)}}else w.za=V[1],0<w.za-w.T&&37500>V[2]&&w.F&&w.v==0&&!w.C&&(w.C=pa(p(w.Za,w),6e3));if(1>=S_(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else eo(w,11)}else if((c.K||w.g==c)&&Mu(w),!v(g))for(V=w.Da.g.parse(g),g=0;g<V.length;g++){let Pe=V[g];if(w.T=Pe[0],Pe=Pe[1],w.G==2)if(Pe[0]=="c"){w.K=Pe[1],w.ia=Pe[2];const At=Pe[3];At!=null&&(w.la=At,w.j.info("VER="+w.la));const Tt=Pe[4];Tt!=null&&(w.Aa=Tt,w.j.info("SVER="+w.Aa));const qo=Pe[5];qo!=null&&typeof qo=="number"&&0<qo&&(b=1.5*qo,w.L=b,w.j.info("backChannelRequestTimeoutMs_="+b)),b=w;const Ln=c.g;if(Ln){const Vu=Ln.g?Ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vu){var $=b.h;$.g||Vu.indexOf("spdy")==-1&&Vu.indexOf("quic")==-1&&Vu.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(cf($,$.h),$.h=null))}if(b.D){const mf=Ln.g?Ln.g.getResponseHeader("X-HTTP-Session-Id"):null;mf&&(b.ya=mf,Ve(b.I,b.D,mf))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),b=w;var K=c;if(b.qa=K_(b,b.J?b.ia:null,b.W),K.K){C_(b.h,K);var Ne=K,yt=b.L;yt&&(Ne.I=yt),Ne.B&&(af(Ne),Tu(Ne)),b.g=K}else z_(b);0<w.i.length&&Lu(w)}else Pe[0]!="stop"&&Pe[0]!="close"||eo(w,7);else w.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?eo(w,7):hf(w):Pe[0]!="noop"&&w.l&&w.l.ta(Pe),w.v=0)}}fa(4)}catch{}}var GR=class{constructor(c,g){this.g=c,this.map=g}};function w_(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function E_(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function S_(c){return c.h?1:c.g?c.g.size:0}function uf(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function cf(c,g){c.g?c.g.add(g):c.h=g}function C_(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}w_.prototype.cancel=function(){if(this.i=I_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function I_(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const w of c.g.values())g=g.concat(w.D);return g}return _(c.i)}function qR(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var g=[],w=c.length,b=0;b<w;b++)g.push(c[b]);return g}g=[],w=0;for(b in c)g[w++]=c[b];return g}function KR(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var g=[];c=c.length;for(var w=0;w<c;w++)g.push(w);return g}g=[],w=0;for(const b in c)g[w++]=b;return g}}}function x_(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var w=KR(c),b=qR(c),V=b.length,$=0;$<V;$++)g.call(void 0,b[$],w&&w[$],c)}var A_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function QR(c,g){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var b=c[w].indexOf("="),V=null;if(0<=b){var $=c[w].substring(0,b);V=c[w].substring(b+1)}else $=c[w];g($,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Zi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Zi){this.h=c.h,Pu(this,c.j),this.o=c.o,this.g=c.g,Ru(this,c.s),this.l=c.l;var g=c.i,w=new _a;w.i=g.i,g.g&&(w.g=new Map(g.g),w.h=g.h),T_(this,w),this.m=c.m}else c&&(g=String(c).match(A_))?(this.h=!1,Pu(this,g[1]||"",!0),this.o=ya(g[2]||""),this.g=ya(g[3]||"",!0),Ru(this,g[4]),this.l=ya(g[5]||"",!0),T_(this,g[6]||"",!0),this.m=ya(g[7]||"")):(this.h=!1,this.i=new _a(null,this.h))}Zi.prototype.toString=function(){var c=[],g=this.j;g&&c.push(va(g,P_,!0),":");var w=this.g;return(w||g=="file")&&(c.push("//"),(g=this.o)&&c.push(va(g,P_,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(va(w,w.charAt(0)=="/"?JR:YR,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",va(w,eb)),c.join("")};function wr(c){return new Zi(c)}function Pu(c,g,w){c.j=w?ya(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Ru(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function T_(c,g,w){g instanceof _a?(c.i=g,tb(c.i,c.h)):(w||(g=va(g,ZR)),c.i=new _a(g,c.h))}function Ve(c,g,w){c.i.set(g,w)}function bu(c){return Ve(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ya(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function va(c,g,w){return typeof c=="string"?(c=encodeURI(c).replace(g,XR),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function XR(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var P_=/[#\/\?@]/g,YR=/[#\?:]/g,JR=/[#\?]/g,ZR=/[#\?@]/g,eb=/#/g;function _a(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function ti(c){c.g||(c.g=new Map,c.h=0,c.i&&QR(c.i,function(g,w){c.add(decodeURIComponent(g.replace(/\+/g," ")),w)}))}e=_a.prototype,e.add=function(c,g){ti(this),this.i=null,c=Ho(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(g),this.h+=1,this};function R_(c,g){ti(c),g=Ho(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function b_(c,g){return ti(c),g=Ho(c,g),c.g.has(g)}e.forEach=function(c,g){ti(this),this.g.forEach(function(w,b){w.forEach(function(V){c.call(g,V,b,this)},this)},this)},e.na=function(){ti(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),w=[];for(let b=0;b<g.length;b++){const V=c[b];for(let $=0;$<V.length;$++)w.push(g[b])}return w},e.V=function(c){ti(this);let g=[];if(typeof c=="string")b_(this,c)&&(g=g.concat(this.g.get(Ho(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)g=g.concat(c[w])}return g},e.set=function(c,g){return ti(this),this.i=null,c=Ho(this,c),b_(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},e.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function k_(c,g,w){R_(c,g),0<w.length&&(c.i=null,c.g.set(Ho(c,g),_(w)),c.h+=w.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var w=0;w<g.length;w++){var b=g[w];const $=encodeURIComponent(String(b)),K=this.V(b);for(b=0;b<K.length;b++){var V=$;K[b]!==""&&(V+="="+encodeURIComponent(String(K[b]))),c.push(V)}}return this.i=c.join("&")};function Ho(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function tb(c,g){g&&!c.j&&(ti(c),c.i=null,c.g.forEach(function(w,b){var V=b.toLowerCase();b!=V&&(R_(this,b),k_(this,V,w))},c)),c.j=g}function nb(c,g){const w=new ma;if(a.Image){const b=new Image;b.onload=f(ni,w,"TestLoadImage: loaded",!0,g,b),b.onerror=f(ni,w,"TestLoadImage: error",!1,g,b),b.onabort=f(ni,w,"TestLoadImage: abort",!1,g,b),b.ontimeout=f(ni,w,"TestLoadImage: timeout",!1,g,b),a.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else g(!1)}function rb(c,g){const w=new ma,b=new AbortController,V=setTimeout(()=>{b.abort(),ni(w,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:b.signal}).then($=>{clearTimeout(V),$.ok?ni(w,"TestPingServer: ok",!0,g):ni(w,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(V),ni(w,"TestPingServer: error",!1,g)})}function ni(c,g,w,b,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),b(w)}catch{}}function ib(){this.g=new Zr}function ob(c,g,w){const b=w||"";try{x_(c,function(V,$){let K=V;u(V)&&(K=_r(V)),g.push(b+$+"="+encodeURIComponent(K))})}catch(V){throw g.push(b+"type="+encodeURIComponent("_badmap")),V}}function ku(c){this.l=c.Ub||null,this.j=c.eb||!1}m(ku,ln),ku.prototype.g=function(){return new Du(this.l,this.j)},ku.prototype.i=function(c){return function(){return c}}({});function Du(c,g){j.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(Du,j),e=Du.prototype,e.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Ea(this)},e.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wa(this)),this.readyState=0},e.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ea(this)),this.g&&(this.readyState=3,Ea(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;D_(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function D_(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}e.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?wa(this):Ea(this),this.readyState==3&&D_(this)}},e.Ra=function(c){this.g&&(this.response=this.responseText=c,wa(this))},e.Qa=function(c){this.g&&(this.response=c,wa(this))},e.ga=function(){this.g&&wa(this)};function wa(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ea(c)}e.setRequestHeader=function(c,g){this.u.append(c,g)},e.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var w=g.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=g.next();return c.join(`\r
`)};function Ea(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Du.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function O_(c){let g="";return k(c,function(w,b){g+=b,g+=":",g+=w,g+=`\r
`}),g}function df(c,g,w){e:{for(b in w){var b=!1;break e}b=!0}b||(w=O_(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):Ve(c,g,w))}function Ye(c){j.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(Ye,j);var sb=/^https?$/i,ab=["POST","PUT"];e=Ye.prototype,e.Ha=function(c){this.J=c},e.ea=function(c,g,w,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rf.g(),this.v=this.o?l_(this.o):l_(rf),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch($){N_(this,$);return}if(c=w||"",w=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var V in b)w.set(V,b[V]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const $ of b.keys())w.set($,b.get($));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(w.keys()).find($=>$.toLowerCase()=="content-type"),V=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ab,g,void 0))||b||V||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,K]of w)this.g.setRequestHeader($,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{F_(this),this.u=!0,this.g.send(c),this.u=!1}catch($){N_(this,$)}};function N_(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,L_(c),Ou(c)}function L_(c){c.A||(c.A=!0,W(c,"complete"),W(c,"error"))}e.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,W(this,"complete"),W(this,"abort"),Ou(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ou(this,!0)),Ye.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?M_(this):this.bb())},e.bb=function(){M_(this)};function M_(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Er(c)!=4||c.Z()!=2)){if(c.u&&Er(c)==4)me(c.Ea,0,c);else if(W(c,"readystatechange"),Er(c)==4){c.h=!1;try{const K=c.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var w;if(!(w=g)){var b;if(b=K===0){var V=String(c.D).match(A_)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),b=!sb.test(V?V.toLowerCase():"")}w=b}if(w)W(c,"complete"),W(c,"success");else{c.m=6;try{var $=2<Er(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",L_(c)}}finally{Ou(c)}}}}function Ou(c,g){if(c.g){F_(c);const w=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||W(c,"ready");try{w.onreadystatechange=b}catch{}}}function F_(c){c.I&&(a.clearTimeout(c.I),c.I=null)}e.isActive=function(){return!!this.g};function Er(c){return c.g?c.g.readyState:0}e.Z=function(){try{return 2<Er(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),jt(g)}};function V_(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function lb(c){const g={};c=(c.g&&2<=Er(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(v(c[b]))continue;var w=R(c[b]);const V=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const $=g[V]||[];g[V]=$,$.push(w)}P(g,function(b){return b.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sa(c,g,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||g}function U_(c){this.Aa=0,this.i=[],this.j=new ma,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Sa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Sa("baseRetryDelayMs",5e3,c),this.cb=Sa("retryDelaySeedMs",1e4,c),this.Wa=Sa("forwardChannelMaxRetries",2,c),this.wa=Sa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new w_(c&&c.concurrentRequestLimit),this.Da=new ib,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=U_.prototype,e.la=8,e.G=1,e.connect=function(c,g,w,b){Bt(0),this.W=c,this.H=g||{},w&&b!==void 0&&(this.H.OSID=w,this.H.OAID=b),this.F=this.X,this.I=K_(this,null,this.W),Lu(this)};function hf(c){if($_(c),c.G==3){var g=c.U++,w=wr(c.I);if(Ve(w,"SID",c.K),Ve(w,"RID",g),Ve(w,"TYPE","terminate"),Ca(c,w),g=new ei(c,c.j,g),g.L=2,g.v=bu(wr(w)),w=!1,a.navigator&&a.navigator.sendBeacon)try{w=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!w&&a.Image&&(new Image().src=g.v,w=!0),w||(g.g=Q_(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Tu(g)}q_(c)}function Nu(c){c.g&&(pf(c),c.g.cancel(),c.g=null)}function $_(c){Nu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Mu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Lu(c){if(!E_(c.h)&&!c.s){c.s=!0;var g=c.Ga;te||N(),U||(te(),U=!0),q.add(g,c),c.B=0}}function ub(c,g){return S_(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pa(p(c.Ga,c,g),G_(c,c.B)),c.B++,!0)}e.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const V=new ei(this,this.j,c);let $=this.o;if(this.S&&($?($=A($),I($,this.S)):$=this.S),this.m!==null||this.O||(V.H=$,$=null),this.P)e:{for(var g=0,w=0;w<this.i.length;w++){t:{var b=this.i[w];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(g+=b,4096<g){g=w;break e}if(g===4096||w===this.i.length-1){g=w+1;break e}}g=1e3}else g=1e3;g=B_(this,V,g),w=wr(this.I),Ve(w,"RID",c),Ve(w,"CVER",22),this.D&&Ve(w,"X-HTTP-Session-Id",this.D),Ca(this,w),$&&(this.O?g="headers="+encodeURIComponent(String(O_($)))+"&"+g:this.m&&df(w,this.m,$)),cf(this.h,V),this.Ua&&Ve(w,"TYPE","init"),this.P?(Ve(w,"$req",g),Ve(w,"SID","null"),V.T=!0,sf(V,w,null)):sf(V,w,g),this.G=2}}else this.G==3&&(c?j_(this,c):this.i.length==0||E_(this.h)||j_(this))};function j_(c,g){var w;g?w=g.l:w=c.U++;const b=wr(c.I);Ve(b,"SID",c.K),Ve(b,"RID",w),Ve(b,"AID",c.T),Ca(c,b),c.m&&c.o&&df(b,c.m,c.o),w=new ei(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),g&&(c.i=g.D.concat(c.i)),g=B_(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),cf(c.h,w),sf(w,b,g)}function Ca(c,g){c.H&&k(c.H,function(w,b){Ve(g,b,w)}),c.l&&x_({},function(w,b){Ve(g,b,w)})}function B_(c,g,w){w=Math.min(c.i.length,w);var b=c.l?p(c.l.Na,c.l,c):null;e:{var V=c.i;let $=-1;for(;;){const K=["count="+w];$==-1?0<w?($=V[0].g,K.push("ofs="+$)):$=0:K.push("ofs="+$);let Ne=!0;for(let yt=0;yt<w;yt++){let Pe=V[yt].g;const At=V[yt].map;if(Pe-=$,0>Pe)$=Math.max(0,V[yt].g-100),Ne=!1;else try{ob(At,K,"req"+Pe+"_")}catch{b&&b(At)}}if(Ne){b=K.join("&");break e}}}return c=c.i.splice(0,w),g.D=c,b}function z_(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;te||N(),U||(te(),U=!0),q.add(g,c),c.v=0}}function ff(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pa(p(c.Fa,c),G_(c,c.v)),c.v++,!0)}e.Fa=function(){if(this.u=null,W_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pa(p(this.ab,this),c)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Bt(10),Nu(this),W_(this))};function pf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function W_(c){c.g=new ei(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=wr(c.qa);Ve(g,"RID","rpc"),Ve(g,"SID",c.K),Ve(g,"AID",c.T),Ve(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ve(g,"TO",c.ja),Ve(g,"TYPE","xmlhttp"),Ca(c,g),c.m&&c.o&&df(g,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=bu(wr(g)),w.m=null,w.P=!0,y_(w,c)}e.Za=function(){this.C!=null&&(this.C=null,Nu(this),ff(this),Bt(19))};function Mu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function H_(c,g){var w=null;if(c.g==g){Mu(c),pf(c),c.g=null;var b=2}else if(uf(c.h,g))w=g.D,C_(c.h,g),b=1;else return;if(c.G!=0){if(g.o)if(b==1){w=g.m?g.m.length:0,g=Date.now()-g.F;var V=c.B;b=Iu(),W(b,new f_(b,w)),Lu(c)}else z_(c);else if(V=g.s,V==3||V==0&&0<g.X||!(b==1&&ub(c,g)||b==2&&ff(c)))switch(w&&0<w.length&&(g=c.h,g.i=g.i.concat(w)),V){case 1:eo(c,5);break;case 4:eo(c,10);break;case 3:eo(c,6);break;default:eo(c,2)}}}function G_(c,g){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*g}function eo(c,g){if(c.j.info("Error code "+g),g==2){var w=p(c.fb,c),b=c.Xa;const V=!b;b=new Zi(b||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Pu(b,"https"),bu(b),V?nb(b.toString(),w):rb(b.toString(),w)}else Bt(2);c.G=0,c.l&&c.l.sa(g),q_(c),$_(c)}e.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function q_(c){if(c.G=0,c.ka=[],c.l){const g=I_(c.h);(g.length!=0||c.i.length!=0)&&(x(c.ka,g),x(c.ka,c.i),c.h.i.length=0,_(c.i),c.i.length=0),c.l.ra()}}function K_(c,g,w){var b=w instanceof Zi?wr(w):new Zi(w);if(b.g!="")g&&(b.g=g+"."+b.g),Ru(b,b.s);else{var V=a.location;b=V.protocol,g=g?g+"."+V.hostname:V.hostname,V=+V.port;var $=new Zi(null);b&&Pu($,b),g&&($.g=g),V&&Ru($,V),w&&($.l=w),b=$}return w=c.D,g=c.ya,w&&g&&Ve(b,w,g),Ve(b,"VER",c.la),Ca(c,b),b}function Q_(c,g,w){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Ye(new ku({eb:w})):new Ye(c.pa),g.Ha(c.J),g}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function X_(){}e=X_.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Fu(){}Fu.prototype.g=function(c,g){return new un(c,g)};function un(c,g){j.call(this),this.g=new U_(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!v(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!v(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Go(this)}m(un,j),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){hf(this.g)},un.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=_r(c),c=w);g.i.push(new GR(g.Ya++,c)),g.G==3&&Lu(g)},un.prototype.N=function(){this.g.l=null,delete this.j,hf(this.g),delete this.g,un.aa.N.call(this)};function Y_(c){tf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const w in g){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}m(Y_,tf);function J_(){nf.call(this),this.status=1}m(J_,nf);function Go(c){this.g=c}m(Go,X_),Go.prototype.ua=function(){W(this.g,"a")},Go.prototype.ta=function(c){W(this.g,new Y_(c))},Go.prototype.sa=function(c){W(this.g,new J_)},Go.prototype.ra=function(){W(this.g,"b")},Fu.prototype.createWebChannel=Fu.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,n1=function(){return new Fu},t1=function(){return Iu()},e1=Yi,Lm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xu.NO_ERROR=0,xu.TIMEOUT=8,xu.HTTP_ERROR=6,Dc=xu,p_.COMPLETE="complete",Zx=p_,u_.EventType=ha,ha.OPEN="a",ha.CLOSE="b",ha.ERROR="c",ha.MESSAGE="d",j.prototype.listen=j.prototype.K,za=u_,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,Jx=Ye}).apply(typeof rc<"u"?rc:typeof self<"u"?self:typeof window<"u"?window:{});const PE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ys="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=new Iy("@firebase/firestore");function Xo(){return Io.logLevel}function Q(e,...t){if(Io.logLevel<=_e.DEBUG){const n=t.map(Ty);Io.debug(`Firestore (${Ys}): ${e}`,...n)}}function $r(e,...t){if(Io.logLevel<=_e.ERROR){const n=t.map(Ty);Io.error(`Firestore (${Ys}): ${e}`,...n)}}function Ls(e,...t){if(Io.logLevel<=_e.WARN){const n=t.map(Ty);Io.warn(`Firestore (${Ys}): ${e}`,...n)}}function Ty(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(e="Unexpected state"){const t=`FIRESTORE (${Ys}) INTERNAL ASSERTION FAILED: `+e;throw $r(t),new Error(t)}function De(e,t){e||de()}function fe(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends qr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class XL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Dt.UNAUTHENTICATED))}shutdown(){}}class YL{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class JL{constructor(t){this.t=t,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){De(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Or;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Or,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Or)}},0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string"),new r1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return De(t===null||typeof t=="string"),new Dt(t)}}class ZL{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class eM{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new ZL(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tM{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nM{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){De(this.o===void 0);const r=o=>{o.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>r(o))};const i=o=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(De(typeof n.token=="string"),this.R=n.token,new tM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=rM(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%t.length))}return r}}function Ee(e,t){return e<t?-1:e>t?1:0}function Ms(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(t){return ut.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new ut(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new J(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new J(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new J(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ee(this.nanoseconds,t.nanoseconds):Ee(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{static fromTimestamp(t){return new he(t)}static min(){return new he(new ut(0,0))}static max(){return new he(new ut(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(t,n,r){n===void 0?n=0:n>t.length&&de(),r===void 0?r=t.length-n:r>t.length-n&&de(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return nr.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof nr?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const o=nr.compareSegments(t.get(i),n.get(i));if(o!==0)return o}return Math.sign(t.length-n.length)}static compareSegments(t,n){const r=nr.isNumericId(t),i=nr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?nr.extractNumericId(t).compare(nr.extractNumericId(n)):t<n?-1:t>n?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ri.fromString(t.substring(4,t.length-2))}}class $e extends nr{construct(t,n,r){return new $e(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new J(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new $e(n)}static emptyPath(){return new $e([])}}const iM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Et extends nr{construct(t,n,r){return new Et(t,n,r)}static isValidIdentifier(t){return iM.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Et.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Et(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new J(z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new J(z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new J(z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Et(n)}static emptyPath(){return new Et([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(t){this.path=t}static fromPath(t){return new ee($e.fromString(t))}static fromName(t){return new ee($e.fromString(t).popFirst(5))}static empty(){return new ee($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&$e.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return $e.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ee(new $e(t.slice()))}}function oM(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=he.fromTimestamp(r===1e9?new ut(n+1,0):new ut(n,r));return new Ni(i,ee.empty(),t)}function sM(e){return new Ni(e.readTime,e.key,-1)}class Ni{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Ni(he.min(),ee.empty(),-1)}static max(){return new Ni(he.max(),ee.empty(),-1)}}function aM(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=ee.comparator(e.documentKey,t.documentKey),n!==0?n:Ee(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Js(e){if(e.code!==z.FAILED_PRECONDITION||e.message!==lM)throw e;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&de(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new B((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):B.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):B.reject(n)}static resolve(t){return new B((n,r)=>{n(t)})}static reject(t){return new B((n,r)=>{r(t)})}static waitFor(t){return new B((n,r)=>{let i=0,o=0,s=!1;t.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(t){let n=B.resolve(!1);for(const r of t)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(t,n){return new B((r,i)=>{const o=t.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(t[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(t,n){return new B((r,i)=>{const o=()=>{t()===!0?n().next(()=>{o()},i):r()};o()})}}function cM(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Zs(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}hh.oe=-1;function fh(e){return e==null}function wd(e){return e===0&&1/e==-1/0}function dM(e){return typeof e=="number"&&Number.isInteger(e)&&!wd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=RE(t)),t=fM(e.get(n),t);return RE(t)}function fM(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const o=e.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function RE(e){return e+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Gi(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function o1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,n){this.comparator=t,this.root=n||wt.EMPTY}insert(t,n){return new Xe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,wt.BLACK,null,null))}remove(t){return new Xe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,wt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ic(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ic(this.root,t,this.comparator,!1)}getReverseIterator(){return new ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ic(this.root,t,this.comparator,!0)}}class ic{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?r(t.key,n):1,n&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class wt{constructor(t,n,r,i,o){this.key=t,this.value=n,this.color=r??wt.RED,this.left=i??wt.EMPTY,this.right=o??wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,o){return new wt(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const o=r(t,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return wt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw de();const t=this.left.check();if(t!==this.right.check())throw de();return t+(this.isRed()?0:1)}}wt.EMPTY=null,wt.RED=!0,wt.BLACK=!1;wt.EMPTY=new class{constructor(){this.size=0}get key(){throw de()}get value(){throw de()}get color(){throw de()}get left(){throw de()}get right(){throw de()}copy(t,n,r,i,o){return this}insert(t,n,r){return new wt(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(t){this.comparator=t,this.data=new Xe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new kE(this.data.getIterator())}getIteratorFrom(t){return new kE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof ct)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ct(this.comparator);return n.data=t,n}}class kE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.fields=t,t.sort(Et.comparator)}static empty(){return new fn([])}unionWith(t){let n=new ct(Et.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new fn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ms(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new s1("Invalid base64 string: "+o):o}}(t);return new It(n)}static fromUint8Array(t){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(t);return new It(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ee(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}It.EMPTY_BYTE_STRING=new It("");const pM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Li(e){if(De(!!e),typeof e=="string"){let t=0;const n=pM.exec(e);if(De(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ze(e.seconds),nanos:Ze(e.nanos)}}function Ze(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Mi(e){return typeof e=="string"?It.fromBase64String(e):It.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ph(e){const t=e.mapValue.fields.__previous_value__;return Py(t)?ph(t):t}function kl(e){const t=Li(e.mapValue.fields.__local_write_time__.timestampValue);return new ut(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(t,n,r,i,o,s,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Dl{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Dl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Py(e)?4:yM(e)?9007199254740991:gM(e)?10:11:de()}function pr(e,t){if(e===t)return!0;const n=Fi(e);if(n!==Fi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return kl(e).isEqual(kl(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Li(i.timestampValue),a=Li(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return Mi(i.bytesValue).isEqual(Mi(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return Ze(i.geoPointValue.latitude)===Ze(o.geoPointValue.latitude)&&Ze(i.geoPointValue.longitude)===Ze(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ze(i.integerValue)===Ze(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Ze(i.doubleValue),a=Ze(o.doubleValue);return s===a?wd(s)===wd(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return Ms(e.arrayValue.values||[],t.arrayValue.values||[],pr);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(bE(s)!==bE(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!pr(s[l],a[l])))return!1;return!0}(e,t);default:return de()}}function Ol(e,t){return(e.values||[]).find(n=>pr(n,t))!==void 0}function Fs(e,t){if(e===t)return 0;const n=Fi(e),r=Fi(t);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(e.booleanValue,t.booleanValue);case 2:return function(o,s){const a=Ze(o.integerValue||o.doubleValue),l=Ze(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return DE(e.timestampValue,t.timestampValue);case 4:return DE(kl(e),kl(t));case 5:return Ee(e.stringValue,t.stringValue);case 6:return function(o,s){const a=Mi(o),l=Mi(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=Ee(a[u],l[u]);if(d!==0)return d}return Ee(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){const a=Ee(Ze(o.latitude),Ze(s.latitude));return a!==0?a:Ee(Ze(o.longitude),Ze(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return OE(e.arrayValue,t.arrayValue);case 10:return function(o,s){var a,l,u,d;const h=o.fields||{},p=s.fields||{},f=(a=h.value)===null||a===void 0?void 0:a.arrayValue,m=(l=p.value)===null||l===void 0?void 0:l.arrayValue,_=Ee(((u=f==null?void 0:f.values)===null||u===void 0?void 0:u.length)||0,((d=m==null?void 0:m.values)===null||d===void 0?void 0:d.length)||0);return _!==0?_:OE(f,m)}(e.mapValue,t.mapValue);case 11:return function(o,s){if(o===oc.mapValue&&s===oc.mapValue)return 0;if(o===oc.mapValue)return 1;if(s===oc.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=Ee(l[h],d[h]);if(p!==0)return p;const f=Fs(a[l[h]],u[d[h]]);if(f!==0)return f}return Ee(l.length,d.length)}(e.mapValue,t.mapValue);default:throw de()}}function DE(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ee(e,t);const n=Li(e),r=Li(t),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function OE(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Fs(n[i],r[i]);if(o)return o}return Ee(n.length,r.length)}function Vs(e){return Mm(e)}function Mm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Li(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Mi(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return ee.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Mm(o);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Mm(n.fields[s])}`;return i+"}"}(e.mapValue):de()}function Oc(e){switch(Fi(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ph(e);return t?16+Oc(t):16;case 5:return 2*e.stringValue.length;case 6:return Mi(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Oc(o),0)}(e.arrayValue);case 10:case 11:return function(r){let i=0;return Gi(r.fields,(o,s)=>{i+=o.length+Oc(s)}),i}(e.mapValue);default:throw de()}}function NE(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Fm(e){return!!e&&"integerValue"in e}function Ry(e){return!!e&&"arrayValue"in e}function LE(e){return!!e&&"nullValue"in e}function ME(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Nc(e){return!!e&&"mapValue"in e}function gM(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function nl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Gi(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=nl(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=nl(e.arrayValue.values[n]);return t}return Object.assign({},e)}function yM(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(t){this.value=t}static empty(){return new Jt({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Nc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=nl(n)}setAll(t){let n=Et.emptyPath(),r={},i=[];t.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=nl(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(t){const n=this.field(t.popLast());Nc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return pr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Nc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Gi(n,(i,o)=>t[i]=o);for(const i of r)delete t[i]}clone(){return new Jt(nl(this.value))}}function a1(e){const t=[];return Gi(e.fields,(n,r)=>{const i=new Et([n]);if(Nc(r)){const o=a1(r.mapValue).fields;if(o.length===0)t.push(i);else for(const s of o)t.push(i.child(s))}else t.push(i)}),new fn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(t,n,r,i,o,s,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new Nt(t,0,he.min(),he.min(),he.min(),Jt.empty(),0)}static newFoundDocument(t,n,r,i){return new Nt(t,1,n,he.min(),r,i,0)}static newNoDocument(t,n){return new Nt(t,2,n,he.min(),he.min(),Jt.empty(),0)}static newUnknownDocument(t,n){return new Nt(t,3,n,he.min(),he.min(),Jt.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Nt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(t,n){this.position=t,this.inclusive=n}}function FE(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(o.field.isKeyField()?r=ee.comparator(ee.fromName(s.referenceValue),n.key):r=Fs(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function VE(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!pr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(t,n="asc"){this.field=t,this.dir=n}}function vM(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{}class it extends l1{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new wM(t,n,r):n==="array-contains"?new CM(t,r):n==="in"?new IM(t,r):n==="not-in"?new xM(t,r):n==="array-contains-any"?new AM(t,r):new it(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new EM(t,r):new SM(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Fs(n,this.value)):n!==null&&Fi(this.value)===Fi(n)&&this.matchesComparison(Fs(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return de()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qn extends l1{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new qn(t,n)}matches(t){return u1(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function u1(e){return e.op==="and"}function c1(e){return _M(e)&&u1(e)}function _M(e){for(const t of e.filters)if(t instanceof qn)return!1;return!0}function Vm(e){if(e instanceof it)return e.field.canonicalString()+e.op.toString()+Vs(e.value);if(c1(e))return e.filters.map(t=>Vm(t)).join(",");{const t=e.filters.map(n=>Vm(n)).join(",");return`${e.op}(${t})`}}function d1(e,t){return e instanceof it?function(r,i){return i instanceof it&&r.op===i.op&&r.field.isEqual(i.field)&&pr(r.value,i.value)}(e,t):e instanceof qn?function(r,i){return i instanceof qn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&d1(s,i.filters[a]),!0):!1}(e,t):void de()}function h1(e){return e instanceof it?function(n){return`${n.field.canonicalString()} ${n.op} ${Vs(n.value)}`}(e):e instanceof qn?function(n){return n.op.toString()+" {"+n.getFilters().map(h1).join(" ,")+"}"}(e):"Filter"}class wM extends it{constructor(t,n,r){super(t,n,r),this.key=ee.fromName(r.referenceValue)}matches(t){const n=ee.comparator(t.key,this.key);return this.matchesComparison(n)}}class EM extends it{constructor(t,n){super(t,"in",n),this.keys=f1("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class SM extends it{constructor(t,n){super(t,"not-in",n),this.keys=f1("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function f1(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class CM extends it{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Ry(n)&&Ol(n.arrayValue,this.value)}}class IM extends it{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ol(this.value.arrayValue,n)}}class xM extends it{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Ol(this.value.arrayValue,n)}}class AM extends it{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Ry(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ol(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(t,n=null,r=[],i=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function UE(e,t=null,n=[],r=[],i=null,o=null,s=null){return new TM(e,t,n,r,i,o,s)}function by(e){const t=fe(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Vm(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),fh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Vs(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Vs(r)).join(",")),t.ue=n}return t.ue}function ky(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!vM(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!d1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!VE(e.startAt,t.startAt)&&VE(e.endAt,t.endAt)}function Um(e){return ee.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(t,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function PM(e,t,n,r,i,o,s,a){return new eu(e,t,n,r,i,o,s,a)}function mh(e){return new eu(e)}function $E(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function p1(e){return e.collectionGroup!==null}function rl(e){const t=fe(e);if(t.ce===null){t.ce=[];const n=new Set;for(const o of t.explicitOrderBy)t.ce.push(o),n.add(o.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ct(Et.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||t.ce.push(new Sd(o,r))}),n.has(Et.keyField().canonicalString())||t.ce.push(new Sd(Et.keyField(),r))}return t.ce}function lr(e){const t=fe(e);return t.le||(t.le=RM(t,rl(e))),t.le}function RM(e,t){if(e.limitType==="F")return UE(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Sd(i.field,o)});const n=e.endAt?new Ed(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ed(e.startAt.position,e.startAt.inclusive):null;return UE(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function $m(e,t){const n=e.filters.concat([t]);return new eu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function jm(e,t,n){return new eu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function gh(e,t){return ky(lr(e),lr(t))&&e.limitType===t.limitType}function m1(e){return`${by(lr(e))}|lt:${e.limitType}`}function Yo(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>h1(i)).join(", ")}]`),fh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Vs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Vs(i)).join(",")),`Target(${r})`}(lr(e))}; limitType=${e.limitType})`}function yh(e,t){return t.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ee.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(e,t)&&function(r,i){for(const o of rl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=FE(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,rl(r),i)||r.endAt&&!function(s,a,l){const u=FE(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,rl(r),i))}(e,t)}function bM(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function g1(e){return(t,n)=>{let r=!1;for(const i of rl(e)){const o=kM(i,t,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function kM(e,t,n){const r=e.field.isKeyField()?ee.comparator(t.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Fs(l,u):de()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return de()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Gi(this.inner,(n,r)=>{for(const[i,o]of r)t(i,o)})}isEmpty(){return o1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM=new Xe(ee.comparator);function jr(){return DM}const y1=new Xe(ee.comparator);function Wa(...e){let t=y1;for(const n of e)t=t.insert(n.key,n);return t}function v1(e){let t=y1;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function ho(){return il()}function _1(){return il()}function il(){return new Mo(e=>e.toString(),(e,t)=>e.isEqual(t))}const OM=new Xe(ee.comparator),NM=new ct(ee.comparator);function we(...e){let t=NM;for(const n of e)t=t.add(n);return t}const LM=new ct(Ee);function MM(){return LM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wd(t)?"-0":t}}function w1(e){return{integerValue:""+e}}function FM(e,t){return dM(t)?w1(t):Dy(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(){this._=void 0}}function VM(e,t,n){return e instanceof Cd?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Py(o)&&(o=ph(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof Nl?S1(e,t):e instanceof Ll?C1(e,t):function(i,o){const s=E1(i,o),a=jE(s)+jE(i.Pe);return Fm(s)&&Fm(i.Pe)?w1(a):Dy(i.serializer,a)}(e,t)}function UM(e,t,n){return e instanceof Nl?S1(e,t):e instanceof Ll?C1(e,t):n}function E1(e,t){return e instanceof Id?function(r){return Fm(r)||function(o){return!!o&&"doubleValue"in o}(r)}(t)?t:{integerValue:0}:null}class Cd extends vh{}class Nl extends vh{constructor(t){super(),this.elements=t}}function S1(e,t){const n=I1(t);for(const r of e.elements)n.some(i=>pr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ll extends vh{constructor(t){super(),this.elements=t}}function C1(e,t){let n=I1(t);for(const r of e.elements)n=n.filter(i=>!pr(i,r));return{arrayValue:{values:n}}}class Id extends vh{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function jE(e){return Ze(e.integerValue||e.doubleValue)}function I1(e){return Ry(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function $M(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof Nl&&i instanceof Nl||r instanceof Ll&&i instanceof Ll?Ms(r.elements,i.elements,pr):r instanceof Id&&i instanceof Id?pr(r.Pe,i.Pe):r instanceof Cd&&i instanceof Cd}(e.transform,t.transform)}class jM{constructor(t,n){this.version=t,this.transformResults=n}}class Bn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Bn}static exists(t){return new Bn(void 0,t)}static updateTime(t){return new Bn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Lc(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class _h{}function x1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Oy(e.key,Bn.none()):new tu(e.key,e.data,Bn.none());{const n=e.data,r=Jt.empty();let i=new ct(Et.comparator);for(let o of t.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new qi(e.key,r,new fn(i.toArray()),Bn.none())}}function BM(e,t,n){e instanceof tu?function(i,o,s){const a=i.value.clone(),l=zE(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof qi?function(i,o,s){if(!Lc(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=zE(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(A1(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function ol(e,t,n,r){return e instanceof tu?function(o,s,a,l){if(!Lc(o.precondition,s))return a;const u=o.value.clone(),d=WE(o.fieldTransforms,l,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof qi?function(o,s,a,l){if(!Lc(o.precondition,s))return a;const u=WE(o.fieldTransforms,l,s),d=s.data;return d.setAll(A1(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(e,t,n,r):function(o,s,a){return Lc(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(e,t,n)}function zM(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),o=E1(r.transform,i||null);o!=null&&(n===null&&(n=Jt.empty()),n.set(r.field,o))}return n||null}function BE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ms(r,i,(o,s)=>$M(o,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class tu extends _h{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class qi extends _h{constructor(t,n,r,i,o=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function A1(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function zE(e,t,n){const r=new Map;De(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,UM(s,a,n[i]))}return r}function WE(e,t,n){const r=new Map;for(const i of e){const o=i.transform,s=n.data.field(i.field);r.set(i.field,VM(o,s,t))}return r}class Oy extends _h{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WM extends _h{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(t.key)&&BM(o,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=ol(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=ol(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=_1();return this.mutations.forEach(i=>{const o=t.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=x1(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),we())}isEqual(t){return this.batchId===t.batchId&&Ms(this.mutations,t.mutations,(n,r)=>BE(n,r))&&Ms(this.baseMutations,t.baseMutations,(n,r)=>BE(n,r))}}class Ny{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){De(t.mutations.length===r.length);let i=function(){return OM}();const o=t.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Ny(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt,Ce;function KM(e){switch(e){default:return de();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function T1(e){if(e===void 0)return $r("GRPC error has no .code"),z.UNKNOWN;switch(e){case tt.OK:return z.OK;case tt.CANCELLED:return z.CANCELLED;case tt.UNKNOWN:return z.UNKNOWN;case tt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case tt.INTERNAL:return z.INTERNAL;case tt.UNAVAILABLE:return z.UNAVAILABLE;case tt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case tt.NOT_FOUND:return z.NOT_FOUND;case tt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case tt.ABORTED:return z.ABORTED;case tt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case tt.DATA_LOSS:return z.DATA_LOSS;default:return de()}}(Ce=tt||(tt={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM=new Ri([4294967295,4294967295],0);function HE(e){const t=QM().encode(e),n=new Yx;return n.update(t),new Uint8Array(n.digest())}function GE(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Ri([n,r],0),new Ri([i,o],0)]}class Ly{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ha(`Invalid padding: ${n}`);if(r<0)throw new Ha(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Ha(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Ha(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ie=Ri.fromNumber(this.Te)}de(t,n,r){let i=t.add(n.multiply(Ri.fromNumber(r)));return i.compare(XM)===1&&(i=new Ri([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}Ee(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=HE(t),[r,i]=GE(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ee(s))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new Ly(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(t){if(this.Te===0)return;const n=HE(t),[r,i]=GE(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Ae(s)}}Ae(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Ha extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,nu.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new wh(he.min(),i,new Xe(Ee),jr(),we())}}class nu{constructor(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new nu(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t,n,r,i){this.Re=t,this.removedTargetIds=n,this.key=r,this.Ve=i}}class P1{constructor(t,n){this.targetId=t,this.me=n}}class R1{constructor(t,n,r=It.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class qE{constructor(){this.fe=0,this.ge=KE(),this.pe=It.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=we(),n=we(),r=we();return this.ge.forEach((i,o)=>{switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:de()}}),new nu(this.pe,this.ye,t,n,r)}Ce(){this.we=!1,this.ge=KE()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,De(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class YM{constructor(t){this.Be=t,this.Le=new Map,this.ke=jr(),this.qe=sc(),this.Qe=sc(),this.Ke=new Xe(Ee)}$e(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.Ue(n,t.Ve):this.We(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.We(n,t.key,t.Ve)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.De(t.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(t.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(t.resumeToken));break;default:de()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Le.forEach((r,i)=>{this.je(i)&&n(i)})}Je(t){const n=t.targetId,r=t.me.count,i=this.Ye(n);if(i){const o=i.target;if(Um(o))if(r===0){const s=new ee(o.path);this.We(n,s,Nt.newNoDocument(s,he.min()))}else De(r===1);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(t),l=a?this.et(a,t,s):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Mi(r).toUint8Array()}catch(l){if(l instanceof s1)return Ls("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Ly(s,i,o)}catch(l){return Ls(l instanceof Ha?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(t,n,r){return n.me.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Be.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Be.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(a)||(this.We(n,o,null),i++)}),i}it(t){const n=new Map;this.Le.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&Um(a.target)){const l=new ee(a.target.path);this.st(l).has(s)||this.ot(s,l)||this.We(s,l,Nt.newNoDocument(l,t))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=we();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(t));const i=new wh(t,n,this.Ke,this.ke,r);return this.ke=jr(),this.qe=sc(),this.Qe=sc(),this.Ke=new Xe(Ee),i}Ue(t,n){if(!this.je(t))return;const r=this.ot(t,n.key)?2:0;this.ze(t).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const i=this.ze(t);this.ot(t,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(t)),this.Qe=this.Qe.insert(n,this._t(n).add(t)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(t){this.Le.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Be.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.ze(t).xe()}ze(t){let n=this.Le.get(t);return n||(n=new qE,this.Le.set(t,n)),n}_t(t){let n=this.Qe.get(t);return n||(n=new ct(Ee),this.Qe=this.Qe.insert(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new ct(Ee),this.qe=this.qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.Le.get(t);return n&&n.Se?null:this.Be.ut(t)}He(t){this.Le.set(t,new qE),this.Be.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}ot(t,n){return this.Be.getRemoteKeysForTarget(t).has(n)}}function sc(){return new Xe(ee.comparator)}function KE(){return new Xe(ee.comparator)}const JM={asc:"ASCENDING",desc:"DESCENDING"},ZM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e2={and:"AND",or:"OR"};class t2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Bm(e,t){return e.useProto3Json||fh(t)?t:{value:t}}function xd(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function b1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function n2(e,t){return xd(e,t.toTimestamp())}function ur(e){return De(!!e),he.fromTimestamp(function(n){const r=Li(n);return new ut(r.seconds,r.nanos)}(e))}function My(e,t){return zm(e,t).canonicalString()}function zm(e,t){const n=function(i){return new $e(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function k1(e){const t=$e.fromString(e);return De(M1(t)),t}function Wm(e,t){return My(e.databaseId,t.path)}function Qf(e,t){const n=k1(t);if(n.get(1)!==e.databaseId.projectId)throw new J(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new J(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ee(O1(n))}function D1(e,t){return My(e.databaseId,t)}function r2(e){const t=k1(e);return t.length===4?$e.emptyPath():O1(t)}function Hm(e){return new $e(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function O1(e){return De(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function QE(e,t,n){return{name:Wm(e,t),fields:n.value.mapValue.fields}}function i2(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:de()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(De(d===void 0||typeof d=="string"),It.fromBase64String(d||"")):(De(d===void 0||d instanceof Buffer||d instanceof Uint8Array),It.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(u){const d=u.code===void 0?z.UNKNOWN:T1(u.code);return new J(d,u.message||"")}(s);n=new R1(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Qf(e,r.document.name),o=ur(r.document.updateTime),s=r.document.createTime?ur(r.document.createTime):he.min(),a=new Jt({mapValue:{fields:r.document.fields}}),l=Nt.newFoundDocument(i,o,s,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Mc(u,d,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Qf(e,r.document),o=r.readTime?ur(r.readTime):he.min(),s=Nt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Mc([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Qf(e,r.document),o=r.removedTargetIds||[];n=new Mc([],o,i,null)}else{if(!("filter"in t))return de();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new qM(i,o),a=r.targetId;n=new P1(a,s)}}return n}function o2(e,t){let n;if(t instanceof tu)n={update:QE(e,t.key,t.value)};else if(t instanceof Oy)n={delete:Wm(e,t.key)};else if(t instanceof qi)n={update:QE(e,t.key,t.data),updateMask:p2(t.fieldMask)};else{if(!(t instanceof WM))return de();n={verify:Wm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Cd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Nl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ll)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Id)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw de()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:n2(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:de()}(e,t.precondition)),n}function s2(e,t){return e&&e.length>0?(De(t!==void 0),e.map(n=>function(i,o){let s=i.updateTime?ur(i.updateTime):ur(o);return s.isEqual(he.min())&&(s=ur(o)),new jM(s,i.transformResults||[])}(n,t))):[]}function a2(e,t){return{documents:[D1(e,t.path)]}}function l2(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=D1(e,i);const o=function(u){if(u.length!==0)return L1(qn.create(u,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:Jo(p.field),direction:d2(p.dir)}}(d))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Bm(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{ct:n,parent:i}}function u2(e){let t=r2(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){De(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:t=t.child(d.collectionId)}let o=[];n.where&&(o=function(h){const p=N1(h);return p instanceof qn&&c1(p)?p.getFilters():[p]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(p=>function(m){return new Sd(Zo(m.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,fh(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,f=h.values||[];return new Ed(f,p)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const p=!h.before,f=h.values||[];return new Ed(f,p)}(n.endAt)),PM(t,i,s,o,a,"F",l,u)}function c2(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function N1(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Zo(n.unaryFilter.field);return it.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Zo(n.unaryFilter.field);return it.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Zo(n.unaryFilter.field);return it.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Zo(n.unaryFilter.field);return it.create(s,"!=",{nullValue:"NULL_VALUE"});default:return de()}}(e):e.fieldFilter!==void 0?function(n){return it.create(Zo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return de()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return qn.create(n.compositeFilter.filters.map(r=>N1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return de()}}(n.compositeFilter.op))}(e):de()}function d2(e){return JM[e]}function h2(e){return ZM[e]}function f2(e){return e2[e]}function Jo(e){return{fieldPath:e.canonicalString()}}function Zo(e){return Et.fromServerFormat(e.fieldPath)}function L1(e){return e instanceof it?function(n){if(n.op==="=="){if(ME(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NAN"}};if(LE(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ME(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NOT_NAN"}};if(LE(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jo(n.field),op:h2(n.op),value:n.value}}}(e):e instanceof qn?function(n){const r=n.getFilters().map(i=>L1(i));return r.length===1?r[0]:{compositeFilter:{op:f2(n.op),filters:r}}}(e):de()}function p2(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function M1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(t,n,r,i,o=he.min(),s=he.min(),a=It.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new gi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(t){this.ht=t}}function g2(e){const t=u2({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?jm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.ln=new v2}addToCollectionParentIndex(t,n){return this.ln.add(n),B.resolve()}getCollectionParents(t,n){return B.resolve(this.ln.getEntries(n))}addFieldIndex(t,n){return B.resolve()}deleteFieldIndex(t,n){return B.resolve()}deleteAllFieldIndexes(t){return B.resolve()}createTargetIndexes(t,n){return B.resolve()}getDocumentsMatchingTarget(t,n){return B.resolve(null)}getIndexType(t,n){return B.resolve(0)}getFieldIndexes(t,n){return B.resolve([])}getNextCollectionGroupToUpdate(t){return B.resolve(null)}getMinOffset(t,n){return B.resolve(Ni.min())}getMinOffsetFromCollectionGroup(t,n){return B.resolve(Ni.min())}updateCollectionGroup(t,n,r){return B.resolve()}updateIndexEntries(t,n){return B.resolve()}}class v2{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new ct($e.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new ct($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xt{static withCacheSize(t){return new Xt(t,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xt.DEFAULT_COLLECTION_PERCENTILE=10,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xt.DEFAULT=new Xt(41943040,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xt.DISABLED=new Xt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(t){this.kn=t}next(){return this.kn+=2,this.kn}static qn(){return new Us(0)}static Qn(){return new Us(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE([e,t],[n,r]){const i=Ee(e,n);return i===0?Ee(t,r):i}class _2{constructor(t){this.Gn=t,this.buffer=new ct(YE),this.zn=0}jn(){return++this.zn}Hn(t){const n=[t,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();YE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class w2{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(t){Q("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Zs(n)?Q("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Js(n)}await this.Yn(3e5)})}}class E2{constructor(t,n){this.Zn=t,this.params=n}calculateTargetCount(t,n){return this.Zn.Xn(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return B.resolve(hh.oe);const r=new _2(n);return this.Zn.forEachTarget(t,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(t,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.Zn.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Zn.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(XE)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),XE):this.tr(t,n))}getCacheSize(t){return this.Zn.getCacheSize(t)}tr(t,n){let r,i,o,s,a,l,u;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),this.nthSequenceNumber(t,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(t,r,n))).next(h=>(o=h,l=Date.now(),this.removeOrphanedDocuments(t,r))).next(h=>(u=Date.now(),Xo()<=_e.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h})))}}function S2(e,t){return new E2(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(){this.changes=new Mo(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Nt.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&ol(r.mutation,i,fn.empty(),ut.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,we()).next(()=>r))}getLocalViewOfDocuments(t,n,r=we()){const i=ho();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(o=>{let s=Wa();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,n){const r=ho();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,we()))}populateOverlays(t,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(t,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(t,n,r,i){let o=jr();const s=il(),a=function(){return il()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof qi)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),ol(d.mutation,u,d.mutation.getFieldMask(),ut.now())):s.set(u.key,fn.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((u,d)=>s.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new I2(d,(h=s.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const r=il();let i=new Xe((s,a)=>s-a),o=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||fn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(i.get(a.batchId)||we()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=_1();d.forEach(p=>{if(!o.has(p)){const f=x1(n.get(p),r.get(p));f!==null&&h.set(p,f),o=o.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(t,u,h))}return B.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(s){return ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):p1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-o.size):B.resolve(ho());let a=-1,l=o;return s.next(u=>B.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(d)?B.resolve():this.remoteDocumentCache.getEntry(t,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(t,u,o)).next(()=>this.computeViews(t,l,u,we())).next(d=>({batchId:a,changes:v1(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ee(n)).next(r=>{let i=Wa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const o=n.collectionGroup;let s=Wa();return this.indexManager.getCollectionParents(t,o).next(a=>B.forEach(a,l=>{const u=function(h,p){return new eu(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(d=>{d.forEach((h,p)=>{s=s.insert(h,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const d=u.getKey();s.get(d)===null&&(s=s.insert(d,Nt.newInvalidDocument(d)))});let a=Wa();return s.forEach((l,u)=>{const d=o.get(l);d!==void 0&&ol(d.mutation,u,fn.empty(),ut.now()),yh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(t){this.serializer=t,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(t,n){return B.resolve(this.Tr.get(n))}saveBundleMetadata(t,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ur(i.createTime)}}(n)),B.resolve()}getNamedQuery(t,n){return B.resolve(this.Ir.get(n))}saveNamedQuery(t,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:g2(i.bundledQuery),readTime:ur(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(){this.overlays=new Xe(ee.comparator),this.dr=new Map}getOverlay(t,n){return B.resolve(this.overlays.get(n))}getOverlays(t,n){const r=ho();return B.forEach(n,i=>this.getOverlay(t,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,o)=>{this.Tt(t,n,o)}),B.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.dr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.dr.delete(r)),B.resolve()}getOverlaysForCollection(t,n,r){const i=ho(),o=n.length+1,s=new ee(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return B.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let o=new Xe((u,d)=>u-d);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=ho(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=ho(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return B.resolve(a)}Tt(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.dr.get(i.largestBatchId).delete(r.key);this.dr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new GM(n,r));let o=this.dr.get(n);o===void 0&&(o=we(),this.dr.set(n,o)),this.dr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this.sessionToken=It.EMPTY_BYTE_STRING}getSessionToken(t){return B.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(){this.Er=new ct(ft.Ar),this.Rr=new ct(ft.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(t,n){const r=new ft(t,n);this.Er=this.Er.add(r),this.Rr=this.Rr.add(r)}mr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.gr(new ft(t,n))}pr(t,n){t.forEach(r=>this.removeReference(r,n))}yr(t){const n=new ee(new $e([])),r=new ft(n,t),i=new ft(n,t+1),o=[];return this.Rr.forEachInRange([r,i],s=>{this.gr(s),o.push(s.key)}),o}wr(){this.Er.forEach(t=>this.gr(t))}gr(t){this.Er=this.Er.delete(t),this.Rr=this.Rr.delete(t)}Sr(t){const n=new ee(new $e([])),r=new ft(n,t),i=new ft(n,t+1);let o=we();return this.Rr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(t){const n=new ft(t,0),r=this.Er.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class ft{constructor(t,n){this.key=t,this.br=n}static Ar(t,n){return ee.comparator(t.key,n.key)||Ee(t.br,n.br)}static Vr(t,n){return Ee(t.br,n.br)||ee.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new ct(ft.Ar)}checkEmpty(t){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new HM(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.vr=this.vr.add(new ft(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return B.resolve(s)}lookupMutationBatch(t,n){return B.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Fr(r),o=i<0?0:i;return B.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(t){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new ft(n,0),i=new ft(n,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([r,i],s=>{const a=this.Cr(s.br);o.push(a)}),B.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new ct(Ee);return n.forEach(i=>{const o=new ft(i,0),s=new ft(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,s],a=>{r=r.add(a.br)})}),B.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let o=r;ee.isDocumentKey(o)||(o=o.child(""));const s=new ft(new ee(o),0);let a=new ct(Ee);return this.vr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.br)),!0)},s),B.resolve(this.Mr(a))}Mr(t){const n=[];return t.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){De(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return B.forEach(n.mutations,i=>{const o=new ft(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.vr=r})}Bn(t){}containsKey(t,n){const r=new ft(n,0),i=this.vr.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,B.resolve()}Or(t,n){return this.Fr(t)}Fr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Cr(t){const n=this.Fr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(t){this.Nr=t,this.docs=function(){return new Xe(ee.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Nt.newInvalidDocument(n))}getEntries(t,n){let r=jr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Nt.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let o=jr();const s=n.path,a=new ee(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||aM(sM(d),r)<=0||(i.has(d.key)||yh(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return B.resolve(o)}getAllFromCollectionGroup(t,n,r,i){de()}Br(t,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new k2(this)}getSize(t){return B.resolve(this.size)}}class k2 extends C2{constructor(t){super(),this.hr=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(t,i)):this.hr.removeEntry(r)}),B.waitFor(n)}getFromCache(t,n){return this.hr.getEntry(t,n)}getAllFromCache(t,n){return this.hr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(t){this.persistence=t,this.Lr=new Mo(n=>by(n),ky),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.kr=0,this.qr=new Fy,this.targetCount=0,this.Qr=Us.qn()}forEachTarget(t,n){return this.Lr.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(t){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return B.resolve(this.kr)}allocateTargetId(t){return this.highestTargetId=this.Qr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),B.resolve()}Un(t){this.Lr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Qr=new Us(n),this.highestTargetId=n),t.sequenceNumber>this.kr&&(this.kr=t.sequenceNumber)}addTargetData(t,n){return this.Un(n),this.targetCount+=1,B.resolve()}updateTargetData(t,n){return this.Un(n),B.resolve()}removeTargetData(t,n){return this.Lr.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(t,n,r){let i=0;const o=[];return this.Lr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Lr.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),B.waitFor(o).next(()=>i)}getTargetCount(t){return B.resolve(this.targetCount)}getTargetData(t,n){const r=this.Lr.get(n)||null;return B.resolve(r)}addMatchingKeys(t,n,r){return this.qr.mr(n,r),B.resolve()}removeMatchingKeys(t,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(t,s))}),B.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this.qr.yr(n),B.resolve()}getMatchingKeysForTargetId(t,n){const r=this.qr.Sr(n);return B.resolve(r)}containsKey(t,n){return B.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(t,n){this.Kr={},this.overlays={},this.$r=new hh(0),this.Ur=!1,this.Ur=!0,this.Wr=new P2,this.referenceDelegate=t(this),this.Gr=new D2(this),this.indexManager=new y2,this.remoteDocumentCache=function(i){return new b2(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new m2(n),this.jr=new A2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new T2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Kr[t.toKey()];return r||(r=new R2(n,this.referenceDelegate),this.Kr[t.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(t,n,r){Q("MemoryPersistence","Starting transaction:",t);const i=new O2(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(o=>this.referenceDelegate.Jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Yr(t,n){return B.or(Object.values(this.Kr).map(r=>()=>r.containsKey(t,n)))}}class O2 extends uM{constructor(t){super(),this.currentSequenceNumber=t}}class Vy{constructor(t){this.persistence=t,this.Zr=new Fy,this.Xr=null}static ei(t){return new Vy(t)}get ti(){if(this.Xr)return this.Xr;throw de()}addReference(t,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),B.resolve()}removeReference(t,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),B.resolve()}markPotentiallyOrphaned(t,n){return this.ti.add(n.toString()),B.resolve()}removeTarget(t,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(o=>this.ti.add(o.toString()))}).next(()=>r.removeTargetData(t,n))}Hr(){this.Xr=new Set}Jr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.ti,r=>{const i=ee.fromPath(r);return this.ni(t,i).next(o=>{o||n.removeEntry(i,he.min())})}).next(()=>(this.Xr=null,n.apply(t)))}updateLimboDocument(t,n){return this.ni(t,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(t){return 0}ni(t,n){return B.or([()=>B.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Yr(t,n)])}}class Ad{constructor(t,n){this.persistence=t,this.ri=new Mo(r=>hM(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=S2(this,n)}static ei(t,n){return new Ad(t,n)}Hr(){}Jr(t){return B.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}Xn(t){const n=this.nr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(i=>r+i))}nr(t){let n=0;return this.er(t,r=>{n++}).next(()=>n)}er(t,n){return B.forEach(this.ri,(r,i)=>this.ir(t,r,i).next(o=>o?B.resolve():n(i)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Br(t,s=>this.ir(t,s,n).next(a=>{a||(r++,o.removeEntry(s,he.min()))})).next(()=>o.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.ri.set(n,t.currentSequenceNumber),B.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.ri.set(r,t.currentSequenceNumber),B.resolve()}removeReference(t,n,r){return this.ri.set(r,t.currentSequenceNumber),B.resolve()}updateLimboDocument(t,n){return this.ri.set(n,t.currentSequenceNumber),B.resolve()}zr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Oc(t.data.value)),n}ir(t,n,r){return B.or([()=>this.persistence.Yr(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const i=this.ri.get(n);return B.resolve(i!==void 0&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(t,n){let r=we(),i=we();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Uy(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return kN()?8:cM(Ut())>0?6:4}()}initialize(t,n){this.Zi=t,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(t,n,r,i){const o={result:null};return this.Xi(t,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.es(t,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new N2;return this.ts(t,n,s).next(a=>{if(o.result=a,this.Hi)return this.ns(t,n,s,a.size)})}).next(()=>o.result)}ns(t,n,r,i){return r.documentReadCount<this.Ji?(Xo()<=_e.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",Yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),B.resolve()):(Xo()<=_e.DEBUG&&Q("QueryEngine","Query:",Yo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(Xo()<=_e.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",Yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,lr(n))):B.resolve())}Xi(t,n){if($E(n))return B.resolve(null);let r=lr(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=jm(n,null,"F"),r=lr(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(o=>{const s=we(...o);return this.Zi.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.rs(n,a);return this.ss(n,u,s,l.readTime)?this.Xi(t,jm(n,null,"F")):this.os(t,u,n,l)}))})))}es(t,n,r,i){return $E(n)||i.isEqual(he.min())?B.resolve(null):this.Zi.getDocuments(t,r).next(o=>{const s=this.rs(n,o);return this.ss(n,s,r,i)?B.resolve(null):(Xo()<=_e.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Yo(n)),this.os(t,s,n,oM(i,-1)).next(a=>a))})}rs(t,n){let r=new ct(g1(t));return n.forEach((i,o)=>{yh(t,o)&&(r=r.add(o))}),r}ss(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ts(t,n,r){return Xo()<=_e.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",Yo(n)),this.Zi.getDocumentsMatchingQuery(t,n,Ni.min(),r)}os(t,n,r,i){return this.Zi.getDocumentsMatchingQuery(t,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(t,n,r,i){this.persistence=t,this._s=n,this.serializer=i,this.us=new Xe(Ee),this.cs=new Mo(o=>by(o),ky),this.ls=new Map,this.hs=t.getRemoteDocumentCache(),this.Gr=t.getTargetCache(),this.jr=t.getBundleCache(),this.Ps(r)}Ps(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new x2(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.us))}}function F2(e,t,n,r){return new M2(e,t,n,r)}async function V1(e,t){const n=fe(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ps(t),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=we();for(const u of i){s.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of o){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ts:u,removedBatchIds:s,addedBatchIds:a}))})})}function V2(e,t){const n=fe(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),o=n.hs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,p=h.keys();let f=B.resolve();return p.forEach(m=>{f=f.next(()=>d.getEntry(l,m)).next(_=>{const x=u.docVersions.get(m);De(x!==null),_.version.compareTo(x)<0&&(h.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),d.addEntry(_)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,t,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=we();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function U1(e){const t=fe(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Gr.getLastRemoteSnapshotVersion(n))}function U2(e,t){const n=fe(e),r=t.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const a=[];t.targetChanges.forEach((d,h)=>{const p=i.get(h);if(!p)return;a.push(n.Gr.removeMatchingKeys(o,d.removedDocuments,h).next(()=>n.Gr.addMatchingKeys(o,d.addedDocuments,h)));let f=p.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(h)!==null?f=f.withResumeToken(It.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):d.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(d.resumeToken,r)),i=i.insert(h,f),function(_,x,y){return _.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(p,f,d)&&a.push(n.Gr.updateTargetData(o,f))});let l=jr(),u=we();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push($2(o,s,t.documentUpdates).next(d=>{l=d.Is,u=d.ds})),!r.isEqual(he.min())){const d=n.Gr.getLastRemoteSnapshotVersion(o).next(h=>n.Gr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return B.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.us=i,o))}function $2(e,t,n){let r=we(),i=we();return n.forEach(o=>r=r.add(o)),t.getEntries(e,r).next(o=>{let s=jr();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(he.min())?(t.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),s=s.insert(a,l)):Q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Is:s,ds:i}})}function j2(e,t){const n=fe(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function B2(e,t){const n=fe(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,t).next(o=>o?(i=o,B.resolve(i)):n.Gr.allocateTargetId(r).next(s=>(i=new gi(t,s,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(t,r.targetId)),r})}async function Gm(e,t,n){const r=fe(e),i=r.us.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Zs(s))throw s;Q("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}r.us=r.us.remove(t),r.cs.delete(i.target)}function JE(e,t,n){const r=fe(e);let i=he.min(),o=we();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,d){const h=fe(l),p=h.cs.get(d);return p!==void 0?B.resolve(h.us.get(p)):h.Gr.getTargetData(u,d)}(r,s,lr(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r._s.getDocumentsMatchingQuery(s,t,n?i:he.min(),n?o:we())).next(a=>(z2(r,bM(t),a),{documents:a,Es:o})))}function z2(e,t,n){let r=e.ls.get(t)||he.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),e.ls.set(t,r)}class ZE{constructor(){this.activeTargetIds=MM()}ps(t){this.activeTargetIds=this.activeTargetIds.add(t)}ys(t){this.activeTargetIds=this.activeTargetIds.delete(t)}gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class W2{constructor(){this._o=new ZE,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this._o.ps(t),this.ao[t]||"not-current"}updateQueryState(t,n,r){this.ao[t]=n}removeLocalQueryTarget(t){this._o.ys(t)}isLocalQueryTarget(t){return this._o.activeTargetIds.has(t)}clearQueryState(t){delete this.ao[t]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(t){return this._o.activeTargetIds.has(t)}start(){return this._o=new ZE,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{uo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(t){this.To.push(t)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.To)t(0)}Po(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.To)t(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac=null;function Xf(){return ac===null?ac=function(){return 268435456+Math.round(2147483648*Math.random())}():ac++,"0x"+ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(t){this.Eo=t.Eo,this.Ao=t.Ao}Ro(t){this.Vo=t}mo(t){this.fo=t}po(t){this.yo=t}onMessage(t){this.wo=t}close(){this.Ao()}send(t){this.Eo(t)}So(){this.Vo()}bo(){this.fo()}Do(t){this.yo(t)}vo(t){this.wo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt="WebChannelConnection";class K2 extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Oo(n,r,i,o,s){const a=Xf(),l=this.No(n,r.toUriEncodedString());Q("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(u,o,s),this.Lo(n,l,u,i).then(d=>(Q("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Ls("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}ko(n,r,i,o,s,a){return this.Oo(n,r,i,o,s)}Bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ys}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}No(n,r){const i=G2[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Lo(t,n,r,i){const o=Xf();return new Promise((s,a)=>{const l=new Jx;l.setWithCredentials(!0),l.listenOnce(Zx.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Dc.NO_ERROR:const d=l.getResponseJson();Q(bt,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(d)),s(d);break;case Dc.TIMEOUT:Q(bt,`RPC '${t}' ${o} timed out`),a(new J(z.DEADLINE_EXCEEDED,"Request time out"));break;case Dc.HTTP_ERROR:const h=l.getStatus();if(Q(bt,`RPC '${t}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const f=p==null?void 0:p.error;if(f&&f.status&&f.message){const m=function(x){const y=x.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(y)>=0?y:z.UNKNOWN}(f.status);a(new J(m,f.message))}else a(new J(z.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new J(z.UNAVAILABLE,"Connection failed."));break;default:de()}}finally{Q(bt,`RPC '${t}' ${o} completed.`)}});const u=JSON.stringify(i);Q(bt,`RPC '${t}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}qo(t,n,r){const i=Xf(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=n1(),a=t1(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=o.join("");Q(bt,`Creating RPC '${t}' stream ${i}: ${d}`,l);const h=s.createWebChannel(d,l);let p=!1,f=!1;const m=new q2({Eo:x=>{f?Q(bt,`Not sending because RPC '${t}' stream ${i} is closed:`,x):(p||(Q(bt,`Opening RPC '${t}' stream ${i} transport.`),h.open(),p=!0),Q(bt,`RPC '${t}' stream ${i} sending:`,x),h.send(x))},Ao:()=>h.close()}),_=(x,y,v)=>{x.listen(y,E=>{try{v(E)}catch(D){setTimeout(()=>{throw D},0)}})};return _(h,za.EventType.OPEN,()=>{f||(Q(bt,`RPC '${t}' stream ${i} transport opened.`),m.So())}),_(h,za.EventType.CLOSE,()=>{f||(f=!0,Q(bt,`RPC '${t}' stream ${i} transport closed`),m.Do())}),_(h,za.EventType.ERROR,x=>{f||(f=!0,Ls(bt,`RPC '${t}' stream ${i} transport errored:`,x),m.Do(new J(z.UNAVAILABLE,"The operation could not be completed")))}),_(h,za.EventType.MESSAGE,x=>{var y;if(!f){const v=x.data[0];De(!!v);const E=v,D=(E==null?void 0:E.error)||((y=E[0])===null||y===void 0?void 0:y.error);if(D){Q(bt,`RPC '${t}' stream ${i} received error:`,D);const F=D.status;let k=function(T){const I=tt[T];if(I!==void 0)return T1(I)}(F),P=D.message;k===void 0&&(k=z.INTERNAL,P="Unknown error status: "+F+" with message "+D.message),f=!0,m.Do(new J(k,P)),h.close()}else Q(bt,`RPC '${t}' stream ${i} received:`,v),m.vo(v)}}),_(a,e1.STAT_EVENT,x=>{x.stat===Lm.PROXY?Q(bt,`RPC '${t}' stream ${i} detected buffering proxy`):x.stat===Lm.NOPROXY&&Q(bt,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.bo()},0),m}}function Yf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(e){return new t2(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(t,n,r=1e3,i=1.5,o=6e4){this.li=t,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(t){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),t())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(t,n,r,i,o,s,a,l){this.li=t,this.Yo=r,this.Zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new $1(t,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(t){this.l_(),this.stream.send(t)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(t,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,t!==4?this.r_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?($r(n.toString()),$r("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.po(n)}P_(){}auth(){this.state=1;const t=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{t(()=>{const i=new J(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.d_(i)})})}I_(t,n){const r=this.T_(this.Xo);this.stream=this.E_(t,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.d_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(t){return Q("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}T_(t){return n=>{this.li.enqueueAndForget(()=>this.Xo===t?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Q2 extends j1{constructor(t,n,r,i,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}E_(t,n){return this.connection.qo("Listen",t,n)}A_(t){return this.onNext(t)}onNext(t){this.r_.reset();const n=i2(this.serializer,t),r=function(o){if(!("targetChange"in o))return he.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?he.min():s.readTime?ur(s.readTime):he.min()}(t);return this.listener.R_(n,r)}V_(t){const n={};n.database=Hm(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Um(l)?{documents:a2(o,l)}:{query:l2(o,l).ct},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=b1(o,s.resumeToken);const u=Bm(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(he.min())>0){a.readTime=xd(o,s.snapshotVersion.toTimestamp());const u=Bm(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const r=c2(this.serializer,t);r&&(n.labels=r),this.c_(n)}m_(t){const n={};n.database=Hm(this.serializer),n.removeTarget=t,this.c_(n)}}class X2 extends j1{constructor(t,n,r,i,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(t,n){return this.connection.qo("Write",t,n)}A_(t){return De(!!t.streamToken),this.lastStreamToken=t.streamToken,De(!t.writeResults||t.writeResults.length===0),this.listener.p_()}onNext(t){De(!!t.streamToken),this.lastStreamToken=t.streamToken,this.r_.reset();const n=s2(t.writeResults,t.commitTime),r=ur(t.commitTime);return this.listener.y_(r,n)}w_(){const t={};t.database=Hm(this.serializer),this.c_(t)}g_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>o2(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2 extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new J(z.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(t,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Oo(t,zm(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(z.UNKNOWN,o.toString())})}ko(t,n,r,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.ko(t,zm(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(z.UNKNOWN,s.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class J2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(t){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.M_("Offline")))}set(t){this.N_(),this.D_=0,t==="Online"&&(this.C_=!1),this.M_(t)}M_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}x_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?($r(n),this.C_=!1):Q("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(t,n,r,i,o){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(s=>{r.enqueueAndForget(async()=>{Fo(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=fe(l);u.k_.add(4),await ru(u),u.K_.set("Unknown"),u.k_.delete(4),await Sh(u)}(this))})}),this.K_=new J2(r,i)}}async function Sh(e){if(Fo(e))for(const t of e.q_)await t(!0)}async function ru(e){for(const t of e.q_)await t(!1)}function B1(e,t){const n=fe(e);n.L_.has(t.targetId)||(n.L_.set(t.targetId,t),zy(n)?By(n):ea(n).s_()&&jy(n,t))}function $y(e,t){const n=fe(e),r=ea(n);n.L_.delete(t),r.s_()&&z1(n,t),n.L_.size===0&&(r.s_()?r.a_():Fo(n)&&n.K_.set("Unknown"))}function jy(e,t){if(e.U_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(he.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ea(e).V_(t)}function z1(e,t){e.U_.xe(t),ea(e).m_(t)}function By(e){e.U_=new YM({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>e.L_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),ea(e).start(),e.K_.F_()}function zy(e){return Fo(e)&&!ea(e).i_()&&e.L_.size>0}function Fo(e){return fe(e).k_.size===0}function W1(e){e.U_=void 0}async function eF(e){e.K_.set("Online")}async function tF(e){e.L_.forEach((t,n)=>{jy(e,t)})}async function nF(e,t){W1(e),zy(e)?(e.K_.O_(t),By(e)):e.K_.set("Unknown")}async function rF(e,t,n){if(e.K_.set("Online"),t instanceof R1&&t.state===2&&t.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.L_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.L_.delete(a),i.U_.removeTarget(a))}(e,t)}catch(r){Q("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Td(e,r)}else if(t instanceof Mc?e.U_.$e(t):t instanceof P1?e.U_.Je(t):e.U_.Ge(t),!n.isEqual(he.min()))try{const r=await U1(e.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.U_.it(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=o.L_.get(u);d&&o.L_.set(u,d.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const d=o.L_.get(l);if(!d)return;o.L_.set(l,d.withResumeToken(It.EMPTY_BYTE_STRING,d.snapshotVersion)),z1(o,l);const h=new gi(d.target,l,u,d.sequenceNumber);jy(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){Q("RemoteStore","Failed to raise snapshot:",r),await Td(e,r)}}async function Td(e,t,n){if(!Zs(t))throw t;e.k_.add(1),await ru(e),e.K_.set("Offline"),n||(n=()=>U1(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await n(),e.k_.delete(1),await Sh(e)})}function H1(e,t){return t().catch(n=>Td(e,n,t))}async function Ch(e){const t=fe(e),n=Vi(t);let r=t.B_.length>0?t.B_[t.B_.length-1].batchId:-1;for(;iF(t);)try{const i=await j2(t.localStore,r);if(i===null){t.B_.length===0&&n.a_();break}r=i.batchId,oF(t,i)}catch(i){await Td(t,i)}G1(t)&&q1(t)}function iF(e){return Fo(e)&&e.B_.length<10}function oF(e,t){e.B_.push(t);const n=Vi(e);n.s_()&&n.f_&&n.g_(t.mutations)}function G1(e){return Fo(e)&&!Vi(e).i_()&&e.B_.length>0}function q1(e){Vi(e).start()}async function sF(e){Vi(e).w_()}async function aF(e){const t=Vi(e);for(const n of e.B_)t.g_(n.mutations)}async function lF(e,t,n){const r=e.B_.shift(),i=Ny.from(r,t,n);await H1(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Ch(e)}async function uF(e,t){t&&Vi(e).f_&&await async function(r,i){if(function(s){return KM(s)&&s!==z.ABORTED}(i.code)){const o=r.B_.shift();Vi(r).__(),await H1(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Ch(r)}}(e,t),G1(e)&&q1(e)}async function t0(e,t){const n=fe(e);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const r=Fo(n);n.k_.add(3),await ru(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.k_.delete(3),await Sh(n)}async function cF(e,t){const n=fe(e);t?(n.k_.delete(2),await Sh(n)):t||(n.k_.add(2),await ru(n),n.K_.set("Unknown"))}function ea(e){return e.W_||(e.W_=function(n,r,i){const o=fe(n);return o.b_(),new Q2(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{Ro:eF.bind(null,e),mo:tF.bind(null,e),po:nF.bind(null,e),R_:rF.bind(null,e)}),e.q_.push(async t=>{t?(e.W_.__(),zy(e)?By(e):e.K_.set("Unknown")):(await e.W_.stop(),W1(e))})),e.W_}function Vi(e){return e.G_||(e.G_=function(n,r,i){const o=fe(n);return o.b_(),new X2(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{Ro:()=>Promise.resolve(),mo:sF.bind(null,e),po:uF.bind(null,e),p_:aF.bind(null,e),y_:lF.bind(null,e)}),e.q_.push(async t=>{t?(e.G_.__(),await Ch(e)):(await e.G_.stop(),e.B_.length>0&&(Q("RemoteStore",`Stopping write stream with ${e.B_.length} pending writes`),e.B_=[]))})),e.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,o){const s=Date.now()+r,a=new Wy(t,n,s,i,o);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hy(e,t){if($r("AsyncQueue",`${t}: ${e}`),Zs(e))return new J(z.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{static emptySet(t){return new ws(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=Wa(),this.sortedSet=new Xe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ws)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new ws;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(){this.z_=new Xe(ee.comparator)}track(t){const n=t.doc.key,r=this.z_.get(n);r?t.type!==0&&r.type===3?this.z_=this.z_.insert(n,t):t.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.z_=this.z_.remove(n):t.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:t.doc}):de():this.z_=this.z_.insert(n,t)}j_(){const t=[];return this.z_.inorderTraversal((n,r)=>{t.push(r)}),t}}class $s{constructor(t,n,r,i,o,s,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new $s(t,n,ws.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&gh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(t=>t.Z_())}}class hF{constructor(){this.queries=r0(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=fe(n),o=i.queries;i.queries=r0(),o.forEach((s,a)=>{for(const l of a.J_)l.onError(r)})})(this,new J(z.ABORTED,"Firestore shutting down"))}}function r0(){return new Mo(e=>m1(e),gh)}async function Gy(e,t){const n=fe(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.Y_()&&t.Z_()&&(r=2):(o=new dF,r=t.Z_()?0:1);try{switch(r){case 0:o.H_=await n.onListen(i,!0);break;case 1:o.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=Hy(s,`Initialization of query '${Yo(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,o),o.J_.push(t),t.ea(n.onlineState),o.H_&&t.ta(o.H_)&&Ky(n)}async function qy(e,t){const n=fe(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const s=o.J_.indexOf(t);s>=0&&(o.J_.splice(s,1),o.J_.length===0?i=t.Z_()?0:1:!o.Y_()&&t.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function fF(e,t){const n=fe(e);let r=!1;for(const i of t){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.J_)a.ta(i)&&(r=!0);s.H_=i}}r&&Ky(n)}function pF(e,t,n){const r=fe(e),i=r.queries.get(t);if(i)for(const o of i.J_)o.onError(n);r.queries.delete(t)}function Ky(e){e.X_.forEach(t=>{t.next()})}var qm,i0;(i0=qm||(qm={})).na="default",i0.Cache="cache";class Qy{constructor(t,n,r){this.query=t,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new $s(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ia?this.oa(t)&&(this.ra.next(t),n=!0):this._a(t,this.onlineState)&&(this.aa(t),n=!0),this.sa=t,n}onError(t){this.ra.error(t)}ea(t){this.onlineState=t;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,t)&&(this.aa(this.sa),n=!0),n}_a(t,n){if(!t.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}oa(t){if(t.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(t){t=$s.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ia=!0,this.ra.next(t)}Z_(){return this.options.source!==qm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(t){this.key=t}}class Q1{constructor(t){this.key=t}}class mF{constructor(t,n){this.query=t,this.Ea=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=we(),this.mutatedKeys=we(),this.Va=g1(t),this.ma=new ws(this.Va)}get fa(){return this.Ea}ga(t,n){const r=n?n.pa:new n0,i=n?n.ma:this.ma;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((d,h)=>{const p=i.get(d),f=yh(this.query,h)?h:null,m=!!p&&this.mutatedKeys.has(p.key),_=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let x=!1;p&&f?p.data.isEqual(f.data)?m!==_&&(r.track({type:3,doc:f}),x=!0):this.ya(p,f)||(r.track({type:2,doc:f}),x=!0,(l&&this.Va(f,l)>0||u&&this.Va(f,u)<0)&&(a=!0)):!p&&f?(r.track({type:0,doc:f}),x=!0):p&&!f&&(r.track({type:1,doc:p}),x=!0,(l||u)&&(a=!0)),x&&(f?(s=s.add(f),o=_?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{ma:s,pa:r,ss:a,mutatedKeys:o}}ya(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const o=this.ma;this.ma=t.ma,this.mutatedKeys=t.mutatedKeys;const s=t.pa.j_();s.sort((d,h)=>function(f,m){const _=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de()}};return _(f)-_(m)}(d.type,h.type)||this.Va(d.doc,h.doc)),this.wa(r),i=i!=null&&i;const a=n&&!i?this.Sa():[],l=this.Ra.size===0&&this.current&&!i?1:0,u=l!==this.Aa;return this.Aa=l,s.length!==0||u?{snapshot:new $s(this.query,t.ma,o,s,t.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:a}:{ba:a}}ea(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new n0,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(t){return!this.Ea.has(t)&&!!this.ma.has(t)&&!this.ma.get(t).hasLocalMutations}wa(t){t&&(t.addedDocuments.forEach(n=>this.Ea=this.Ea.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ea=this.Ea.delete(n)),this.current=t.current)}Sa(){if(!this.current)return[];const t=this.Ra;this.Ra=we(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return t.forEach(r=>{this.Ra.has(r)||n.push(new Q1(r))}),this.Ra.forEach(r=>{t.has(r)||n.push(new K1(r))}),n}va(t){this.Ea=t.Es,this.Ra=we();const n=this.ga(t.documents);return this.applyChanges(n,!0)}Ca(){return $s.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class gF{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class yF{constructor(t){this.key=t,this.Fa=!1}}class vF{constructor(t,n,r,i,o,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ma={},this.xa=new Mo(a=>m1(a),gh),this.Oa=new Map,this.Na=new Set,this.Ba=new Xe(ee.comparator),this.La=new Map,this.ka=new Fy,this.qa={},this.Qa=new Map,this.Ka=Us.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function _F(e,t,n=!0){const r=tA(e);let i;const o=r.xa.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ca()):i=await X1(r,t,n,!0),i}async function wF(e,t){const n=tA(e);await X1(n,t,!0,!1)}async function X1(e,t,n,r){const i=await B2(e.localStore,lr(t)),o=i.targetId,s=e.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await EF(e,t,o,s==="current",i.resumeToken)),e.isPrimaryClient&&n&&B1(e.remoteStore,i),a}async function EF(e,t,n,r,i){e.Ua=(h,p,f)=>async function(_,x,y,v){let E=x.view.ga(y);E.ss&&(E=await JE(_.localStore,x.query,!1).then(({documents:P})=>x.view.ga(P,E)));const D=v&&v.targetChanges.get(x.targetId),F=v&&v.targetMismatches.get(x.targetId)!=null,k=x.view.applyChanges(E,_.isPrimaryClient,D,F);return s0(_,x.targetId,k.ba),k.snapshot}(e,h,p,f);const o=await JE(e.localStore,t,!0),s=new mF(t,o.Es),a=s.ga(o.documents),l=nu.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=s.applyChanges(a,e.isPrimaryClient,l);s0(e,n,u.ba);const d=new gF(t,n,s);return e.xa.set(t,d),e.Oa.has(n)?e.Oa.get(n).push(t):e.Oa.set(n,[t]),u.snapshot}async function SF(e,t,n){const r=fe(e),i=r.xa.get(t),o=r.Oa.get(i.targetId);if(o.length>1)return r.Oa.set(i.targetId,o.filter(s=>!gh(s,t))),void r.xa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Gm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&$y(r.remoteStore,i.targetId),Km(r,i.targetId)}).catch(Js)):(Km(r,i.targetId),await Gm(r.localStore,i.targetId,!0))}async function CF(e,t){const n=fe(e),r=n.xa.get(t),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),$y(n.remoteStore,r.targetId))}async function IF(e,t,n){const r=kF(e);try{const i=await function(s,a){const l=fe(s),u=ut.now(),d=a.reduce((f,m)=>f.add(m.key),we());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=jr(),_=we();return l.hs.getEntries(f,d).next(x=>{m=x,m.forEach((y,v)=>{v.isValidDocument()||(_=_.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,m)).next(x=>{h=x;const y=[];for(const v of a){const E=zM(v,h.get(v.key).overlayedDocument);E!=null&&y.push(new qi(v.key,E,a1(E.value.mapValue),Bn.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,y,a)}).next(x=>{p=x;const y=x.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(f,x.batchId,y)})}).then(()=>({batchId:p.batchId,changes:v1(h)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.qa[s.currentUser.toKey()];u||(u=new Xe(Ee)),u=u.insert(a,l),s.qa[s.currentUser.toKey()]=u}(r,i.batchId,n),await iu(r,i.changes),await Ch(r.remoteStore)}catch(i){const o=Hy(i,"Failed to persist write");n.reject(o)}}async function Y1(e,t){const n=fe(e);try{const r=await U2(n.localStore,t);t.targetChanges.forEach((i,o)=>{const s=n.La.get(o);s&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Fa=!0:i.modifiedDocuments.size>0?De(s.Fa):i.removedDocuments.size>0&&(De(s.Fa),s.Fa=!1))}),await iu(n,r,t)}catch(r){await Js(r)}}function o0(e,t,n){const r=fe(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((o,s)=>{const a=s.view.ea(t);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=fe(s);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const p of h.J_)p.ea(a)&&(u=!0)}),u&&Ky(l)}(r.eventManager,t),i.length&&r.Ma.R_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function xF(e,t,n){const r=fe(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.La.get(t),o=i&&i.key;if(o){let s=new Xe(ee.comparator);s=s.insert(o,Nt.newNoDocument(o,he.min()));const a=we().add(o),l=new wh(he.min(),new Map,new Xe(Ee),s,a);await Y1(r,l),r.Ba=r.Ba.remove(o),r.La.delete(t),Xy(r)}else await Gm(r.localStore,t,!1).then(()=>Km(r,t,n)).catch(Js)}async function AF(e,t){const n=fe(e),r=t.batch.batchId;try{const i=await V2(n.localStore,t);Z1(n,r,null),J1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await iu(n,i)}catch(i){await Js(i)}}async function TF(e,t,n){const r=fe(e);try{const i=await function(s,a){const l=fe(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(De(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,t);Z1(r,t,n),J1(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await iu(r,i)}catch(i){await Js(i)}}function J1(e,t){(e.Qa.get(t)||[]).forEach(n=>{n.resolve()}),e.Qa.delete(t)}function Z1(e,t,n){const r=fe(e);let i=r.qa[r.currentUser.toKey()];if(i){const o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.qa[r.currentUser.toKey()]=i}}function Km(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Oa.get(t))e.xa.delete(r),n&&e.Ma.Wa(r,n);e.Oa.delete(t),e.isPrimaryClient&&e.ka.yr(t).forEach(r=>{e.ka.containsKey(r)||eA(e,r)})}function eA(e,t){e.Na.delete(t.path.canonicalString());const n=e.Ba.get(t);n!==null&&($y(e.remoteStore,n),e.Ba=e.Ba.remove(t),e.La.delete(n),Xy(e))}function s0(e,t,n){for(const r of n)r instanceof K1?(e.ka.addReference(r.key,t),PF(e,r)):r instanceof Q1?(Q("SyncEngine","Document no longer in limbo: "+r.key),e.ka.removeReference(r.key,t),e.ka.containsKey(r.key)||eA(e,r.key)):de()}function PF(e,t){const n=t.key,r=n.path.canonicalString();e.Ba.get(n)||e.Na.has(r)||(Q("SyncEngine","New document in limbo: "+n),e.Na.add(r),Xy(e))}function Xy(e){for(;e.Na.size>0&&e.Ba.size<e.maxConcurrentLimboResolutions;){const t=e.Na.values().next().value;e.Na.delete(t);const n=new ee($e.fromString(t)),r=e.Ka.next();e.La.set(r,new yF(n)),e.Ba=e.Ba.insert(n,r),B1(e.remoteStore,new gi(lr(mh(n.path)),r,"TargetPurposeLimboResolution",hh.oe))}}async function iu(e,t,n){const r=fe(e),i=[],o=[],s=[];r.xa.isEmpty()||(r.xa.forEach((a,l)=>{s.push(r.Ua(l,t,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=Uy.zi(l.targetId,u);o.push(h)}}))}),await Promise.all(s),r.Ma.R_(i),await async function(l,u){const d=fe(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>B.forEach(u,p=>B.forEach(p.Wi,f=>d.persistence.referenceDelegate.addReference(h,p.targetId,f)).next(()=>B.forEach(p.Gi,f=>d.persistence.referenceDelegate.removeReference(h,p.targetId,f)))))}catch(h){if(!Zs(h))throw h;Q("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const f=d.us.get(p),m=f.snapshotVersion,_=f.withLastLimboFreeSnapshotVersion(m);d.us=d.us.insert(p,_)}}}(r.localStore,o))}async function RF(e,t){const n=fe(e);if(!n.currentUser.isEqual(t)){Q("SyncEngine","User change. New user:",t.toKey());const r=await V1(n.localStore,t);n.currentUser=t,function(o,s){o.Qa.forEach(a=>{a.forEach(l=>{l.reject(new J(z.CANCELLED,s))})}),o.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await iu(n,r.Ts)}}function bF(e,t){const n=fe(e),r=n.La.get(t);if(r&&r.Fa)return we().add(r.key);{let i=we();const o=n.Oa.get(t);if(!o)return i;for(const s of o){const a=n.xa.get(s);i=i.unionWith(a.view.fa)}return i}}function tA(e){const t=fe(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Y1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bF.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xF.bind(null,t),t.Ma.R_=fF.bind(null,t.eventManager),t.Ma.Wa=pF.bind(null,t.eventManager),t}function kF(e){const t=fe(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=AF.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=TF.bind(null,t),t}class Pd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Eh(t.databaseInfo.databaseId),this.sharedClientState=this.za(t),this.persistence=this.ja(t),await this.persistence.start(),this.localStore=this.Ha(t),this.gcScheduler=this.Ja(t,this.localStore),this.indexBackfillerScheduler=this.Ya(t,this.localStore)}Ja(t,n){return null}Ya(t,n){return null}Ha(t){return F2(this.persistence,new L2,t.initialUser,this.serializer)}ja(t){return new F1(Vy.ei,this.serializer)}za(t){return new W2}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pd.provider={build:()=>new Pd};class DF extends Pd{constructor(t){super(),this.cacheSizeBytes=t}Ja(t,n){De(this.persistence.referenceDelegate instanceof Ad);const r=this.persistence.referenceDelegate.garbageCollector;return new w2(r,t.asyncQueue,n)}ja(t){const n=this.cacheSizeBytes!==void 0?Xt.withCacheSize(this.cacheSizeBytes):Xt.DEFAULT;return new F1(r=>Ad.ei(r,n),this.serializer)}}class Qm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>o0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=RF.bind(null,this.syncEngine),await cF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new hF}()}createDatastore(t){const n=Eh(t.databaseInfo.databaseId),r=function(o){return new K2(o)}(t.databaseInfo);return function(o,s,a,l){return new Y2(o,s,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,o,s,a){return new Z2(r,i,o,s,a)}(this.localStore,this.datastore,t.asyncQueue,n=>o0(this.syncEngine,n,0),function(){return e0.p()?new e0:new H2}())}createSyncEngine(t,n){return function(i,o,s,a,l,u,d){const h=new vF(i,o,s,a,l,u);return d&&(h.$a=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(i){const o=fe(i);Q("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await ru(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Qm.provider={build:()=>new Qm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Xa(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Xa(this.observer.error,t):$r("Uncaught Error in snapshot listener:",t.toString()))}eu(){this.muted=!0}Xa(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(t,n,r,i,o){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Dt.UNAUTHENTICATED,this.clientId=i1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{Q("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Hy(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Jf(e,t){e.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await V1(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function a0(e,t){e.asyncQueue.verifyOperationInProgress();const n=await NF(e);Q("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>t0(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>t0(t.remoteStore,i)),e._onlineComponents=t}async function NF(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{await Jf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===z.FAILED_PRECONDITION||i.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ls("Error using user provided cache. Falling back to memory cache: "+n),await Jf(e,new Pd)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),await Jf(e,new DF(void 0));return e._offlineComponents}async function nA(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),await a0(e,e._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),await a0(e,new Qm))),e._onlineComponents}function LF(e){return nA(e).then(t=>t.syncEngine)}async function Rd(e){const t=await nA(e),n=t.eventManager;return n.onListen=_F.bind(null,t.syncEngine),n.onUnlisten=SF.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=wF.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=CF.bind(null,t.syncEngine),n}function MF(e,t,n={}){const r=new Or;return e.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const d=new Yy({next:p=>{d.eu(),s.enqueueAndForget(()=>qy(o,h));const f=p.docs.has(a);!f&&p.fromCache?u.reject(new J(z.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&p.fromCache&&l&&l.source==="server"?u.reject(new J(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new Qy(mh(a.path),d,{includeMetadataChanges:!0,ua:!0});return Gy(o,h)}(await Rd(e),e.asyncQueue,t,n,r)),r.promise}function FF(e,t,n={}){const r=new Or;return e.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const d=new Yy({next:p=>{d.eu(),s.enqueueAndForget(()=>qy(o,h)),p.fromCache&&l.source==="server"?u.reject(new J(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new Qy(a,d,{includeMetadataChanges:!0,ua:!0});return Gy(o,h)}(await Rd(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(e,t,n){if(!n)throw new J(z.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function VF(e,t,n,r){if(t===!0&&r===!0)throw new J(z.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function u0(e){if(!ee.isDocumentKey(e))throw new J(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function c0(e){if(ee.isDocumentKey(e))throw new J(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Ih(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":de()}function mn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new J(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ih(e);throw new J(z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new J(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new J(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}VF("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rA((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new J(z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new J(z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new J(z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xh{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new J(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d0(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new XL;switch(r.type){case"firstParty":return new eM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=l0.get(n);r&&(Q("ComponentProvider","Removing Datastore"),l0.delete(n),r.terminate())}(this),Promise.resolve()}}function UF(e,t,n,r={}){var i;const o=(e=mn(e,xh))._getSettings(),s=`${t}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Dt.MOCK_USER;else{a=IN(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new J(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Dt(u)}e._authCredentials=new YL(new r1(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Vo(this.firestore,t,this._query)}}class Ft{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bi(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ft(this.firestore,t,this._key)}}class bi extends Vo{constructor(t,n,r){super(t,n,mh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ft(this.firestore,null,new ee(t))}withConverter(t){return new bi(this.firestore,t,this._path)}}function Ah(e,t,...n){if(e=ot(e),iA("collection","path",t),e instanceof xh){const r=$e.fromString(t,...n);return c0(r),new bi(e,null,r)}{if(!(e instanceof Ft||e instanceof bi))throw new J(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child($e.fromString(t,...n));return c0(r),new bi(e.firestore,null,r)}}function Ki(e,t,...n){if(e=ot(e),arguments.length===1&&(t=i1.newId()),iA("doc","path",t),e instanceof xh){const r=$e.fromString(t,...n);return u0(r),new Ft(e,null,new ee(r))}{if(!(e instanceof Ft||e instanceof bi))throw new J(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child($e.fromString(t,...n));return u0(r),new Ft(e.firestore,e instanceof bi?e.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(t=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new $1(this,"async_queue_retry"),this.fu=()=>{const r=Yf();r&&Q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=t;const n=Yf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.pu(),this.yu(t)}enterRestrictedMode(t){if(!this.du){this.du=!0,this.Vu=t||!1;const n=Yf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(t){if(this.pu(),this.du)return new Promise(()=>{});const n=new Or;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Iu.push(t),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(t){if(!Zs(t))throw t;Q("AsyncQueue","Operation failed with retryable error: "+t)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(t){const n=this.gu.then(()=>(this.Ru=!0,t().catch(r=>{this.Au=r,this.Ru=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw $r("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(t,n,r){this.pu(),this.mu.indexOf(t)>-1&&(n=0);const i=Wy.createAndSchedule(this,t,n,r,o=>this.Su(o));return this.Eu.push(i),i}pu(){this.Au&&de()}verifyOperationInProgress(){}async bu(){let t;do t=this.gu,await t;while(t!==this.gu)}Du(t){for(const n of this.Eu)if(n.timerId===t)return!0;return!1}vu(t){return this.bu().then(()=>{this.Eu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Eu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.bu()})}Cu(t){this.mu.push(t)}Su(t){const n=this.Eu.indexOf(t);this.Eu.splice(n,1)}}function f0(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(e,["next","error","complete"])}class Ui extends xh{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new h0,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new h0(t),this._firestoreClient=void 0,await t}}}function $F(e,t){const n=typeof e=="object"?e:Kx(),r=typeof e=="string"?e:"(default)",i=Ay(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=SN("firestore");o&&UF(i,...o)}return i}function Th(e){if(e._terminated)throw new J(z.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||jF(e),e._firestoreClient}function jF(e){var t,n,r;const i=e._freezeSettings(),o=function(a,l,u,d){return new mM(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,rA(d.experimentalLongPollingOptions),d.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new OF(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(t){this._byteString=t}static fromBase64String(t){try{return new js(It.fromBase64String(t))}catch(n){throw new J(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new js(It.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new J(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new J(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new J(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ee(this._lat,t._lat)||Ee(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF=/^__.*__$/;class zF{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new qi(t,this.data,this.fieldMask,n,this.fieldTransforms):new tu(t,this.data,n,this.fieldTransforms)}}class oA{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new qi(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function sA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de()}}class tv{constructor(t,n,r,i,o,s){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(t){return new tv(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xu({path:r,Nu:!1});return i.Bu(t),i}Lu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(t){return this.xu({path:void 0,Nu:!0})}qu(t){return bd(t,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Bu(this.path.get(t))}Bu(t){if(t.length===0)throw this.qu("Document fields must not be empty");if(sA(this.Mu)&&BF.test(t))throw this.qu('Document fields cannot begin and end with "__"')}}class WF{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Eh(t)}$u(t,n,r,i=!1){return new tv({Mu:t,methodName:n,Ku:r,path:Et.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nv(e){const t=e._freezeSettings(),n=Eh(e._databaseId);return new WF(e._databaseId,!!t.ignoreUndefinedProperties,n)}function HF(e,t,n,r,i,o={}){const s=e.$u(o.merge||o.mergeFields?2:0,t,n,i);rv("Data must be an object, but it was:",s,r);const a=aA(r,s);let l,u;if(o.merge)l=new fn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const h of o.mergeFields){const p=Xm(t,h,n);if(!s.contains(p))throw new J(z.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);uA(d,p)||d.push(p)}l=new fn(d),u=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=s.fieldTransforms;return new zF(new Jt(a),l,u)}class Rh extends Jy{_toFieldTransform(t){if(t.Mu!==2)throw t.Mu===1?t.qu(`${this._methodName}() can only appear at the top level of your update data`):t.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Rh}}function GF(e,t,n,r){const i=e.$u(1,t,n);rv("Data must be an object, but it was:",i,r);const o=[],s=Jt.empty();Gi(r,(l,u)=>{const d=iv(t,l,n);u=ot(u);const h=i.Lu(d);if(u instanceof Rh)o.push(d);else{const p=ou(u,h);p!=null&&(o.push(d),s.set(d,p))}});const a=new fn(o);return new oA(s,a,i.fieldTransforms)}function qF(e,t,n,r,i,o){const s=e.$u(1,t,n),a=[Xm(t,r,n)],l=[i];if(o.length%2!=0)throw new J(z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<o.length;p+=2)a.push(Xm(t,o[p])),l.push(o[p+1]);const u=[],d=Jt.empty();for(let p=a.length-1;p>=0;--p)if(!uA(u,a[p])){const f=a[p];let m=l[p];m=ot(m);const _=s.Lu(f);if(m instanceof Rh)u.push(f);else{const x=ou(m,_);x!=null&&(u.push(f),d.set(f,x))}}const h=new fn(u);return new oA(d,h,s.fieldTransforms)}function KF(e,t,n,r=!1){return ou(n,e.$u(r?4:3,t))}function ou(e,t){if(lA(e=ot(e)))return rv("Unsupported field value:",t,e),aA(e,t);if(e instanceof Jy)return function(r,i){if(!sA(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Nu&&t.Mu!==4)throw t.qu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=ou(a,i.ku(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(e,t)}return function(r,i){if((r=ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return FM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ut.fromDate(r);return{timestampValue:xd(i.serializer,o)}}if(r instanceof ut){const o=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xd(i.serializer,o)}}if(r instanceof Zy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof js)return{bytesValue:b1(i.serializer,r._byteString)};if(r instanceof Ft){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.qu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:My(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ev)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.qu("VectorValues must only contain numeric values.");return Dy(a.serializer,l)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${Ih(r)}`)}(e,t)}function aA(e,t){const n={};return o1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Gi(e,(r,i)=>{const o=ou(i,t.Ou(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function lA(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ut||e instanceof Zy||e instanceof js||e instanceof Ft||e instanceof Jy||e instanceof ev)}function rv(e,t,n){if(!lA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Ih(n);throw r==="an object"?t.qu(e+" a custom object"):t.qu(e+" "+r)}}function Xm(e,t,n){if((t=ot(t))instanceof Ph)return t._internalPath;if(typeof t=="string")return iv(e,t);throw bd("Field path arguments must be of type string or ",e,!1,void 0,n)}const QF=new RegExp("[~\\*/\\[\\]]");function iv(e,t,n){if(t.search(QF)>=0)throw bd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Ph(...t.split("."))._internalPath}catch{throw bd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function bd(e,t,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new J(z.INVALID_ARGUMENT,a+e+l)}function uA(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new XF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(ov("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class XF extends cA{data(){return super.data()}}function ov(e,t){return typeof t=="string"?iv(e,t):t instanceof Ph?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new J(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sv{}class YF extends sv{}function JF(e,t,...n){let r=[];t instanceof sv&&r.push(t),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof av).length,a=o.filter(l=>l instanceof bh).length;if(s>1||s>0&&a>0)throw new J(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class bh extends YF{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new bh(t,n,r)}_apply(t){const n=this._parse(t);return hA(t._query,n),new Vo(t.firestore,t.converter,$m(t._query,n))}_parse(t){const n=nv(t.firestore);return function(o,s,a,l,u,d,h){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new J(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){m0(h,d);const f=[];for(const m of h)f.push(p0(l,o,m));p={arrayValue:{values:f}}}else p=p0(l,o,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||m0(h,d),p=KF(a,s,h,d==="in"||d==="not-in");return it.create(u,d,p)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function ZF(e,t,n){const r=t,i=ov("where",e);return bh._create(i,r,n)}class av extends sv{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new av(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:qn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)hA(s,l),s=$m(s,l)}(t._query,n),new Vo(t.firestore,t.converter,$m(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function p0(e,t,n){if(typeof(n=ot(n))=="string"){if(n==="")throw new J(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!p1(t)&&n.indexOf("/")!==-1)throw new J(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child($e.fromString(n));if(!ee.isDocumentKey(r))throw new J(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return NE(e,new ee(r))}if(n instanceof Ft)return NE(e,n._key);throw new J(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ih(n)}.`)}function m0(e,t){if(!Array.isArray(e)||e.length===0)throw new J(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function hA(e,t){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new J(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new J(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class eV{convertValue(t,n="none"){switch(Fi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ze(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Mi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw de()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Gi(t,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(t){var n,r,i;const o=(i=(r=(n=t.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ze(s.doubleValue));return new ev(o)}convertGeoPoint(t){return new Zy(Ze(t.latitude),Ze(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=ph(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(kl(t));default:return null}}convertTimestamp(t){const n=Li(t);return new ut(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=$e.fromString(t);De(M1(r));const i=new Dl(r.get(1),r.get(3)),o=new ee(r.popFirst(5));return i.isEqual(n)||$r(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(e,t,n){let r;return r=e?e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class fA extends cA{constructor(t,n,r,i,o,s){super(t,n,r,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(ov("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Fc extends fA{data(t={}){return super.data(t)}}class pA{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ga(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Fc(this._firestore,this._userDataWriter,r.key,r,new Ga(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Fc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ga(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Fc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ga(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:nV(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function nV(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(e){e=mn(e,Ft);const t=mn(e.firestore,Ui);return MF(Th(t),e._key).then(n=>mA(t,e,n))}class uv extends eV{constructor(t){super(),this.firestore=t}convertBytes(t){return new js(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ft(this.firestore,null,n)}}function cv(e){e=mn(e,Vo);const t=mn(e.firestore,Ui),n=Th(t),r=new uv(t);return dA(e._query),FF(n,e._query).then(i=>new pA(t,r,e,i))}function rV(e,t,n){e=mn(e,Ft);const r=mn(e.firestore,Ui),i=tV(e.converter,t);return hv(r,[HF(nv(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,Bn.none())])}function dv(e,t,n,...r){e=mn(e,Ft);const i=mn(e.firestore,Ui),o=nv(i);let s;return s=typeof(t=ot(t))=="string"||t instanceof Ph?qF(o,"updateDoc",e._key,t,n,r):GF(o,"updateDoc",e._key,t),hv(i,[s.toMutation(e._key,Bn.exists(!0))])}function iV(e){return hv(mn(e.firestore,Ui),[new Oy(e._key,Bn.none())])}function oV(e,...t){var n,r,i;e=ot(e);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||f0(t[s])||(o=t[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(f0(t[s])){const h=t[s];t[s]=(n=h.next)===null||n===void 0?void 0:n.bind(h),t[s+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),t[s+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,d;if(e instanceof Ft)u=mn(e.firestore,Ui),d=mh(e._key.path),l={next:h=>{t[s]&&t[s](mA(u,e,h))},error:t[s+1],complete:t[s+2]};else{const h=mn(e,Vo);u=mn(h.firestore,Ui),d=h._query;const p=new uv(u);l={next:f=>{t[s]&&t[s](new pA(u,p,h,f))},error:t[s+1],complete:t[s+2]},dA(e._query)}return function(p,f,m,_){const x=new Yy(_),y=new Qy(f,x,m);return p.asyncQueue.enqueueAndForget(async()=>Gy(await Rd(p),y)),()=>{x.eu(),p.asyncQueue.enqueueAndForget(async()=>qy(await Rd(p),y))}}(Th(u),d,a,l)}function hv(e,t){return function(r,i){const o=new Or;return r.asyncQueue.enqueueAndForget(async()=>IF(await LF(r),i,o)),o.promise}(Th(e),t)}function mA(e,t,n){const r=n.docs.get(t._key),i=new uv(e);return new fA(e,i,t._key,r,new Ga(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(i){Ys=i})(Xs),Ns(new Co("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Ui(new JL(r.getProvider("auth-internal")),new nM(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new J(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(u.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Pi(PE,"4.7.6",t),Pi(PE,"4.7.6","esm2017")})();function fv(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function gA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sV=gA,yA=new Jl("auth","Firebase",gA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd=new Iy("@firebase/auth");function aV(e,...t){kd.logLevel<=_e.WARN&&kd.warn(`Auth (${Xs}): ${e}`,...t)}function Vc(e,...t){kd.logLevel<=_e.ERROR&&kd.error(`Auth (${Xs}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(e,...t){throw pv(e,...t)}function cr(e,...t){return pv(e,...t)}function vA(e,t,n){const r=Object.assign(Object.assign({},sV()),{[t]:n});return new Jl("auth","Firebase",r).create(t,{appName:e.name})}function Nr(e){return vA(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pv(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return yA.create(e,...t)}function ae(e,t,...n){if(!e)throw pv(t,...n)}function Tr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Vc(t),new Error(t)}function Br(e,t){e||Tr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function lV(){return g0()==="http:"||g0()==="https:"}function g0(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lV()||PN()||"connection"in navigator)?navigator.onLine:!0}function cV(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(t,n){this.shortDelay=t,this.longDelay=n,Br(n>t,"Short delay should be less than long delay!"),this.isMobile=xN()||RN()}get(){return uV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(e,t){Br(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=new su(3e4,6e4);function Kr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Qr(e,t,n,r,i={}){return wA(e,i,async()=>{let o={},s={};r&&(t==="GET"?s=r:o={body:JSON.stringify(r)});const a=Zl(Object.assign({key:e.config.apiKey},s)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u=Object.assign({method:t,headers:l},o);return TN()||(u.referrerPolicy="no-referrer"),_A.fetch()(EA(e,e.config.apiHost,n,a),u)})}async function wA(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},dV),t);try{const i=new pV(e),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw lc(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw lc(e,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw lc(e,"email-already-in-use",s);if(l==="USER_DISABLED")throw lc(e,"user-disabled",s);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw vA(e,d,u);Kn(e,d)}}catch(i){if(i instanceof qr)throw i;Kn(e,"network-request-failed",{message:String(i)})}}async function au(e,t,n,r,i={}){const o=await Qr(e,t,n,r,i);return"mfaPendingCredential"in o&&Kn(e,"multi-factor-auth-required",{_serverResponse:o}),o}function EA(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?mv(e.config,i):`${e.config.apiScheme}://${i}`}function fV(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(cr(this.auth,"network-request-failed")),hV.get())})}}function lc(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=cr(e,t,r);return i.customData._tokenResponse=n,i}function y0(e){return e!==void 0&&e.enterprise!==void 0}class mV{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return fV(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function gV(e,t){return Qr(e,"GET","/v2/recaptchaConfig",Kr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yV(e,t){return Qr(e,"POST","/v1/accounts:delete",t)}async function SA(e,t){return Qr(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function vV(e,t=!1){const n=ot(e),r=await n.getIdToken(t),i=gv(r);ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:sl(Zf(i.auth_time)),issuedAtTime:sl(Zf(i.iat)),expirationTime:sl(Zf(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Zf(e){return Number(e)*1e3}function gv(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const i=jx(n);return i?JSON.parse(i):(Vc("Failed to decode base64 JWT payload"),null)}catch(i){return Vc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function v0(e){const t=gv(e);return ae(t,"internal-error"),ae(typeof t.exp<"u","internal-error"),ae(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof qr&&_V(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function _V({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=sl(this.lastLoginAt),this.creationTime=sl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dd(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Ml(e,SA(n,{idToken:r}));ae(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?CA(o.providerUserInfo):[],a=SV(e.providerData,s),l=e.isAnonymous,u=!(e.email&&o.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Jm(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(e,h)}async function EV(e){const t=ot(e);await Dd(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function SV(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function CA(e){return e.map(t=>{var{providerId:n}=t,r=fv(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CV(e,t){const n=await wA(e,{},async()=>{const r=Zl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=EA(e,i,"/v1/token",`key=${o}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",_A.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function IV(e,t){return Qr(e,"POST","/v2/accounts:revokeToken",Kr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ae(t.idToken,"internal-error"),ae(typeof t.idToken<"u","internal-error"),ae(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):v0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){ae(t.length!==0,"internal-error");const n=v0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await CV(t,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Es;return r&&(ae(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),i&&(ae(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),o&&(ae(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Es,this.toJSON())}_performRefresh(){return Tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(e,t){ae(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Pr{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=fv(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Jm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Ml(this,this.stsTokenManager.getToken(this.auth,t));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return vV(this,t)}reload(){return EV(this)}_assign(t){this!==t&&(ae(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Pr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Dd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(or(this.auth.app))return Promise.reject(Nr(this.auth));const t=await this.getIdToken();return await Ml(this,yV(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,s,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,f=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,m=(s=n.photoURL)!==null&&s!==void 0?s:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:D,isAnonymous:F,providerData:k,stsTokenManager:P}=n;ae(E&&P,t,"internal-error");const A=Es.fromJSON(this.name,P);ae(typeof E=="string",t,"internal-error"),ii(h,t.name),ii(p,t.name),ae(typeof D=="boolean",t,"internal-error"),ae(typeof F=="boolean",t,"internal-error"),ii(f,t.name),ii(m,t.name),ii(_,t.name),ii(x,t.name),ii(y,t.name),ii(v,t.name);const T=new Pr({uid:E,auth:t,email:p,emailVerified:D,displayName:h,isAnonymous:F,photoURL:m,phoneNumber:f,tenantId:_,stsTokenManager:A,createdAt:y,lastLoginAt:v});return k&&Array.isArray(k)&&(T.providerData=k.map(I=>Object.assign({},I))),x&&(T._redirectEventId=x),T}static async _fromIdTokenResponse(t,n,r=!1){const i=new Es;i.updateFromServerResponse(n);const o=new Pr({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await Dd(o),o}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];ae(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?CA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Es;a.updateFromIdToken(r);const l=new Pr({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Jm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0=new Map;function Rr(e){Br(e instanceof Function,"Expected a class definition");let t=_0.get(e);return t?(Br(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,_0.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}IA.type="NONE";const w0=IA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(e,t,n){return`firebase:${e}:${t}:${n}`}class Ss{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Uc(this.userKey,i.apiKey,o),this.fullPersistenceKey=Uc("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Pr._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Ss(Rr(w0),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Rr(w0);const s=Uc(r,t.config.apiKey,t.name);let a=null;for(const u of n)try{const d=await u._get(s);if(d){const h=Pr._fromJSON(t,d);u!==o&&(a=h),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Ss(o,t,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Ss(o,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(PA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(xA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(bA(t))return"Blackberry";if(kA(t))return"Webos";if(AA(t))return"Safari";if((t.includes("chrome/")||TA(t))&&!t.includes("edge/"))return"Chrome";if(RA(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function xA(e=Ut()){return/firefox\//i.test(e)}function AA(e=Ut()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function TA(e=Ut()){return/crios\//i.test(e)}function PA(e=Ut()){return/iemobile/i.test(e)}function RA(e=Ut()){return/android/i.test(e)}function bA(e=Ut()){return/blackberry/i.test(e)}function kA(e=Ut()){return/webos/i.test(e)}function yv(e=Ut()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function xV(e=Ut()){var t;return yv(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function AV(){return bN()&&document.documentMode===10}function DA(e=Ut()){return yv(e)||RA(e)||kA(e)||bA(e)||/windows phone/i.test(e)||PA(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(e,t=[]){let n;switch(e){case"Browser":n=E0(Ut());break;case"Worker":n=`${E0(Ut())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=o=>new Promise((s,a)=>{try{const l=t(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PV(e,t={}){return Qr(e,"GET","/v2/passwordPolicy",Kr(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV=6;class bV{constructor(t){var n,r,i,o;const s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:RV,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new S0(this),this.idTokenSubscription=new S0(this),this.beforeStateQueue=new TV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Rr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ss.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await SA(this,{idToken:t}),r=await Pr._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(or(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Dd(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=cV()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(or(this.app))return Promise.reject(Nr(this));const n=t?ot(t):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&ae(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return or(this.app)?Promise.reject(Nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return or(this.app)?Promise.reject(Nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await PV(this),n=new bV(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Jl("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await IV(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Rr(t)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await Ss.create(this,[Rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=t.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=OA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&aV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Qi(e){return ot(e)}class S0{constructor(t){this.auth=t,this.observer=null,this.addObserver=VN(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DV(e){kh=e}function NA(e){return kh.loadJS(e)}function OV(){return kh.recaptchaEnterpriseScript}function NV(){return kh.gapiScript}function LV(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class MV{constructor(){this.enterprise=new FV}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class FV{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const VV="recaptcha-enterprise",LA="NO_RECAPTCHA";class UV{constructor(t){this.type=VV,this.auth=Qi(t)}async verify(t="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{gV(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new mV(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;y0(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:t}).then(u=>{s(u)}).catch(()=>{s(LA)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new MV().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&y0(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=OV();l.length!==0&&(l+=a),NA(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function C0(e,t,n,r=!1,i=!1){const o=new UV(e);let s;if(i)s=LA;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const a=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Od(e,t,n,r,i){var o;if(!((o=e._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await C0(e,t,n,n==="getOobCode");return r(e,s)}else return r(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await C0(e,t,n,n==="getOobCode");return r(e,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(e,t){const n=Ay(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(vd(o,t??{}))return i;Kn(i,"already-initialized")}return n.initialize({options:t})}function jV(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function BV(e,t,n){const r=Qi(e);ae(r._canInitEmulator,r,"emulator-config-failed"),ae(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,o=MA(t),{host:s,port:a}=zV(t),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),WV()}function MA(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function zV(e){const t=MA(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:I0(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:I0(s)}}}function I0(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function WV(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Tr("not implemented")}_getIdTokenResponse(t){return Tr("not implemented")}_linkToIdToken(t,n){return Tr("not implemented")}_getReauthenticationResolver(t){return Tr("not implemented")}}async function HV(e,t){return Qr(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GV(e,t){return au(e,"POST","/v1/accounts:signInWithPassword",Kr(e,t))}async function qV(e,t){return Qr(e,"POST","/v1/accounts:sendOobCode",Kr(e,t))}async function KV(e,t){return qV(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QV(e,t){return au(e,"POST","/v1/accounts:signInWithEmailLink",Kr(e,t))}async function XV(e,t){return au(e,"POST","/v1/accounts:signInWithEmailLink",Kr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends vv{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new Fl(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Fl(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Od(t,n,"signInWithPassword",GV);case"emailLink":return QV(t,{email:this._email,oobCode:this._password});default:Kn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Od(t,r,"signUpPassword",HV);case"emailLink":return XV(t,{idToken:n,email:this._email,oobCode:this._password});default:Kn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cs(e,t){return au(e,"POST","/v1/accounts:signInWithIdp",Kr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV="http://localhost";class xo extends vv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new xo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,o=fv(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new xo(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(t){const n=this.buildRequest();return Cs(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Cs(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Cs(t,n)}buildRequest(){const t={requestUri:YV,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Zl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ZV(e){const t=ja(Ba(e)).link,n=t?ja(Ba(t)).deep_link_id:null,r=ja(Ba(e)).deep_link_id;return(r?ja(Ba(r)).link:null)||r||n||t||e}class _v{constructor(t){var n,r,i,o,s,a;const l=ja(Ba(t)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=JV((i=l.mode)!==null&&i!==void 0?i:null);ae(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){const n=ZV(t);try{return new _v(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.providerId=Uo.PROVIDER_ID}static credential(t,n){return Fl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=_v.parseLink(n);return ae(r,"argument-error"),Fl._fromEmailAndCode(t,r.code,r.tenantId)}}Uo.PROVIDER_ID="password";Uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends FA{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends lu{constructor(){super("facebook.com")}static credential(t){return xo._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ci.credentialFromTaggedObject(t)}static credentialFromError(t){return ci.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ci.credential(t.oauthAccessToken)}catch{return null}}}ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends lu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return xo._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return di.credentialFromTaggedObject(t)}static credentialFromError(t){return di.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return di.credential(n,r)}catch{return null}}}di.GOOGLE_SIGN_IN_METHOD="google.com";di.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends lu{constructor(){super("github.com")}static credential(t){return xo._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return hi.credentialFromTaggedObject(t)}static credentialFromError(t){return hi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return hi.credential(t.oauthAccessToken)}catch{return null}}}hi.GITHUB_SIGN_IN_METHOD="github.com";hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends lu{constructor(){super("twitter.com")}static credential(t,n){return xo._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return fi.credentialFromTaggedObject(t)}static credentialFromError(t){return fi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return fi.credential(n,r)}catch{return null}}}fi.TWITTER_SIGN_IN_METHOD="twitter.com";fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eU(e,t){return au(e,"POST","/v1/accounts:signUp",Kr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const o=await Pr._fromIdTokenResponse(t,r,i),s=x0(r);return new Ao({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=x0(r);return new Ao({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function x0(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd extends qr{constructor(t,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Nd.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new Nd(t,n,r,i)}}function VA(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Nd._fromErrorAndOperation(e,o,t,r):o})}async function tU(e,t,n=!1){const r=await Ml(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ao._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UA(e,t,n=!1){const{auth:r}=e;if(or(r.app))return Promise.reject(Nr(r));const i="reauthenticate";try{const o=await Ml(e,VA(r,i,t,e),n);ae(o.idToken,r,"internal-error");const s=gv(o.idToken);ae(s,r,"internal-error");const{sub:a}=s;return ae(e.uid===a,r,"user-mismatch"),Ao._forOperation(e,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Kn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $A(e,t,n=!1){if(or(e.app))return Promise.reject(Nr(e));const r="signIn",i=await VA(e,r,t),o=await Ao._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function nU(e,t){return $A(Qi(e),t)}async function rU(e,t){return UA(ot(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jA(e){const t=Qi(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function iU(e,t,n){const r=Qi(e);await Od(r,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",KV)}async function oU(e,t,n){if(or(e.app))return Promise.reject(Nr(e));const r=Qi(e),s=await Od(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eU).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&jA(e),l}),a=await Ao._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function BA(e,t,n){return or(e.app)?Promise.reject(Nr(e)):nU(ot(e),Uo.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&jA(e),r})}function sU(e,t,n,r){return ot(e).onIdTokenChanged(t,n,r)}function aU(e,t,n){return ot(e).beforeAuthStateChanged(t,n)}function lU(e,t,n,r){return ot(e).onAuthStateChanged(t,n,r)}function zA(e){return ot(e).signOut()}const Ld="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ld,"1"),this.storage.removeItem(Ld),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU=1e3,cU=10;class HA extends WA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);AV()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,cU):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},uU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}HA.type="LOCAL";const dU=HA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA extends WA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}GA.type="SESSION";const qA=GA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hU(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new Dh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await hU(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=wv("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(p.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(){return window}function pU(e){dr().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(){return typeof dr().WorkerGlobalScope<"u"&&typeof dr().importScripts=="function"}async function mU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gU(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function yU(){return KA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="firebaseLocalStorageDb",vU=1,Md="firebaseLocalStorage",XA="fbase_key";class uu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Oh(e,t){return e.transaction([Md],t?"readwrite":"readonly").objectStore(Md)}function _U(){const e=indexedDB.deleteDatabase(QA);return new uu(e).toPromise()}function Zm(){const e=indexedDB.open(QA,vU);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Md,{keyPath:XA})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Md)?t(r):(r.close(),await _U(),t(await Zm()))})})}async function A0(e,t,n){const r=Oh(e,!0).put({[XA]:t,value:n});return new uu(r).toPromise()}async function wU(e,t){const n=Oh(e,!1).get(t),r=await new uu(n).toPromise();return r===void 0?null:r.value}function T0(e,t){const n=Oh(e,!0).delete(t);return new uu(n).toPromise()}const EU=800,SU=3;class YA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>SU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dh._getInstance(yU()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await mU(),!this.activeServiceWorker)return;this.sender=new fU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||gU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Zm();return await A0(t,Ld,"1"),await T0(t,Ld),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>A0(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>wU(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>T0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const o=Oh(i,!1).getAll();return new uu(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:o}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),EU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YA.type="LOCAL";const CU=YA;new su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(e,t){return t?Rr(t):(ae(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev extends vv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Cs(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Cs(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Cs(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function xU(e){return $A(e.auth,new Ev(e),e.bypassAuthState)}function AU(e){const{auth:t,user:n}=e;return ae(n,t,"internal-error"),UA(n,new Ev(e),e.bypassAuthState)}async function TU(e){const{auth:t,user:n}=e;return ae(n,t,"internal-error"),tU(n,new Ev(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(t,n,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=t;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return xU;case"linkViaPopup":case"linkViaRedirect":return TU;case"reauthViaPopup":case"reauthViaRedirect":return AU;default:Kn(this.auth,"internal-error")}}resolve(t){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU=new su(2e3,1e4);class fs extends JA{constructor(t,n,r,i,o){super(t,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,fs.currentPopupAction&&fs.currentPopupAction.cancel(),fs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ae(t,this.auth,"internal-error"),t}async onExecution(){Br(this.filter.length===1,"Popup operations only handle one event");const t=wv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fs.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,PU.get())};t()}}fs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU="pendingRedirect",$c=new Map;class bU extends JA{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=$c.get(this.auth._key());if(!t){try{const r=await kU(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}$c.set(this.auth._key(),t)}return this.bypassAuthState||$c.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kU(e,t){const n=NU(t),r=OU(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function DU(e,t){$c.set(e._key(),t)}function OU(e){return Rr(e._redirectPersistence)}function NU(e){return Uc(RU,e.config.apiKey,e.name)}async function LU(e,t,n=!1){if(or(e.app))return Promise.reject(Nr(e));const r=Qi(e),i=IU(r,t),s=await new bU(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU=10*60*1e3;class FU{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!VU(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!ZA(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(cr(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=MU&&this.cachedEventUids.clear(),this.cachedEventUids.has(P0(t))}saveEventToCache(t){this.cachedEventUids.add(P0(t)),this.lastProcessedEventTime=Date.now()}}function P0(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function ZA({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function VU(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZA(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UU(e,t={}){return Qr(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jU=/^https?/;async function BU(e){if(e.config.emulator)return;const{authorizedDomains:t}=await UU(e);for(const n of t)try{if(zU(n))return}catch{}Kn(e,"unauthorized-domain")}function zU(e){const t=Ym(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return s.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!jU.test(n))return!1;if($U.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU=new su(3e4,6e4);function R0(){const e=dr().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function HU(e){return new Promise((t,n)=>{var r,i,o;function s(){R0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{R0(),n(cr(e,"network-request-failed"))},timeout:WU.get()})}if(!((i=(r=dr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((o=dr().gapi)===null||o===void 0)&&o.load)s();else{const a=LV("iframefcb");return dr()[a]=()=>{gapi.load?s():n(cr(e,"network-request-failed"))},NA(`${NV()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw jc=null,t})}let jc=null;function GU(e){return jc=jc||HU(e),jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qU=new su(5e3,15e3),KU="__/auth/iframe",QU="emulator/auth/iframe",XU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JU(e){const t=e.config;ae(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?mv(t,QU):`https://${e.config.authDomain}/${KU}`,r={apiKey:t.apiKey,appName:e.name,v:Xs},i=YU.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Zl(r).slice(1)}`}async function ZU(e){const t=await GU(e),n=dr().gapi;return ae(n,e,"internal-error"),t.open({where:document.body,url:JU(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XU,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=cr(e,"network-request-failed"),a=dr().setTimeout(()=>{o(s)},qU.get());function l(){dr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},t4=500,n4=600,r4="_blank",i4="http://localhost";class b0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function o4(e,t,n,r=t4,i=n4){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},e4),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Ut().toLowerCase();n&&(a=TA(u)?r4:n),xA(u)&&(t=t||i4,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[f,m])=>`${p}${f}=${m},`,"");if(xV(u)&&a!=="_self")return s4(t||"",a),new b0(null);const h=window.open(t||"",a,d);ae(h,e,"popup-blocked");try{h.focus()}catch{}return new b0(h)}function s4(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4="__/auth/handler",l4="emulator/auth/handler",u4=encodeURIComponent("fac");async function k0(e,t,n,r,i,o){ae(e.config.authDomain,e,"auth-domain-config-required"),ae(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Xs,eventId:i};if(t instanceof FA){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",FN(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,h]of Object.entries({}))s[d]=h}if(t instanceof lu){const d=t.getScopes().filter(h=>h!=="");d.length>0&&(s.scopes=d.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await e._getAppCheckToken(),u=l?`#${u4}=${encodeURIComponent(l)}`:"";return`${c4(e)}?${Zl(a).slice(1)}${u}`}function c4({config:e}){return e.emulator?mv(e,l4):`https://${e.authDomain}/${a4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="webStorageSupport";class d4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qA,this._completeRedirectFn=LU,this._overrideRedirectResult=DU}async _openPopup(t,n,r,i){var o;Br((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await k0(t,n,r,Ym(),i);return o4(t,s,wv())}async _openRedirect(t,n,r,i){await this._originValidation(t);const o=await k0(t,n,r,Ym(),i);return pU(o),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Br(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await ZU(t),r=new FU(t);return n.register("authEvent",i=>(ae(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(ep,{type:ep},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[ep];s!==void 0&&n(!!s),Kn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=BU(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return DA()||AA()||yv()}}const h4=d4;var D0="@firebase/auth",O0="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function m4(e){Ns(new Co("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ae(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OA(e)},u=new kV(r,i,o,l);return jV(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Ns(new Co("auth-internal",t=>{const n=Qi(t.getProvider("auth").getImmediate());return(r=>new f4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pi(D0,O0,p4(e)),Pi(D0,O0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=5*60,y4=Wx("authIdTokenMaxAge")||g4;let N0=null;const v4=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>y4)return;const i=n==null?void 0:n.token;N0!==i&&(N0=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function _4(e=Kx()){const t=Ay(e,"auth");if(t.isInitialized())return t.getImmediate();const n=$V(e,{popupRedirectResolver:h4,persistence:[CU,dU,qA]}),r=Wx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=v4(o.toString());aU(n,s,()=>s(n.currentUser)),sU(n,a=>s(a))}}const i=Bx("auth");return i&&BV(n,`http://${i}`),n}function w4(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}DV({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const o=cr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",w4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});m4("Browser");var to={ACSetupSvcPort:"23210",ACSvcPort:"17532",ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\budik\\AppData\\Roaming",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_29048_POCUMDQMJUIBEPJW",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"ARLT0048",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_23616:"1",EnableLog:"WARNING",FLASK_APP:"main.py",GIT_ASKPASS:"c:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\budik",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\budik",INIT_CWD:"D:\\DATA\\GIT\\WIR\\ea.wirglobal.com",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\budik\\AppData\\Local",LOGONSERVER:"\\\\ARLT0048",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",npm_command:"run-script",npm_config_cache:"C:\\Users\\budik\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\budik\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\budik\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\budik\\.npm-init.js",npm_config_local_prefix:"D:\\DATA\\GIT\\WIR\\ea.wirglobal.com",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.9.2",npm_config_prefix:"C:\\Users\\budik\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\budik\\.npmrc",npm_config_user_agent:"npm/10.9.2 node/v22.14.0 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"vite build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"D:\\DATA\\GIT\\WIR\\ea.wirglobal.com\\package.json",npm_package_name:"wir-chat",npm_package_version:"0.0.0",NUMBER_OF_PROCESSORS:"16",OneDrive:"C:\\Users\\budik\\OneDrive",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"D:\\DATA\\GIT\\WIR\\ea.wirglobal.com\\node_modules\\.bin;D:\\DATA\\GIT\\WIR\\node_modules\\.bin;D:\\DATA\\GIT\\node_modules\\.bin;D:\\DATA\\node_modules\\.bin;D:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\ffmpeg\\bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\dotnet\\;C:\\Program Files\\PuTTY\\;C:\\Users\\budik\\AppData\\Local\\Programs\\Python\\Python310\\Scripts\\;C:\\Users\\budik\\AppData\\Local\\Programs\\Python\\Python310\\;C:\\Users\\budik\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\xampp\\php;C:\\ProgramData\\ComposerSetup\\bin;C:\\MinGW\\bin;C:\\Program Files\\Git\\cmd;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files\\NVIDIA Corporation\\NVIDIA app\\NvDLISR;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Docker\\Docker\\resources\\bin;C:\\Program Files\\nodejs\\;C:\\Users\\budik\\AppData\\Local\\Programs\\Python\\Python310\\Scripts\\;C:\\Users\\budik\\AppData\\Local\\Programs\\Python\\Python310\\;C:\\Users\\budik\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\budik\\AppData\\Roaming\\Composer\\vendor\\bin;C:\\Users\\budik\\.dotnet\\tools;C:\\flutter\\bin;C:\\Users\\budik\\AppData\\Roaming\\npm",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"AMD64 Family 25 Model 68 Stepping 1, AuthenticAMD",PROCESSOR_LEVEL:"25",PROCESSOR_REVISION:"4401",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\budik\\OneDrive\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",REACT_APP_BACKEND_URL:"backend-url",REACT_APP_CURRENT_VERSION:"current-version",REACT_APP_FIREBASE_API_KEY:"AIzaSyDoyWyWKSk_8ovvS8_0d1A64DIRVhsEPdE",REACT_APP_FIREBASE_APP_ID:"1:279788642755:web:61bafae06f7d1932765d76",REACT_APP_FIREBASE_AUTH_DOMAIN:"wirchat-22331.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-97GNX3XH66",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"279788642755",REACT_APP_FIREBASE_PROJECT_ID:"wirchat-22331",REACT_APP_FIREBASE_STORAGE_BUCKET:"wirchat-22331.firebasestorage.app",RlsSvcPort:"22112",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\budik\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.98.2",TMP:"C:\\Users\\budik\\AppData\\Local\\Temp",USERDOMAIN:"ARLT0048",USERDOMAIN_ROAMINGPROFILE:"ARLT0048",USERNAME:"budik",USERPROFILE:"C:\\Users\\budik",VBOX_HWVIRTEX_IGNORE_SVM_IN_USE:"1",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-ac8c3e907a-sock",VSCODE_INJECTION:"1",VSCODE_NONCE:"bce40833-b57a-4fe9-bb46-50437c202ead",VSCODE_STABLE:"1",windir:"C:\\WINDOWS"};const E4={apiKey:to.REACT_APP_FIREBASE_API_KEY,authDomain:to.REACT_APP_FIREBASE_AUTH_DOMAIN,projectId:to.REACT_APP_FIREBASE_PROJECT_ID,storageBucket:to.REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:to.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,appId:to.REACT_APP_FIREBASE_APP_ID,measurementId:to.REACT_APP_FIREBASE_MEASUREMENT_ID},eT=qx(E4),br=_4(eT),Dn=$F(eT),S4=async()=>{try{const e=Ah(Dn,"languages");return(await cv(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error fetching languages:",e.message),new Error("Failed to connect to the database. Please try again later.")}},C4=async(e,t)=>{const n=Ki(Dn,"languages",e);await dv(n,{selected_collection:t})},tT=async e=>{const t=Ah(Dn,"languages"),n=JF(t,ZF("language_code","==",e));return(await cv(n)).docs.map(o=>({id:o.id,...o.data()}))},L0={id:{loadingText:"Sedang memproses, silahkan menunggu...",errorMessage:"Gagal menjawab pertanyaan, server mengalami masalah. Silahkan hubungi tim IT Governance.",suggestMessage1:"Adakah bisnis unit yang relevan untuk membuat platform eCommerce dengan pengalaman AR?",suggestMessage2:"Apa yang kamu ketahui tentang AR&Co?",inputPlaceholder:"Kirim pertanyaan...",heroText:"Ada yang bisa saya bantu?",sendButtonText:"Kirim",startNewChatButtonText:"Mulai chat baru",startNewChatConfirmationText:"Apakah kamu yakin? chat yang ada sekarang akan terhapus"},en:{loadingText:"Processing, please wait...",errorMessage:"Failed to answer the question. The server encountered an issue. Please contact the IT Governance team.",suggestMessage1:"Is there a relevant business unit to create an eCommerce platform with an AR experience?",suggestMessage2:"What do you know about AR&Co?",inputPlaceholder:"Send a question...",heroText:"Can I help you?",sendButtonText:"Send",startNewChatButtonText:"Start a new chat",startNewChatConfirmationText:"Are you sure? The current chat will be deleted"},ja:{loadingText:"...",errorMessage:"IT",suggestMessage1:"ARe",suggestMessage2:"AR&Co",inputPlaceholder:"...",heroText:"",sendButtonText:"",startNewChatButtonText:"",startNewChatConfirmationText:""},zhCn:{loadingText:"...",errorMessage:"IT",suggestMessage1:"AR",suggestMessage2:"AR&Co",inputPlaceholder:"...",heroText:"",sendButtonText:"",startNewChatButtonText:"",startNewChatConfirmationText:""}},ta=S.createContext(),I4=({children:e})=>{const[t,n]=S.useState(localStorage.getItem("languageCode")||"id"),[r,i]=S.useState(null),[o,s]=S.useState(""),[a,l]=S.useState(""),[u,d]=S.useState(""),[h,p]=S.useState(""),[f,m]=S.useState(""),[_,x]=S.useState(""),[y,v]=S.useState(""),[E,D]=S.useState(""),[F,k]=S.useState(""),[P,A]=S.useState(localStorage.getItem("selectedCollection")||""),[T,I]=S.useState(localStorage.getItem("dbLocation")||"");S.useEffect(()=>{(async()=>{const X=await tT(t);if(X&&X.length>0){const{selected_collection:Z,db_location:re}=X[0];i(X[0]),A(Z),I(re),localStorage.setItem("selectedCollection",Z),localStorage.setItem("dbLocation",re)}})();const O=L0[t]||L0.id;s(O.loadingText),l(O.errorMessage),d(O.suggestMessage1),p(O.suggestMessage2),m(O.inputPlaceholder),x(O.heroText),v(O.sendButtonText),D(O.startNewChatButtonText),k(O.startNewChatConfirmationText)},[t]);const R=M=>{n(M),localStorage.setItem("languageCode",M)};return C.jsx(ta.Provider,{value:{languageCode:t,languageSelectedCollection:P,languageDbLocation:T,loadingText:o,errorMessage:a,suggestMessage1:u,suggestMessage2:h,inputPlaceholder:f,heroText:_,sendButtonText:y,startNewChatButtonText:E,startNewChatConfirmationText:F,changeLanguage:R},children:e})},x4=({inputValue:e,onSendMessageClick:t,onMessageChange:n,onEnterKeyDown:r,conversations:i})=>{const{inputPlaceholder:o,sendButtonText:s}=S.useContext(ta);return C.jsx("div",{className:`sticky bottom-0 pt-3 pb-8 bg-white ${i?"":"my-auto"}`,children:C.jsxs("form",{className:"flex justify-center gap-1 mx-1 sm:mx-10",children:[C.jsx(pN,{className:"w-full px-5 py-2 border border-black resize-none box box-orer xl:w-1/2 sm:w-2/3 rounded-xl h-11 max-h-36",value:e,placeholder:o,type:"text",id:"messageInputTextareaComponent",onChange:n,onKeyDown:r}),e?C.jsx(gE,{className:"self-end inline-block px-4 text-white bg-black item-start hover:bg-gray-900 rounded-xl h-11 whitespace-nowrap",onClick:t,children:s,type:"submit"}):C.jsx(gE,{className:"items-start self-end inline-block px-4 text-white bg-black hover:bg-gray-900 rounded-xl h-11 whitespace-nowrap",children:s})]})})},nT="/logo.png",A4=({className:e})=>C.jsx("img",{src:nT,className:e}),T4=({conversations:e})=>{const{heroText:t}=S.useContext(ta);return C.jsx(C.Fragment,{children:C.jsxs("div",{className:`flex flex-col ${e.length==0?"my-auto":"hidden"}`,children:[C.jsx("div",{className:"flex justify-center main-logo",children:C.jsx(A4,{className:"relative w-56"})}),C.jsx("h1",{className:"mb-3 text-2xl font-bold text-center sm:text-3xl",children:t})]})})};function P4(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const R4=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,b4=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,k4={};function M0(e,t){return(k4.jsx?b4:R4).test(e)}const D4=/[ \t\n\f\r]/g;function O4(e){return typeof e=="object"?e.type==="text"?F0(e.value):!1:F0(e)}function F0(e){return e.replace(D4,"")===""}class cu{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}cu.prototype.property={};cu.prototype.normal={};cu.prototype.space=null;function rT(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new cu(n,r,t)}function eg(e){return e.toLowerCase()}class On{constructor(t,n){this.property=t,this.attribute=n}}On.prototype.space=null;On.prototype.boolean=!1;On.prototype.booleanish=!1;On.prototype.overloadedBoolean=!1;On.prototype.number=!1;On.prototype.commaSeparated=!1;On.prototype.spaceSeparated=!1;On.prototype.commaOrSpaceSeparated=!1;On.prototype.mustUseProperty=!1;On.prototype.defined=!1;let N4=0;const pe=$o(),nt=$o(),iT=$o(),G=$o(),Me=$o(),Is=$o(),cn=$o();function $o(){return 2**++N4}const tg=Object.freeze(Object.defineProperty({__proto__:null,boolean:pe,booleanish:nt,commaOrSpaceSeparated:cn,commaSeparated:Is,number:G,overloadedBoolean:iT,spaceSeparated:Me},Symbol.toStringTag,{value:"Module"})),tp=Object.keys(tg);class Sv extends On{constructor(t,n,r,i){let o=-1;if(super(t,n),V0(this,"space",i),typeof r=="number")for(;++o<tp.length;){const s=tp[o];V0(this,tp[o],(r&tg[s])===tg[s])}}}Sv.prototype.defined=!0;function V0(e,t,n){n&&(e[t]=n)}const L4={}.hasOwnProperty;function na(e){const t={},n={};let r;for(r in e.properties)if(L4.call(e.properties,r)){const i=e.properties[r],o=new Sv(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[eg(r)]=r,n[eg(o.attribute)]=r}return new cu(t,n,e.space)}const oT=na({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),sT=na({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function aT(e,t){return t in e?e[t]:t}function lT(e,t){return aT(e,t.toLowerCase())}const uT=na({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:lT,properties:{xmlns:null,xmlnsXLink:null}}),cT=na({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:nt,ariaAutoComplete:null,ariaBusy:nt,ariaChecked:nt,ariaColCount:G,ariaColIndex:G,ariaColSpan:G,ariaControls:Me,ariaCurrent:null,ariaDescribedBy:Me,ariaDetails:null,ariaDisabled:nt,ariaDropEffect:Me,ariaErrorMessage:null,ariaExpanded:nt,ariaFlowTo:Me,ariaGrabbed:nt,ariaHasPopup:null,ariaHidden:nt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Me,ariaLevel:G,ariaLive:null,ariaModal:nt,ariaMultiLine:nt,ariaMultiSelectable:nt,ariaOrientation:null,ariaOwns:Me,ariaPlaceholder:null,ariaPosInSet:G,ariaPressed:nt,ariaReadOnly:nt,ariaRelevant:null,ariaRequired:nt,ariaRoleDescription:Me,ariaRowCount:G,ariaRowIndex:G,ariaRowSpan:G,ariaSelected:nt,ariaSetSize:G,ariaSort:null,ariaValueMax:G,ariaValueMin:G,ariaValueNow:G,ariaValueText:null,role:null}}),M4=na({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:lT,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Is,acceptCharset:Me,accessKey:Me,action:null,allow:null,allowFullScreen:pe,allowPaymentRequest:pe,allowUserMedia:pe,alt:null,as:null,async:pe,autoCapitalize:null,autoComplete:Me,autoFocus:pe,autoPlay:pe,blocking:Me,capture:null,charSet:null,checked:pe,cite:null,className:Me,cols:G,colSpan:null,content:null,contentEditable:nt,controls:pe,controlsList:Me,coords:G|Is,crossOrigin:null,data:null,dateTime:null,decoding:null,default:pe,defer:pe,dir:null,dirName:null,disabled:pe,download:iT,draggable:nt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:pe,formTarget:null,headers:Me,height:G,hidden:pe,high:G,href:null,hrefLang:null,htmlFor:Me,httpEquiv:Me,id:null,imageSizes:null,imageSrcSet:null,inert:pe,inputMode:null,integrity:null,is:null,isMap:pe,itemId:null,itemProp:Me,itemRef:Me,itemScope:pe,itemType:Me,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:pe,low:G,manifest:null,max:null,maxLength:G,media:null,method:null,min:null,minLength:G,multiple:pe,muted:pe,name:null,nonce:null,noModule:pe,noValidate:pe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:pe,optimum:G,pattern:null,ping:Me,placeholder:null,playsInline:pe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:pe,referrerPolicy:null,rel:Me,required:pe,reversed:pe,rows:G,rowSpan:G,sandbox:Me,scope:null,scoped:pe,seamless:pe,selected:pe,shadowRootClonable:pe,shadowRootDelegatesFocus:pe,shadowRootMode:null,shape:null,size:G,sizes:null,slot:null,span:G,spellCheck:nt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:G,step:null,style:null,tabIndex:G,target:null,title:null,translate:null,type:null,typeMustMatch:pe,useMap:null,value:nt,width:G,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Me,axis:null,background:null,bgColor:null,border:G,borderColor:null,bottomMargin:G,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:pe,declare:pe,event:null,face:null,frame:null,frameBorder:null,hSpace:G,leftMargin:G,link:null,longDesc:null,lowSrc:null,marginHeight:G,marginWidth:G,noResize:pe,noHref:pe,noShade:pe,noWrap:pe,object:null,profile:null,prompt:null,rev:null,rightMargin:G,rules:null,scheme:null,scrolling:nt,standby:null,summary:null,text:null,topMargin:G,valueType:null,version:null,vAlign:null,vLink:null,vSpace:G,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:pe,disableRemotePlayback:pe,prefix:null,property:null,results:G,security:null,unselectable:null}}),F4=na({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:aT,properties:{about:cn,accentHeight:G,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:G,amplitude:G,arabicForm:null,ascent:G,attributeName:null,attributeType:null,azimuth:G,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:G,by:null,calcMode:null,capHeight:G,className:Me,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:G,diffuseConstant:G,direction:null,display:null,dur:null,divisor:G,dominantBaseline:null,download:pe,dx:null,dy:null,edgeMode:null,editable:null,elevation:G,enableBackground:null,end:null,event:null,exponent:G,externalResourcesRequired:null,fill:null,fillOpacity:G,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Is,g2:Is,glyphName:Is,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:G,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:G,horizOriginX:G,horizOriginY:G,id:null,ideographic:G,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:G,k:G,k1:G,k2:G,k3:G,k4:G,kernelMatrix:cn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:G,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:G,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:G,overlineThickness:G,paintOrder:null,panose1:null,path:null,pathLength:G,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Me,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:G,pointsAtY:G,pointsAtZ:G,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:cn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:cn,rev:cn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:cn,requiredFeatures:cn,requiredFonts:cn,requiredFormats:cn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:G,specularExponent:G,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:G,strikethroughThickness:G,string:null,stroke:null,strokeDashArray:cn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:G,strokeOpacity:G,strokeWidth:null,style:null,surfaceScale:G,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:cn,tabIndex:G,tableValues:null,target:null,targetX:G,targetY:G,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:cn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:G,underlineThickness:G,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:G,values:null,vAlphabetic:G,vMathematical:G,vectorEffect:null,vHanging:G,vIdeographic:G,version:null,vertAdvY:G,vertOriginX:G,vertOriginY:G,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:G,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),V4=/^data[-\w.:]+$/i,U0=/-[a-z]/g,U4=/[A-Z]/g;function $4(e,t){const n=eg(t);let r=t,i=On;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&V4.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(U0,B4);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!U0.test(o)){let s=o.replace(U4,j4);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=Sv}return new i(r,t)}function j4(e){return"-"+e.toLowerCase()}function B4(e){return e.charAt(1).toUpperCase()}const z4={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},W4=rT([sT,oT,uT,cT,M4],"html"),Cv=rT([sT,oT,uT,cT,F4],"svg");function H4(e){return e.join(" ").trim()}var dT={},$0=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,G4=/\n/g,q4=/^\s*/,K4=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Q4=/^:\s*/,X4=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Y4=/^[;\s]*/,J4=/^\s+|\s+$/g,Z4=`
`,j0="/",B0="*",ao="",e$="comment",t$="declaration",n$=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(m){var _=m.match(G4);_&&(n+=_.length);var x=m.lastIndexOf(Z4);r=~x?m.length-x:r+m.length}function o(){var m={line:n,column:r};return function(_){return _.position=new s(m),u(),_}}function s(m){this.start=m,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function a(m){var _=new Error(t.source+":"+n+":"+r+": "+m);if(_.reason=m,_.filename=t.source,_.line=n,_.column=r,_.source=e,!t.silent)throw _}function l(m){var _=m.exec(e);if(_){var x=_[0];return i(x),e=e.slice(x.length),_}}function u(){l(q4)}function d(m){var _;for(m=m||[];_=h();)_!==!1&&m.push(_);return m}function h(){var m=o();if(!(j0!=e.charAt(0)||B0!=e.charAt(1))){for(var _=2;ao!=e.charAt(_)&&(B0!=e.charAt(_)||j0!=e.charAt(_+1));)++_;if(_+=2,ao===e.charAt(_-1))return a("End of comment missing");var x=e.slice(2,_-2);return r+=2,i(x),e=e.slice(_),r+=2,m({type:e$,comment:x})}}function p(){var m=o(),_=l(K4);if(_){if(h(),!l(Q4))return a("property missing ':'");var x=l(X4),y=m({type:t$,property:z0(_[0].replace($0,ao)),value:x?z0(x[0].replace($0,ao)):ao});return l(Y4),y}}function f(){var m=[];d(m);for(var _;_=p();)_!==!1&&(m.push(_),d(m));return m}return u(),f()};function z0(e){return e?e.replace(J4,ao):ao}var r$=Z_&&Z_.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dT,"__esModule",{value:!0});var W0=dT.default=o$,i$=r$(n$);function o$(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,i$.default)(e),i=typeof t=="function";return r.forEach(function(o){if(o.type==="declaration"){var s=o.property,a=o.value;i?t(s,a,o):a&&(n=n||{},n[s]=a)}}),n}const s$=W0.default||W0,hT=fT("end"),Iv=fT("start");function fT(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function a$(e){const t=Iv(e),n=hT(e);if(t&&n)return{start:t,end:n}}function al(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?H0(e.position):"start"in e||"end"in e?H0(e):"line"in e||"column"in e?ng(e):""}function ng(e){return G0(e&&e.line)+":"+G0(e&&e.column)}function H0(e){return ng(e&&e.start)+"-"+ng(e&&e.end)}function G0(e){return e&&typeof e=="number"?e:1}class $t extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},s=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(s=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?o.ruleId=r:(o.source=r.slice(0,l),o.ruleId=r.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const a=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=al(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=s&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}$t.prototype.file="";$t.prototype.name="";$t.prototype.reason="";$t.prototype.message="";$t.prototype.stack="";$t.prototype.column=void 0;$t.prototype.line=void 0;$t.prototype.ancestors=void 0;$t.prototype.cause=void 0;$t.prototype.fatal=void 0;$t.prototype.place=void 0;$t.prototype.ruleId=void 0;$t.prototype.source=void 0;const xv={}.hasOwnProperty,l$=new Map,u$=/[A-Z]/g,c$=/-([a-z])/g,d$=new Set(["table","tbody","thead","tfoot","tr"]),h$=new Set(["td","th"]),pT="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function f$(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=E$(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=w$(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Cv:W4,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=mT(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function mT(e,t,n){if(t.type==="element")return p$(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return m$(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return y$(e,t,n);if(t.type==="mdxjsEsm")return g$(e,t);if(t.type==="root")return v$(e,t,n);if(t.type==="text")return _$(e,t)}function p$(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Cv,e.schema=i),e.ancestors.push(t);const o=yT(e,t.tagName,!1),s=S$(e,t);let a=Tv(e,t);return d$.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!O4(l):!0})),gT(e,s,o,t),Av(s,a),e.ancestors.pop(),e.schema=r,e.create(t,o,s,n)}function m$(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Vl(e,t.position)}function g$(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Vl(e,t.position)}function y$(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Cv,e.schema=i),e.ancestors.push(t);const o=t.name===null?e.Fragment:yT(e,t.name,!0),s=C$(e,t),a=Tv(e,t);return gT(e,s,o,t),Av(s,a),e.ancestors.pop(),e.schema=r,e.create(t,o,s,n)}function v$(e,t,n){const r={};return Av(r,Tv(e,t)),e.create(t,e.Fragment,r,n)}function _$(e,t){return t.value}function gT(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Av(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function w$(e,t,n){return r;function r(i,o,s,a){const u=Array.isArray(s.children)?n:t;return a?u(o,s,a):u(o,s)}}function E$(e,t){return n;function n(r,i,o,s){const a=Array.isArray(o.children),l=Iv(r);return t(i,o,s,a,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function S$(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&xv.call(t.properties,i)){const o=I$(e,i,t.properties[i]);if(o){const[s,a]=o;e.tableCellAlignToStyle&&s==="align"&&typeof a=="string"&&h$.has(t.tagName)?r=a:n[s]=a}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function C$(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const s=o.expression;s.type;const a=s.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else Vl(e,t.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,o=e.evaluater.evaluateExpression(a.expression)}else Vl(e,t.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function Tv(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:l$;for(;++r<t.children.length;){const o=t.children[r];let s;if(e.passKeys){const l=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(l){const u=i.get(l)||0;s=l+"-"+u,i.set(l,u+1)}}const a=mT(e,o,s);a!==void 0&&n.push(a)}return n}function I$(e,t,n){const r=$4(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?P4(n):H4(n)),r.property==="style"){let i=typeof n=="object"?n:x$(e,String(n));return e.stylePropertyNameCase==="css"&&(i=A$(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?z4[r.property]||r.property:r.attribute,n]}}function x$(e,t){const n={};try{s$(t,r)}catch(i){if(!e.ignoreInvalidStyle){const o=i,s=new $t("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:o,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=pT+"#cannot-parse-style-attribute",s}}return n;function r(i,o){let s=i;s.slice(0,2)!=="--"&&(s.slice(0,4)==="-ms-"&&(s="ms-"+s.slice(4)),s=s.replace(c$,P$)),n[s]=o}}function yT(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let o=-1,s;for(;++o<i.length;){const a=M0(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};s=s?{type:"MemberExpression",object:s,property:a,computed:!!(o&&a.type==="Literal"),optional:!1}:a}r=s}else r=M0(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return xv.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Vl(e)}function Vl(e,t){const n=new $t("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=pT+"#cannot-handle-mdx-estrees-without-createevaluater",n}function A$(e){const t={};let n;for(n in e)xv.call(e,n)&&(t[T$(n)]=e[n]);return t}function T$(e){let t=e.replace(u$,R$);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function P$(e,t){return t.toUpperCase()}function R$(e){return"-"+e.toLowerCase()}const np={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},b$={};function Pv(e,t){const n=b$,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return vT(e,r,i)}function vT(e,t,n){if(k$(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return q0(e.children,t,n)}return Array.isArray(e)?q0(e,t,n):""}function q0(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=vT(e[i],t,n);return r.join("")}function k$(e){return!!(e&&typeof e=="object")}const K0=document.createElement("i");function Rv(e){const t="&"+e+";";K0.innerHTML=t;const n=K0.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Rn(e,t,n,r){const i=e.length;let o=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);o<r.length;)s=r.slice(o,o+1e4),s.unshift(t,0),e.splice(...s),o+=1e4,t+=1e4}function xn(e,t){return e.length>0?(Rn(e,e.length,0,t),e):t}const Q0={}.hasOwnProperty;function _T(e){const t={};let n=-1;for(;++n<e.length;)D$(t,e[n]);return t}function D$(e,t){let n;for(n in t){const i=(Q0.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let s;if(o)for(s in o){Q0.call(i,s)||(i[s]=[]);const a=o[s];O$(i[s],Array.isArray(a)?a:a?[a]:[])}}}function O$(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Rn(e,0,0,r)}function wT(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function zn(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Wt=Xi(/[A-Za-z]/),Mt=Xi(/[\dA-Za-z]/),N$=Xi(/[#-'*+\--9=?A-Z^-~]/);function Fd(e){return e!==null&&(e<32||e===127)}const rg=Xi(/\d/),L$=Xi(/[\dA-Fa-f]/),M$=Xi(/[!-/:-@[-`{-~]/);function ne(e){return e!==null&&e<-2}function Le(e){return e!==null&&(e<0||e===32)}function ge(e){return e===-2||e===-1||e===32}const Nh=Xi(new RegExp("\\p{P}|\\p{S}","u")),To=Xi(/\s/);function Xi(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function ra(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let s="";if(o===37&&Mt(e.charCodeAt(n+1))&&Mt(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(s=String.fromCharCode(o));else if(o>55295&&o<57344){const a=e.charCodeAt(n+1);o<56320&&a>56319&&a<57344?(s=String.fromCharCode(o,a),i=1):s=""}else s=String.fromCharCode(o);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function xe(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return s;function s(l){return ge(l)?(e.enter(n),a(l)):t(l)}function a(l){return ge(l)&&o++<i?(e.consume(l),a):(e.exit(n),t(l))}}const F$={tokenize:V$};function V$(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),xe(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),o(a)}function o(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(a)}function s(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return ne(a)?(e.consume(a),e.exit("chunkText"),o):(e.consume(a),s)}}const U$={tokenize:$$},X0={tokenize:j$};function $$(e){const t=this,n=[];let r=0,i,o,s;return a;function a(E){if(r<n.length){const D=n[r];return t.containerState=D[1],e.attempt(D[0].continuation,l,u)(E)}return u(E)}function l(E){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&v();const D=t.events.length;let F=D,k;for(;F--;)if(t.events[F][0]==="exit"&&t.events[F][1].type==="chunkFlow"){k=t.events[F][1].end;break}y(r);let P=D;for(;P<t.events.length;)t.events[P][1].end=Object.assign({},k),P++;return Rn(t.events,F+1,0,t.events.slice(D)),t.events.length=P,u(E)}return a(E)}function u(E){if(r===n.length){if(!i)return p(E);if(i.currentConstruct&&i.currentConstruct.concrete)return m(E);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(X0,d,h)(E)}function d(E){return i&&v(),y(r),p(E)}function h(E){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,m(E)}function p(E){return t.containerState={},e.attempt(X0,f,m)(E)}function f(E){return r++,n.push([t.currentConstruct,t.containerState]),p(E)}function m(E){if(E===null){i&&v(),y(0),e.consume(E);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:o,_tokenizer:i}),_(E)}function _(E){if(E===null){x(e.exit("chunkFlow"),!0),y(0),e.consume(E);return}return ne(E)?(e.consume(E),x(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(E),_)}function x(E,D){const F=t.sliceStream(E);if(D&&F.push(null),E.previous=o,o&&(o.next=E),o=E,i.defineSkip(E.start),i.write(F),t.parser.lazy[E.start.line]){let k=i.events.length;for(;k--;)if(i.events[k][1].start.offset<s&&(!i.events[k][1].end||i.events[k][1].end.offset>s))return;const P=t.events.length;let A=P,T,I;for(;A--;)if(t.events[A][0]==="exit"&&t.events[A][1].type==="chunkFlow"){if(T){I=t.events[A][1].end;break}T=!0}for(y(r),k=P;k<t.events.length;)t.events[k][1].end=Object.assign({},I),k++;Rn(t.events,A+1,0,t.events.slice(P)),t.events.length=k}}function y(E){let D=n.length;for(;D-- >E;){const F=n[D];t.containerState=F[1],F[0].exit.call(t,e)}n.length=E}function v(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function j$(e,t,n){return xe(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Bs(e){if(e===null||Le(e)||To(e))return 1;if(Nh(e))return 2}function Lh(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const ig={name:"attention",tokenize:z$,resolveAll:B$};function B$(e,t){let n=-1,r,i,o,s,a,l,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h=Object.assign({},e[r][1].end),p=Object.assign({},e[n][1].start);Y0(h,-l),Y0(p,l),s={type:l>1?"strongSequence":"emphasisSequence",start:h,end:Object.assign({},e[r][1].end)},a={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:p},o={type:l>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},s.start),end:Object.assign({},a.end)},e[r][1].end=Object.assign({},s.start),e[n][1].start=Object.assign({},a.end),u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=xn(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=xn(u,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",o,t]]),u=xn(u,Lh(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=xn(u,[["exit",o,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=xn(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Rn(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function z$(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Bs(r);let o;return s;function s(l){return o=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===o)return e.consume(l),a;const u=e.exit("attentionSequence"),d=Bs(l),h=!d||d===2&&i||n.includes(l),p=!i||i===2&&d||n.includes(r);return u._open=!!(o===42?h:h&&(i||!p)),u._close=!!(o===42?p:p&&(d||!h)),t(l)}}function Y0(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const W$={name:"autolink",tokenize:H$};function H$(e,t,n){let r=0;return i;function i(f){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(f){return Wt(f)?(e.consume(f),s):f===64?n(f):u(f)}function s(f){return f===43||f===45||f===46||Mt(f)?(r=1,a(f)):u(f)}function a(f){return f===58?(e.consume(f),r=0,l):(f===43||f===45||f===46||Mt(f))&&r++<32?(e.consume(f),a):(r=0,u(f))}function l(f){return f===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):f===null||f===32||f===60||Fd(f)?n(f):(e.consume(f),l)}function u(f){return f===64?(e.consume(f),d):N$(f)?(e.consume(f),u):n(f)}function d(f){return Mt(f)?h(f):n(f)}function h(f){return f===46?(e.consume(f),r=0,d):f===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):p(f)}function p(f){if((f===45||Mt(f))&&r++<63){const m=f===45?p:h;return e.consume(f),m}return n(f)}}const du={tokenize:G$,partial:!0};function G$(e,t,n){return r;function r(o){return ge(o)?xe(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||ne(o)?t(o):n(o)}}const ET={name:"blockQuote",tokenize:q$,continuation:{tokenize:K$},exit:Q$};function q$(e,t,n){const r=this;return i;function i(s){if(s===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),o}return n(s)}function o(s){return ge(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function K$(e,t,n){const r=this;return i;function i(s){return ge(s)?xe(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):o(s)}function o(s){return e.attempt(ET,t,n)(s)}}function Q$(e){e.exit("blockQuote")}const ST={name:"characterEscape",tokenize:X$};function X$(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return M$(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const CT={name:"characterReference",tokenize:Y$};function Y$(e,t,n){const r=this;let i=0,o,s;return a;function a(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),l}function l(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),o=31,s=Mt,d(h))}function u(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,s=L$,d):(e.enter("characterReferenceValue"),o=7,s=rg,d(h))}function d(h){if(h===59&&i){const p=e.exit("characterReferenceValue");return s===Mt&&!Rv(r.sliceSerialize(p))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(h)&&i++<o?(e.consume(h),d):n(h)}}const J0={tokenize:Z$,partial:!0},Z0={name:"codeFenced",tokenize:J$,concrete:!0};function J$(e,t,n){const r=this,i={tokenize:F,partial:!0};let o=0,s=0,a;return l;function l(k){return u(k)}function u(k){const P=r.events[r.events.length-1];return o=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,a=k,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(k)}function d(k){return k===a?(s++,e.consume(k),d):s<3?n(k):(e.exit("codeFencedFenceSequence"),ge(k)?xe(e,h,"whitespace")(k):h(k))}function h(k){return k===null||ne(k)?(e.exit("codeFencedFence"),r.interrupt?t(k):e.check(J0,_,D)(k)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(k))}function p(k){return k===null||ne(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(k)):ge(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),xe(e,f,"whitespace")(k)):k===96&&k===a?n(k):(e.consume(k),p)}function f(k){return k===null||ne(k)?h(k):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(k))}function m(k){return k===null||ne(k)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(k)):k===96&&k===a?n(k):(e.consume(k),m)}function _(k){return e.attempt(i,D,x)(k)}function x(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),y}function y(k){return o>0&&ge(k)?xe(e,v,"linePrefix",o+1)(k):v(k)}function v(k){return k===null||ne(k)?e.check(J0,_,D)(k):(e.enter("codeFlowValue"),E(k))}function E(k){return k===null||ne(k)?(e.exit("codeFlowValue"),v(k)):(e.consume(k),E)}function D(k){return e.exit("codeFenced"),t(k)}function F(k,P,A){let T=0;return I;function I(Z){return k.enter("lineEnding"),k.consume(Z),k.exit("lineEnding"),R}function R(Z){return k.enter("codeFencedFence"),ge(Z)?xe(k,M,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Z):M(Z)}function M(Z){return Z===a?(k.enter("codeFencedFenceSequence"),O(Z)):A(Z)}function O(Z){return Z===a?(T++,k.consume(Z),O):T>=s?(k.exit("codeFencedFenceSequence"),ge(Z)?xe(k,X,"whitespace")(Z):X(Z)):A(Z)}function X(Z){return Z===null||ne(Z)?(k.exit("codeFencedFence"),P(Z)):A(Z)}}}function Z$(e,t,n){const r=this;return i;function i(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),o)}function o(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const rp={name:"codeIndented",tokenize:tj},ej={tokenize:nj,partial:!0};function tj(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),xe(e,o,"linePrefix",5)(u)}function o(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?s(u):n(u)}function s(u){return u===null?l(u):ne(u)?e.attempt(ej,s,l)(u):(e.enter("codeFlowValue"),a(u))}function a(u){return u===null||ne(u)?(e.exit("codeFlowValue"),s(u)):(e.consume(u),a)}function l(u){return e.exit("codeIndented"),t(u)}}function nj(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):ne(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):xe(e,o,"linePrefix",5)(s)}function o(s){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(s):ne(s)?i(s):n(s)}}const rj={name:"codeText",tokenize:sj,resolve:ij,previous:oj};function ij(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function oj(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function sj(e,t,n){let r=0,i,o;return s;function s(h){return e.enter("codeText"),e.enter("codeTextSequence"),a(h)}function a(h){return h===96?(e.consume(h),r++,a):(e.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),l):h===96?(o=e.enter("codeTextSequence"),i=0,d(h)):ne(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||ne(h)?(e.exit("codeTextData"),l(h)):(e.consume(h),u)}function d(h){return h===96?(e.consume(h),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(o.type="codeTextData",u(h))}}class aj{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Oa(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Oa(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Oa(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Oa(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Oa(this.left,n.reverse())}}}function Oa(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function IT(e){const t={};let n=-1,r,i,o,s,a,l,u;const d=new aj(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,lj(d,n)),n=t[n],u=!0);else if(r[1]._container){for(o=n,i=void 0;o--&&(s=d.get(o),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank");)s[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=o);i&&(r[1].end=Object.assign({},d.get(i)[1].start),a=d.slice(i,n),a.unshift(r),d.splice(i,n-i+1,a))}}return Rn(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function lj(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[],s=n._tokenizer||r.parser[n.contentType](n.start),a=s.events,l=[],u={};let d,h,p=-1,f=n,m=0,_=0;const x=[_];for(;f;){for(;e.get(++i)[1]!==f;);o.push(i),f._tokenizer||(d=r.sliceStream(f),f.next||d.push(null),h&&s.defineSkip(f.start),f._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(d),f._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),h=f,f=f.next}for(f=n;++p<a.length;)a[p][0]==="exit"&&a[p-1][0]==="enter"&&a[p][1].type===a[p-1][1].type&&a[p][1].start.line!==a[p][1].end.line&&(_=p+1,x.push(_),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(s.events=[],f?(f._tokenizer=void 0,f.previous=void 0):x.pop(),p=x.length;p--;){const y=a.slice(x[p],x[p+1]),v=o.pop();l.push([v,v+y.length-1]),e.splice(v,2,y)}for(l.reverse(),p=-1;++p<l.length;)u[m+l[p][0]]=m+l[p][1],m+=l[p][1]-l[p][0]-1;return u}const uj={tokenize:hj,resolve:dj},cj={tokenize:fj,partial:!0};function dj(e){return IT(e),e}function hj(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?o(a):ne(a)?e.check(cj,s,o)(a):(e.consume(a),i)}function o(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function s(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function fj(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),xe(e,o,"linePrefix")}function o(s){if(s===null||ne(s))return n(s);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function xT(e,t,n,r,i,o,s,a,l){const u=l||Number.POSITIVE_INFINITY;let d=0;return h;function h(y){return y===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(y),e.exit(o),p):y===null||y===32||y===41||Fd(y)?n(y):(e.enter(r),e.enter(s),e.enter(a),e.enter("chunkString",{contentType:"string"}),_(y))}function p(y){return y===62?(e.enter(o),e.consume(y),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),f(y))}function f(y){return y===62?(e.exit("chunkString"),e.exit(a),p(y)):y===null||y===60||ne(y)?n(y):(e.consume(y),y===92?m:f)}function m(y){return y===60||y===62||y===92?(e.consume(y),f):f(y)}function _(y){return!d&&(y===null||y===41||Le(y))?(e.exit("chunkString"),e.exit(a),e.exit(s),e.exit(r),t(y)):d<u&&y===40?(e.consume(y),d++,_):y===41?(e.consume(y),d--,_):y===null||y===32||y===40||Fd(y)?n(y):(e.consume(y),y===92?x:_)}function x(y){return y===40||y===41||y===92?(e.consume(y),_):_(y)}}function AT(e,t,n,r,i,o){const s=this;let a=0,l;return u;function u(f){return e.enter(r),e.enter(i),e.consume(f),e.exit(i),e.enter(o),d}function d(f){return a>999||f===null||f===91||f===93&&!l||f===94&&!a&&"_hiddenFootnoteSupport"in s.parser.constructs?n(f):f===93?(e.exit(o),e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):ne(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),h(f))}function h(f){return f===null||f===91||f===93||ne(f)||a++>999?(e.exit("chunkString"),d(f)):(e.consume(f),l||(l=!ge(f)),f===92?p:h)}function p(f){return f===91||f===92||f===93?(e.consume(f),a++,h):h(f)}}function TT(e,t,n,r,i,o){let s;return a;function a(p){return p===34||p===39||p===40?(e.enter(r),e.enter(i),e.consume(p),e.exit(i),s=p===40?41:p,l):n(p)}function l(p){return p===s?(e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):(e.enter(o),u(p))}function u(p){return p===s?(e.exit(o),l(s)):p===null?n(p):ne(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),xe(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===s||p===null||ne(p)?(e.exit("chunkString"),u(p)):(e.consume(p),p===92?h:d)}function h(p){return p===s||p===92?(e.consume(p),d):d(p)}}function ll(e,t){let n;return r;function r(i){return ne(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):ge(i)?xe(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const pj={name:"definition",tokenize:gj},mj={tokenize:yj,partial:!0};function gj(e,t,n){const r=this;let i;return o;function o(f){return e.enter("definition"),s(f)}function s(f){return AT.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function a(f){return i=zn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),f===58?(e.enter("definitionMarker"),e.consume(f),e.exit("definitionMarker"),l):n(f)}function l(f){return Le(f)?ll(e,u)(f):u(f)}function u(f){return xT(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function d(f){return e.attempt(mj,h,h)(f)}function h(f){return ge(f)?xe(e,p,"whitespace")(f):p(f)}function p(f){return f===null||ne(f)?(e.exit("definition"),r.parser.defined.push(i),t(f)):n(f)}}function yj(e,t,n){return r;function r(a){return Le(a)?ll(e,i)(a):n(a)}function i(a){return TT(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function o(a){return ge(a)?xe(e,s,"whitespace")(a):s(a)}function s(a){return a===null||ne(a)?t(a):n(a)}}const vj={name:"hardBreakEscape",tokenize:_j};function _j(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return ne(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const wj={name:"headingAtx",tokenize:Sj,resolve:Ej};function Ej(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Rn(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function Sj(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),o(d)}function o(d){return e.enter("atxHeadingSequence"),s(d)}function s(d){return d===35&&r++<6?(e.consume(d),s):d===null||Le(d)?(e.exit("atxHeadingSequence"),a(d)):n(d)}function a(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||ne(d)?(e.exit("atxHeading"),t(d)):ge(d)?xe(e,a,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),a(d))}function u(d){return d===null||d===35||Le(d)?(e.exit("atxHeadingText"),a(d)):(e.consume(d),u)}}const Cj=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],eS=["pre","script","style","textarea"],Ij={name:"htmlFlow",tokenize:Pj,resolveTo:Tj,concrete:!0},xj={tokenize:bj,partial:!0},Aj={tokenize:Rj,partial:!0};function Tj(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Pj(e,t,n){const r=this;let i,o,s,a,l;return u;function u(L){return d(L)}function d(L){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(L),h}function h(L){return L===33?(e.consume(L),p):L===47?(e.consume(L),o=!0,_):L===63?(e.consume(L),i=3,r.interrupt?t:N):Wt(L)?(e.consume(L),s=String.fromCharCode(L),x):n(L)}function p(L){return L===45?(e.consume(L),i=2,f):L===91?(e.consume(L),i=5,a=0,m):Wt(L)?(e.consume(L),i=4,r.interrupt?t:N):n(L)}function f(L){return L===45?(e.consume(L),r.interrupt?t:N):n(L)}function m(L){const ve="CDATA[";return L===ve.charCodeAt(a++)?(e.consume(L),a===ve.length?r.interrupt?t:M:m):n(L)}function _(L){return Wt(L)?(e.consume(L),s=String.fromCharCode(L),x):n(L)}function x(L){if(L===null||L===47||L===62||Le(L)){const ve=L===47,Be=s.toLowerCase();return!ve&&!o&&eS.includes(Be)?(i=1,r.interrupt?t(L):M(L)):Cj.includes(s.toLowerCase())?(i=6,ve?(e.consume(L),y):r.interrupt?t(L):M(L)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(L):o?v(L):E(L))}return L===45||Mt(L)?(e.consume(L),s+=String.fromCharCode(L),x):n(L)}function y(L){return L===62?(e.consume(L),r.interrupt?t:M):n(L)}function v(L){return ge(L)?(e.consume(L),v):I(L)}function E(L){return L===47?(e.consume(L),I):L===58||L===95||Wt(L)?(e.consume(L),D):ge(L)?(e.consume(L),E):I(L)}function D(L){return L===45||L===46||L===58||L===95||Mt(L)?(e.consume(L),D):F(L)}function F(L){return L===61?(e.consume(L),k):ge(L)?(e.consume(L),F):E(L)}function k(L){return L===null||L===60||L===61||L===62||L===96?n(L):L===34||L===39?(e.consume(L),l=L,P):ge(L)?(e.consume(L),k):A(L)}function P(L){return L===l?(e.consume(L),l=null,T):L===null||ne(L)?n(L):(e.consume(L),P)}function A(L){return L===null||L===34||L===39||L===47||L===60||L===61||L===62||L===96||Le(L)?F(L):(e.consume(L),A)}function T(L){return L===47||L===62||ge(L)?E(L):n(L)}function I(L){return L===62?(e.consume(L),R):n(L)}function R(L){return L===null||ne(L)?M(L):ge(L)?(e.consume(L),R):n(L)}function M(L){return L===45&&i===2?(e.consume(L),re):L===60&&i===1?(e.consume(L),te):L===62&&i===4?(e.consume(L),le):L===63&&i===3?(e.consume(L),N):L===93&&i===5?(e.consume(L),q):ne(L)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(xj,ue,O)(L)):L===null||ne(L)?(e.exit("htmlFlowData"),O(L)):(e.consume(L),M)}function O(L){return e.check(Aj,X,ue)(L)}function X(L){return e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),Z}function Z(L){return L===null||ne(L)?O(L):(e.enter("htmlFlowData"),M(L))}function re(L){return L===45?(e.consume(L),N):M(L)}function te(L){return L===47?(e.consume(L),s="",U):M(L)}function U(L){if(L===62){const ve=s.toLowerCase();return eS.includes(ve)?(e.consume(L),le):M(L)}return Wt(L)&&s.length<8?(e.consume(L),s+=String.fromCharCode(L),U):M(L)}function q(L){return L===93?(e.consume(L),N):M(L)}function N(L){return L===62?(e.consume(L),le):L===45&&i===2?(e.consume(L),N):M(L)}function le(L){return L===null||ne(L)?(e.exit("htmlFlowData"),ue(L)):(e.consume(L),le)}function ue(L){return e.exit("htmlFlow"),t(L)}}function Rj(e,t,n){const r=this;return i;function i(s){return ne(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),o):n(s)}function o(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function bj(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(du,t,n)}}const kj={name:"htmlText",tokenize:Dj};function Dj(e,t,n){const r=this;let i,o,s;return a;function a(N){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(N),l}function l(N){return N===33?(e.consume(N),u):N===47?(e.consume(N),F):N===63?(e.consume(N),E):Wt(N)?(e.consume(N),A):n(N)}function u(N){return N===45?(e.consume(N),d):N===91?(e.consume(N),o=0,m):Wt(N)?(e.consume(N),v):n(N)}function d(N){return N===45?(e.consume(N),f):n(N)}function h(N){return N===null?n(N):N===45?(e.consume(N),p):ne(N)?(s=h,te(N)):(e.consume(N),h)}function p(N){return N===45?(e.consume(N),f):h(N)}function f(N){return N===62?re(N):N===45?p(N):h(N)}function m(N){const le="CDATA[";return N===le.charCodeAt(o++)?(e.consume(N),o===le.length?_:m):n(N)}function _(N){return N===null?n(N):N===93?(e.consume(N),x):ne(N)?(s=_,te(N)):(e.consume(N),_)}function x(N){return N===93?(e.consume(N),y):_(N)}function y(N){return N===62?re(N):N===93?(e.consume(N),y):_(N)}function v(N){return N===null||N===62?re(N):ne(N)?(s=v,te(N)):(e.consume(N),v)}function E(N){return N===null?n(N):N===63?(e.consume(N),D):ne(N)?(s=E,te(N)):(e.consume(N),E)}function D(N){return N===62?re(N):E(N)}function F(N){return Wt(N)?(e.consume(N),k):n(N)}function k(N){return N===45||Mt(N)?(e.consume(N),k):P(N)}function P(N){return ne(N)?(s=P,te(N)):ge(N)?(e.consume(N),P):re(N)}function A(N){return N===45||Mt(N)?(e.consume(N),A):N===47||N===62||Le(N)?T(N):n(N)}function T(N){return N===47?(e.consume(N),re):N===58||N===95||Wt(N)?(e.consume(N),I):ne(N)?(s=T,te(N)):ge(N)?(e.consume(N),T):re(N)}function I(N){return N===45||N===46||N===58||N===95||Mt(N)?(e.consume(N),I):R(N)}function R(N){return N===61?(e.consume(N),M):ne(N)?(s=R,te(N)):ge(N)?(e.consume(N),R):T(N)}function M(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(e.consume(N),i=N,O):ne(N)?(s=M,te(N)):ge(N)?(e.consume(N),M):(e.consume(N),X)}function O(N){return N===i?(e.consume(N),i=void 0,Z):N===null?n(N):ne(N)?(s=O,te(N)):(e.consume(N),O)}function X(N){return N===null||N===34||N===39||N===60||N===61||N===96?n(N):N===47||N===62||Le(N)?T(N):(e.consume(N),X)}function Z(N){return N===47||N===62||Le(N)?T(N):n(N)}function re(N){return N===62?(e.consume(N),e.exit("htmlTextData"),e.exit("htmlText"),t):n(N)}function te(N){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),U}function U(N){return ge(N)?xe(e,q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N):q(N)}function q(N){return e.enter("htmlTextData"),s(N)}}const bv={name:"labelEnd",tokenize:Vj,resolveTo:Fj,resolveAll:Mj},Oj={tokenize:Uj},Nj={tokenize:$j},Lj={tokenize:jj};function Mj(e){let t=-1;for(;++t<e.length;){const n=e[t][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++)}return e}function Fj(e,t){let n=e.length,r=0,i,o,s,a;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:e[o][1].type==="labelLink"?"link":"image",start:Object.assign({},e[o][1].start),end:Object.assign({},e[e.length-1][1].end)},u={type:"label",start:Object.assign({},e[o][1].start),end:Object.assign({},e[s][1].end)},d={type:"labelText",start:Object.assign({},e[o+r+2][1].end),end:Object.assign({},e[s-2][1].start)};return a=[["enter",l,t],["enter",u,t]],a=xn(a,e.slice(o+1,o+r+3)),a=xn(a,[["enter",d,t]]),a=xn(a,Lh(t.parser.constructs.insideSpan.null,e.slice(o+r+4,s-3),t)),a=xn(a,[["exit",d,t],e[s-2],e[s-1],["exit",u,t]]),a=xn(a,e.slice(s+1)),a=xn(a,[["exit",l,t]]),Rn(e,o,e.length,a),e}function Vj(e,t,n){const r=this;let i=r.events.length,o,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return a;function a(p){return o?o._inactive?h(p):(s=r.parser.defined.includes(zn(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):n(p)}function l(p){return p===40?e.attempt(Oj,d,s?d:h)(p):p===91?e.attempt(Nj,d,s?u:h)(p):s?d(p):h(p)}function u(p){return e.attempt(Lj,d,h)(p)}function d(p){return t(p)}function h(p){return o._balanced=!0,n(p)}}function Uj(e,t,n){return r;function r(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),i}function i(h){return Le(h)?ll(e,o)(h):o(h)}function o(h){return h===41?d(h):xT(e,s,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function s(h){return Le(h)?ll(e,l)(h):d(h)}function a(h){return n(h)}function l(h){return h===34||h===39||h===40?TT(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function u(h){return Le(h)?ll(e,d)(h):d(h)}function d(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):n(h)}}function $j(e,t,n){const r=this;return i;function i(a){return AT.call(r,e,o,s,"reference","referenceMarker","referenceString")(a)}function o(a){return r.parser.defined.includes(zn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function s(a){return n(a)}}function jj(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const Bj={name:"labelStartImage",tokenize:zj,resolveAll:bv.resolveAll};function zj(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),o}function o(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),s):n(a)}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const Wj={name:"labelStartLink",tokenize:Hj,resolveAll:bv.resolveAll};function Hj(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),o}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const ip={name:"lineEnding",tokenize:Gj};function Gj(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),xe(e,t,"linePrefix")}}const Bc={name:"thematicBreak",tokenize:qj};function qj(e,t,n){let r=0,i;return o;function o(u){return e.enter("thematicBreak"),s(u)}function s(u){return i=u,a(u)}function a(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||ne(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),ge(u)?xe(e,a,"whitespace")(u):a(u))}}const Qt={name:"list",tokenize:Xj,continuation:{tokenize:Yj},exit:Zj},Kj={tokenize:e3,partial:!0},Qj={tokenize:Jj,partial:!0};function Xj(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return a;function a(f){const m=r.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||f===r.containerState.marker:rg(f)){if(r.containerState.type||(r.containerState.type=m,e.enter(m,{_container:!0})),m==="listUnordered")return e.enter("listItemPrefix"),f===42||f===45?e.check(Bc,n,u)(f):u(f);if(!r.interrupt||f===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(f)}return n(f)}function l(f){return rg(f)&&++s<10?(e.consume(f),l):(!r.interrupt||s<2)&&(r.containerState.marker?f===r.containerState.marker:f===41||f===46)?(e.exit("listItemValue"),u(f)):n(f)}function u(f){return e.enter("listItemMarker"),e.consume(f),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||f,e.check(du,r.interrupt?n:d,e.attempt(Kj,p,h))}function d(f){return r.containerState.initialBlankLine=!0,o++,p(f)}function h(f){return ge(f)?(e.enter("listItemPrefixWhitespace"),e.consume(f),e.exit("listItemPrefixWhitespace"),p):n(f)}function p(f){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(f)}}function Yj(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(du,i,o);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,xe(e,t,"listItemIndent",r.containerState.size+1)(a)}function o(a){return r.containerState.furtherBlankLines||!ge(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Qj,t,s)(a))}function s(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,xe(e,e.attempt(Qt,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function Jj(e,t,n){const r=this;return xe(e,i,"listItemIndent",r.containerState.size+1);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(o):n(o)}}function Zj(e){e.exit(this.containerState.type)}function e3(e,t,n){const r=this;return xe(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const s=r.events[r.events.length-1];return!ge(o)&&s&&s[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const tS={name:"setextUnderline",tokenize:n3,resolveTo:t3};function t3(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const s={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",s,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[o][1].end)):e[r][1]=s,e.push(["exit",s,t]),e}function n3(e,t,n){const r=this;let i;return o;function o(u){let d=r.events.length,h;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){h=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter("setextHeadingLine"),i=u,s(u)):n(u)}function s(u){return e.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(e.consume(u),a):(e.exit("setextHeadingLineSequence"),ge(u)?xe(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||ne(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const r3={tokenize:i3};function i3(e){const t=this,n=e.attempt(du,r,e.attempt(this.parser.constructs.flowInitial,i,xe(e,e.attempt(this.parser.constructs.flow,i,e.attempt(uj,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const o3={resolveAll:RT()},s3=PT("string"),a3=PT("text");function PT(e){return{tokenize:t,resolveAll:RT(e==="text"?l3:void 0)};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,s,a);return s;function s(d){return u(d)?o(d):a(d)}function a(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return u(d)?(n.exit("data"),o(d)):(n.consume(d),l)}function u(d){if(d===null)return!0;const h=i[d];let p=-1;if(h)for(;++p<h.length;){const f=h[p];if(!f.previous||f.previous.call(r,r.previous))return!0}return!1}}}function RT(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function l3(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,s=-1,a=0,l;for(;o--;){const u=i[o];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)a++,s--;if(s)break;s=-1}else if(u===-2)l=!0,a++;else if(u!==-1){o++;break}}if(a){const u={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+o,_bufferIndex:o?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},u.start),r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}function u3(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},o=[];let s=[],a=[];const l={consume:v,enter:E,exit:D,attempt:P(F),check:P(k),interrupt:P(k,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:f,sliceSerialize:p,now:m,defineSkip:_,write:h};let d=t.tokenize.call(u,l);return t.resolveAll&&o.push(t),u;function h(R){return s=xn(s,R),x(),s[s.length-1]!==null?[]:(A(t,0),u.events=Lh(o,u.events,u),u.events)}function p(R,M){return d3(f(R),M)}function f(R){return c3(s,R)}function m(){const{line:R,column:M,offset:O,_index:X,_bufferIndex:Z}=r;return{line:R,column:M,offset:O,_index:X,_bufferIndex:Z}}function _(R){i[R.line]=R.column,I()}function x(){let R;for(;r._index<s.length;){const M=s[r._index];if(typeof M=="string")for(R=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===R&&r._bufferIndex<M.length;)y(M.charCodeAt(r._bufferIndex));else y(M)}}function y(R){d=d(R)}function v(R){ne(R)?(r.line++,r.column=1,r.offset+=R===-3?2:1,I()):R!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=R}function E(R,M){const O=M||{};return O.type=R,O.start=m(),u.events.push(["enter",O,u]),a.push(O),O}function D(R){const M=a.pop();return M.end=m(),u.events.push(["exit",M,u]),M}function F(R,M){A(R,M.from)}function k(R,M){M.restore()}function P(R,M){return O;function O(X,Z,re){let te,U,q,N;return Array.isArray(X)?ue(X):"tokenize"in X?ue([X]):le(X);function le(Re){return gt;function gt(En){const Yn=En!==null&&Re[En],on=En!==null&&Re.null,Nn=[...Array.isArray(Yn)?Yn:Yn?[Yn]:[],...Array.isArray(on)?on:on?[on]:[]];return ue(Nn)(En)}}function ue(Re){return te=Re,U=0,Re.length===0?re:L(Re[U])}function L(Re){return gt;function gt(En){return N=T(),q=Re,Re.partial||(u.currentConstruct=Re),Re.name&&u.parser.constructs.disable.null.includes(Re.name)?Be():Re.tokenize.call(M?Object.assign(Object.create(u),M):u,l,ve,Be)(En)}}function ve(Re){return R(q,N),Z}function Be(Re){return N.restore(),++U<te.length?L(te[U]):re}}}function A(R,M){R.resolveAll&&!o.includes(R)&&o.push(R),R.resolve&&Rn(u.events,M,u.events.length-M,R.resolve(u.events.slice(M),u)),R.resolveTo&&(u.events=R.resolveTo(u.events,u))}function T(){const R=m(),M=u.previous,O=u.currentConstruct,X=u.events.length,Z=Array.from(a);return{restore:re,from:X};function re(){r=R,u.previous=M,u.currentConstruct=O,u.events.length=X,a=Z,I()}}function I(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function c3(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let s;if(n===i)s=[e[n].slice(r,o)];else{if(s=e.slice(n,i),r>-1){const a=s[0];typeof a=="string"?s[0]=a.slice(r):s.shift()}o>0&&s.push(e[i].slice(0,o))}return s}function d3(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let s;if(typeof o=="string")s=o;else switch(o){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(o)}i=o===-2,r.push(s)}return r.join("")}const h3={42:Qt,43:Qt,45:Qt,48:Qt,49:Qt,50:Qt,51:Qt,52:Qt,53:Qt,54:Qt,55:Qt,56:Qt,57:Qt,62:ET},f3={91:pj},p3={[-2]:rp,[-1]:rp,32:rp},m3={35:wj,42:Bc,45:[tS,Bc],60:Ij,61:tS,95:Bc,96:Z0,126:Z0},g3={38:CT,92:ST},y3={[-5]:ip,[-4]:ip,[-3]:ip,33:Bj,38:CT,42:ig,60:[W$,kj],91:Wj,92:[vj,ST],93:bv,95:ig,96:rj},v3={null:[ig,o3]},_3={null:[42,95]},w3={null:[]},E3=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:_3,contentInitial:f3,disable:w3,document:h3,flow:m3,flowInitial:p3,insideSpan:v3,string:g3,text:y3},Symbol.toStringTag,{value:"Module"}));function S3(e){const n=_T([E3,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(F$),document:i(U$),flow:i(r3),string:i(s3),text:i(a3)};return r;function i(o){return s;function s(a){return u3(r,o,a)}}}function C3(e){for(;!IT(e););return e}const nS=/[\0\t\n\r]/g;function I3(){let e=1,t="",n=!0,r;return i;function i(o,s,a){const l=[];let u,d,h,p,f;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(s||void 0).decode(o)),h=0,t="",n&&(o.charCodeAt(0)===65279&&h++,n=void 0);h<o.length;){if(nS.lastIndex=h,u=nS.exec(o),p=u&&u.index!==void 0?u.index:o.length,f=o.charCodeAt(p),!u){t=o.slice(h);break}if(f===10&&h===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<p&&(l.push(o.slice(h,p)),e+=p-h),f){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}h=p+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const x3=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function A3(e){return e.replace(x3,T3)}function T3(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return wT(n.slice(o?2:1),o?16:10)}return Rv(n)||e}const bT={}.hasOwnProperty;function P3(e,t,n){return typeof t!="string"&&(n=t,t=void 0),R3(n)(C3(S3(n).document().write(I3()(e,t,!0))))}function R3(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(ua),autolinkProtocol:T,autolinkEmail:T,atxHeading:o(Yr),blockQuote:o(on),characterEscape:T,characterReference:T,codeFenced:o(Nn),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:o(Nn,s),codeText:o(be,s),codeTextData:T,data:T,codeFlowValue:T,definition:o(We),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:o(xt),hardBreakEscape:o(la),hardBreakTrailing:o(la),htmlFlow:o(Eu,s),htmlFlowData:T,htmlText:o(Eu,s),htmlTextData:T,image:o(Zh),label:s,link:o(ua),listItem:o(Su),listItemValue:p,listOrdered:o(zo,h),listUnordered:o(zo),paragraph:o(ef),reference:L,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:o(Yr),strong:o(ca),thematicBreak:o(Cu)},exit:{atxHeading:l(),atxHeadingSequence:F,autolink:l(),autolinkEmail:Yn,autolinkProtocol:En,blockQuote:l(),characterEscapeValue:I,characterReferenceMarkerHexadecimal:Be,characterReferenceMarkerNumeric:Be,characterReferenceValue:Re,characterReference:gt,codeFenced:l(x),codeFencedFence:_,codeFencedFenceInfo:f,codeFencedFenceMeta:m,codeFlowValue:I,codeIndented:l(y),codeText:l(Z),codeTextData:I,data:I,definition:l(),definitionDestinationString:D,definitionLabelString:v,definitionTitleString:E,emphasis:l(),hardBreakEscape:l(M),hardBreakTrailing:l(M),htmlFlow:l(O),htmlFlowData:I,htmlText:l(X),htmlTextData:I,image:l(te),label:q,labelText:U,lineEnding:R,link:l(re),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:ve,resourceDestinationString:N,resourceTitleString:le,resource:ue,setextHeading:l(A),setextHeadingLineSequence:P,setextHeadingText:k,strong:l(),thematicBreak:l()}};kT(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(j){let W={type:"root",children:[]};const ie={stack:[W],tokenStack:[],config:t,enter:a,exit:u,buffer:s,resume:d,data:n},me=[];let ke=-1;for(;++ke<j.length;)if(j[ke][1].type==="listOrdered"||j[ke][1].type==="listUnordered")if(j[ke][0]==="enter")me.push(ke);else{const sn=me.pop();ke=i(j,sn,ke)}for(ke=-1;++ke<j.length;){const sn=t[j[ke][0]];bT.call(sn,j[ke][1].type)&&sn[j[ke][1].type].call(Object.assign({sliceSerialize:j[ke][2].sliceSerialize},ie),j[ke][1])}if(ie.tokenStack.length>0){const sn=ie.tokenStack[ie.tokenStack.length-1];(sn[1]||rS).call(ie,void 0,sn[0])}for(W.position={start:oi(j.length>0?j[0][1].start:{line:1,column:1,offset:0}),end:oi(j.length>0?j[j.length-2][1].end:{line:1,column:1,offset:0})},ke=-1;++ke<t.transforms.length;)W=t.transforms[ke](W)||W;return W}function i(j,W,ie){let me=W-1,ke=-1,sn=!1,an,Sn,Jr,_r;for(;++me<=ie;){const jt=j[me];switch(jt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{jt[0]==="enter"?ke++:ke--,_r=void 0;break}case"lineEndingBlank":{jt[0]==="enter"&&(an&&!_r&&!ke&&!Jr&&(Jr=me),_r=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:_r=void 0}if(!ke&&jt[0]==="enter"&&jt[1].type==="listItemPrefix"||ke===-1&&jt[0]==="exit"&&(jt[1].type==="listUnordered"||jt[1].type==="listOrdered")){if(an){let Zr=me;for(Sn=void 0;Zr--;){const ln=j[Zr];if(ln[1].type==="lineEnding"||ln[1].type==="lineEndingBlank"){if(ln[0]==="exit")continue;Sn&&(j[Sn][1].type="lineEndingBlank",sn=!0),ln[1].type="lineEnding",Sn=Zr}else if(!(ln[1].type==="linePrefix"||ln[1].type==="blockQuotePrefix"||ln[1].type==="blockQuotePrefixWhitespace"||ln[1].type==="blockQuoteMarker"||ln[1].type==="listItemIndent"))break}Jr&&(!Sn||Jr<Sn)&&(an._spread=!0),an.end=Object.assign({},Sn?j[Sn][1].start:jt[1].end),j.splice(Sn||me,0,["exit",an,jt[2]]),me++,ie++}if(jt[1].type==="listItemPrefix"){const Zr={type:"listItem",_spread:!1,start:Object.assign({},jt[1].start),end:void 0};an=Zr,j.splice(me,0,["enter",Zr,jt[2]]),me++,ie++,Jr=void 0,_r=!0}}}return j[W][1]._spread=sn,ie}function o(j,W){return ie;function ie(me){a.call(this,j(me),me),W&&W.call(this,me)}}function s(){this.stack.push({type:"fragment",children:[]})}function a(j,W,ie){this.stack[this.stack.length-1].children.push(j),this.stack.push(j),this.tokenStack.push([W,ie||void 0]),j.position={start:oi(W.start),end:void 0}}function l(j){return W;function W(ie){j&&j.call(this,ie),u.call(this,ie)}}function u(j,W){const ie=this.stack.pop(),me=this.tokenStack.pop();if(me)me[0].type!==j.type&&(W?W.call(this,j,me[0]):(me[1]||rS).call(this,j,me[0]));else throw new Error("Cannot close `"+j.type+"` ("+al({start:j.start,end:j.end})+"): its not open");ie.position.end=oi(j.end)}function d(){return Pv(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function p(j){if(this.data.expectingFirstListItemValue){const W=this.stack[this.stack.length-2];W.start=Number.parseInt(this.sliceSerialize(j),10),this.data.expectingFirstListItemValue=void 0}}function f(){const j=this.resume(),W=this.stack[this.stack.length-1];W.lang=j}function m(){const j=this.resume(),W=this.stack[this.stack.length-1];W.meta=j}function _(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const j=this.resume(),W=this.stack[this.stack.length-1];W.value=j.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const j=this.resume(),W=this.stack[this.stack.length-1];W.value=j.replace(/(\r?\n|\r)$/g,"")}function v(j){const W=this.resume(),ie=this.stack[this.stack.length-1];ie.label=W,ie.identifier=zn(this.sliceSerialize(j)).toLowerCase()}function E(){const j=this.resume(),W=this.stack[this.stack.length-1];W.title=j}function D(){const j=this.resume(),W=this.stack[this.stack.length-1];W.url=j}function F(j){const W=this.stack[this.stack.length-1];if(!W.depth){const ie=this.sliceSerialize(j).length;W.depth=ie}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function P(j){const W=this.stack[this.stack.length-1];W.depth=this.sliceSerialize(j).codePointAt(0)===61?1:2}function A(){this.data.setextHeadingSlurpLineEnding=void 0}function T(j){const ie=this.stack[this.stack.length-1].children;let me=ie[ie.length-1];(!me||me.type!=="text")&&(me=da(),me.position={start:oi(j.start),end:void 0},ie.push(me)),this.stack.push(me)}function I(j){const W=this.stack.pop();W.value+=this.sliceSerialize(j),W.position.end=oi(j.end)}function R(j){const W=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ie=W.children[W.children.length-1];ie.position.end=oi(j.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(W.type)&&(T.call(this,j),I.call(this,j))}function M(){this.data.atHardBreak=!0}function O(){const j=this.resume(),W=this.stack[this.stack.length-1];W.value=j}function X(){const j=this.resume(),W=this.stack[this.stack.length-1];W.value=j}function Z(){const j=this.resume(),W=this.stack[this.stack.length-1];W.value=j}function re(){const j=this.stack[this.stack.length-1];if(this.data.inReference){const W=this.data.referenceType||"shortcut";j.type+="Reference",j.referenceType=W,delete j.url,delete j.title}else delete j.identifier,delete j.label;this.data.referenceType=void 0}function te(){const j=this.stack[this.stack.length-1];if(this.data.inReference){const W=this.data.referenceType||"shortcut";j.type+="Reference",j.referenceType=W,delete j.url,delete j.title}else delete j.identifier,delete j.label;this.data.referenceType=void 0}function U(j){const W=this.sliceSerialize(j),ie=this.stack[this.stack.length-2];ie.label=A3(W),ie.identifier=zn(W).toLowerCase()}function q(){const j=this.stack[this.stack.length-1],W=this.resume(),ie=this.stack[this.stack.length-1];if(this.data.inReference=!0,ie.type==="link"){const me=j.children;ie.children=me}else ie.alt=W}function N(){const j=this.resume(),W=this.stack[this.stack.length-1];W.url=j}function le(){const j=this.resume(),W=this.stack[this.stack.length-1];W.title=j}function ue(){this.data.inReference=void 0}function L(){this.data.referenceType="collapsed"}function ve(j){const W=this.resume(),ie=this.stack[this.stack.length-1];ie.label=W,ie.identifier=zn(this.sliceSerialize(j)).toLowerCase(),this.data.referenceType="full"}function Be(j){this.data.characterReferenceType=j.type}function Re(j){const W=this.sliceSerialize(j),ie=this.data.characterReferenceType;let me;ie?(me=wT(W,ie==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):me=Rv(W);const ke=this.stack[this.stack.length-1];ke.value+=me}function gt(j){const W=this.stack.pop();W.position.end=oi(j.end)}function En(j){I.call(this,j);const W=this.stack[this.stack.length-1];W.url=this.sliceSerialize(j)}function Yn(j){I.call(this,j);const W=this.stack[this.stack.length-1];W.url="mailto:"+this.sliceSerialize(j)}function on(){return{type:"blockquote",children:[]}}function Nn(){return{type:"code",lang:null,meta:null,value:""}}function be(){return{type:"inlineCode",value:""}}function We(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function xt(){return{type:"emphasis",children:[]}}function Yr(){return{type:"heading",depth:0,children:[]}}function la(){return{type:"break"}}function Eu(){return{type:"html",value:""}}function Zh(){return{type:"image",title:null,url:"",alt:null}}function ua(){return{type:"link",title:null,url:"",children:[]}}function zo(j){return{type:"list",ordered:j.type==="listOrdered",start:null,spread:j._spread,children:[]}}function Su(j){return{type:"listItem",spread:j._spread,checked:null,children:[]}}function ef(){return{type:"paragraph",children:[]}}function ca(){return{type:"strong",children:[]}}function da(){return{type:"text",value:""}}function Cu(){return{type:"thematicBreak"}}}function oi(e){return{line:e.line,column:e.column,offset:e.offset}}function kT(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?kT(e,r):b3(e,r)}}function b3(e,t){let n;for(n in t)if(bT.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function rS(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+al({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+al({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+al({start:t.start,end:t.end})+") is still open")}function k3(e){const t=this;t.parser=n;function n(r){return P3(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function D3(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function O3(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function N3(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function L3(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function M3(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function F3(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=ra(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let s,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=o+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function V3(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function U3(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function DT(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function $3(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return DT(e,t);const i={src:ra(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function j3(e,t){const n={src:ra(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function B3(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function z3(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return DT(e,t);const i={href:ra(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function W3(e,t){const n={href:ra(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function H3(e,t,n){const r=e.all(t),i=n?G3(n):OT(t),o={},s=[];if(typeof t.checked=="boolean"){const d=r[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const d=r[a];(i||a!==0||d.type!=="element"||d.tagName!=="p")&&s.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?s.push(...d.children):s.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:s};return e.patch(t,u),e.applyData(t,u)}function G3(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=OT(n[r])}return t}function OT(e){const t=e.spread;return t??e.children.length>1}function q3(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function K3(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Q3(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function X3(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Y3(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=Iv(t.children[1]),l=hT(t.children[t.children.length-1]);a&&l&&(s.position={start:a,end:l}),i.push(s)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function J3(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,a=s?s.length:t.children.length;let l=-1;const u=[];for(;++l<a;){const h=t.children[l],p={},f=s?s[l]:void 0;f&&(p.align=f);let m={type:"element",tagName:o,properties:p,children:[]};h&&(m.children=e.all(h),e.patch(h,m),m=e.applyData(h,m)),u.push(m)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function Z3(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const iS=9,oS=32;function eB(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(sS(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(sS(t.slice(i),i>0,!1)),o.join("")}function sS(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===iS||o===oS;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===iS||o===oS;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function tB(e,t){const n={type:"text",value:eB(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function nB(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const rB={blockquote:D3,break:O3,code:N3,delete:L3,emphasis:M3,footnoteReference:F3,heading:V3,html:U3,imageReference:$3,image:j3,inlineCode:B3,linkReference:z3,link:W3,listItem:H3,list:q3,paragraph:K3,root:Q3,strong:X3,table:Y3,tableCell:Z3,tableRow:J3,text:tB,thematicBreak:nB,toml:uc,yaml:uc,definition:uc,footnoteDefinition:uc};function uc(){}const NT=-1,Mh=0,Vd=1,Ud=2,kv=3,Dv=4,Ov=5,Nv=6,LT=7,MT=8,aS=typeof self=="object"?self:globalThis,iB=(e,t)=>{const n=(i,o)=>(e.set(o,i),i),r=i=>{if(e.has(i))return e.get(i);const[o,s]=t[i];switch(o){case Mh:case NT:return n(s,i);case Vd:{const a=n([],i);for(const l of s)a.push(r(l));return a}case Ud:{const a=n({},i);for(const[l,u]of s)a[r(l)]=r(u);return a}case kv:return n(new Date(s),i);case Dv:{const{source:a,flags:l}=s;return n(new RegExp(a,l),i)}case Ov:{const a=n(new Map,i);for(const[l,u]of s)a.set(r(l),r(u));return a}case Nv:{const a=n(new Set,i);for(const l of s)a.add(r(l));return a}case LT:{const{name:a,message:l}=s;return n(new aS[a](l),i)}case MT:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i)}return n(new aS[o](s),i)};return r},lS=e=>iB(new Map,e)(0),Qo="",{toString:oB}={},{keys:sB}=Object,Na=e=>{const t=typeof e;if(t!=="object"||!e)return[Mh,t];const n=oB.call(e).slice(8,-1);switch(n){case"Array":return[Vd,Qo];case"Object":return[Ud,Qo];case"Date":return[kv,Qo];case"RegExp":return[Dv,Qo];case"Map":return[Ov,Qo];case"Set":return[Nv,Qo]}return n.includes("Array")?[Vd,n]:n.includes("Error")?[LT,n]:[Ud,n]},cc=([e,t])=>e===Mh&&(t==="function"||t==="symbol"),aB=(e,t,n,r)=>{const i=(s,a)=>{const l=r.push(s)-1;return n.set(a,l),l},o=s=>{if(n.has(s))return n.get(s);let[a,l]=Na(s);switch(a){case Mh:{let d=s;switch(l){case"bigint":a=MT,d=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([NT],s)}return i([a,d],s)}case Vd:{if(l)return i([l,[...s]],s);const d=[],h=i([a,d],s);for(const p of s)d.push(o(p));return h}case Ud:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(t&&"toJSON"in s)return o(s.toJSON());const d=[],h=i([a,d],s);for(const p of sB(s))(e||!cc(Na(s[p])))&&d.push([o(p),o(s[p])]);return h}case kv:return i([a,s.toISOString()],s);case Dv:{const{source:d,flags:h}=s;return i([a,{source:d,flags:h}],s)}case Ov:{const d=[],h=i([a,d],s);for(const[p,f]of s)(e||!(cc(Na(p))||cc(Na(f))))&&d.push([o(p),o(f)]);return h}case Nv:{const d=[],h=i([a,d],s);for(const p of s)(e||!cc(Na(p)))&&d.push(o(p));return h}}const{message:u}=s;return i([a,{name:l,message:u}],s)};return o},uS=(e,{json:t,lossy:n}={})=>{const r=[];return aB(!(t||n),!!t,new Map,r)(e),r},$d=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?lS(uS(e,t)):structuredClone(e):(e,t)=>lS(uS(e,t));function lB(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function uB(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function cB(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||lB,r=e.options.footnoteBackLabel||uB,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const d=e.all(u),h=String(u.identifier).toUpperCase(),p=ra(h.toLowerCase());let f=0;const m=[],_=e.footnoteCounts.get(h);for(;_!==void 0&&++f<=_;){m.length>0&&m.push({type:"text",value:" "});let v=typeof n=="string"?n:n(l,f);typeof v=="string"&&(v={type:"text",value:v}),m.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,f),className:["data-footnote-backref"]},children:Array.isArray(v)?v:[v]})}const x=d[d.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const v=x.children[x.children.length-1];v&&v.type==="text"?v.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...m)}else d.push(...m);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(d,!0)};e.patch(u,y),a.push(y)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...$d(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const Fh=function(e){if(e==null)return pB;if(typeof e=="function")return Vh(e);if(typeof e=="object")return Array.isArray(e)?dB(e):hB(e);if(typeof e=="string")return fB(e);throw new Error("Expected function, string, or object as test")};function dB(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Fh(e[n]);return Vh(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function hB(e){const t=e;return Vh(n);function n(r){const i=r;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function fB(e){return Vh(t);function t(n){return n&&n.type===e}}function Vh(e){return t;function t(n,r,i){return!!(mB(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function pB(){return!0}function mB(e){return e!==null&&typeof e=="object"&&"type"in e}const FT=[],gB=!0,og=!1,yB="skip";function VT(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const o=Fh(i),s=r?-1:1;a(e,void 0,[])();function a(l,u,d){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const f=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(f?"<"+f+">":""))+")"})}return p;function p(){let f=FT,m,_,x;if((!t||o(l,u,d[d.length-1]||void 0))&&(f=vB(n(l,d)),f[0]===og))return f;if("children"in l&&l.children){const y=l;if(y.children&&f[0]!==yB)for(_=(r?y.children.length:-1)+s,x=d.concat(y);_>-1&&_<y.children.length;){const v=y.children[_];if(m=a(v,_,x)(),m[0]===og)return m;_=typeof m[1]=="number"?m[1]:_+s}}return f}}}function vB(e){return Array.isArray(e)?e:typeof e=="number"?[gB,e]:e==null?FT:[e]}function Lv(e,t,n,r){let i,o,s;typeof t=="function"&&typeof n!="function"?(o=void 0,s=t,i=n):(o=t,s=n,i=r),VT(e,o,a,i);function a(l,u){const d=u[u.length-1],h=d?d.children.indexOf(l):void 0;return s(l,h,d)}}const sg={}.hasOwnProperty,_B={};function wB(e,t){const n=t||_B,r=new Map,i=new Map,o=new Map,s={...rB,...n.handlers},a={all:u,applyData:SB,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:s,one:l,options:n,patch:EB,wrap:IB};return Lv(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?r:i,p=String(d.identifier).toUpperCase();h.has(p)||h.set(p,d)}}),a;function l(d,h){const p=d.type,f=a.handlers[p];if(sg.call(a.handlers,p)&&f)return f(a,d,h);if(a.options.passThrough&&a.options.passThrough.includes(p)){if("children"in d){const{children:_,...x}=d,y=$d(x);return y.children=a.all(d),y}return $d(d)}return(a.options.unknownHandler||CB)(a,d,h)}function u(d){const h=[];if("children"in d){const p=d.children;let f=-1;for(;++f<p.length;){const m=a.one(p[f],d);if(m){if(f&&p[f-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=cS(m.value)),!Array.isArray(m)&&m.type==="element")){const _=m.children[0];_&&_.type==="text"&&(_.value=cS(_.value))}Array.isArray(m)?h.push(...m):h.push(m)}}}return h}}function EB(e,t){e.position&&(t.position=a$(e))}function SB(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&o&&Object.assign(n.properties,$d(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function CB(e,t){const n=t.data||{},r="value"in t&&!(sg.call(n,"hProperties")||sg.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function IB(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function cS(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function dS(e,t){const n=wB(e,t),r=n.one(e,void 0),i=cB(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function xB(e,t){return e&&"run"in e?async function(n,r){const i=dS(n,{file:r,...t});await e.run(i,r)}:function(n,r){return dS(n,{file:r,...e||t})}}function hS(e){if(e)throw e}var zc=Object.prototype.hasOwnProperty,UT=Object.prototype.toString,fS=Object.defineProperty,pS=Object.getOwnPropertyDescriptor,mS=function(t){return typeof Array.isArray=="function"?Array.isArray(t):UT.call(t)==="[object Array]"},gS=function(t){if(!t||UT.call(t)!=="[object Object]")return!1;var n=zc.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&zc.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||zc.call(t,i)},yS=function(t,n){fS&&n.name==="__proto__"?fS(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},vS=function(t,n){if(n==="__proto__")if(zc.call(t,n)){if(pS)return pS(t,n).value}else return;return t[n]},AB=function e(){var t,n,r,i,o,s,a=arguments[0],l=1,u=arguments.length,d=!1;for(typeof a=="boolean"&&(d=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=vS(a,n),i=vS(t,n),a!==i&&(d&&i&&(gS(i)||(o=mS(i)))?(o?(o=!1,s=r&&mS(r)?r:[]):s=r&&gS(r)?r:{},yS(a,{name:n,newValue:e(d,s,i)})):typeof i<"u"&&yS(a,{name:n,newValue:i}));return a};const op=cC(AB);function ag(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function TB(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);a(null,...i);function a(l,...u){const d=e[++o];let h=-1;if(l){s(l);return}for(;++h<i.length;)(u[h]===null||u[h]===void 0)&&(u[h]=i[h]);i=u,d?PB(d,a)(...u):s(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function PB(e,t){let n;return r;function r(...s){const a=e.length>s.length;let l;a&&s.push(i);try{l=e.apply(this,s)}catch(u){const d=u;if(a&&n)throw d;return i(d)}a||(l&&l.then&&typeof l.then=="function"?l.then(o,i):l instanceof Error?i(l):o(l))}function i(s,...a){n||(n=!0,t(s,...a))}function o(s){i(null,s)}}const tr={basename:RB,dirname:bB,extname:kB,join:DB,sep:"/"};function RB(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');hu(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else s<0&&(o=!0,s=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function bB(e){if(hu(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function kB(e){hu(e);let t=e.length,n=-1,r=0,i=-1,o=0,s;for(;t--;){const a=e.codePointAt(t);if(a===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),a===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function DB(...e){let t=-1,n;for(;++t<e.length;)hu(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":OB(n)}function OB(e){hu(e);const t=e.codePointAt(0)===47;let n=NB(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function NB(e,t){let n="",r=0,i=-1,o=0,s=-1,a,l;for(;++s<=e.length;){if(s<e.length)a=e.codePointAt(s);else{if(a===47)break;a=47}if(a===47){if(!(i===s-1||o===1))if(i!==s-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,o=0;continue}}else if(n.length>0){n="",r=0,i=s,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,o=0}else a===46&&o>-1?o++:o=-1}return n}function hu(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const LB={cwd:MB};function MB(){return"/"}function lg(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function FB(e){if(typeof e=="string")e=new URL(e);else if(!lg(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return VB(e)}function VB(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const sp=["history","path","basename","stem","extname","dirname"];class $T{constructor(t){let n;t?lg(t)?n={path:t}:typeof t=="string"||UB(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":LB.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<sp.length;){const o=sp[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)sp.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?tr.basename(this.path):void 0}set basename(t){lp(t,"basename"),ap(t,"basename"),this.path=tr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?tr.dirname(this.path):void 0}set dirname(t){_S(this.basename,"dirname"),this.path=tr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?tr.extname(this.path):void 0}set extname(t){if(ap(t,"extname"),_S(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=tr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){lg(t)&&(t=FB(t)),lp(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?tr.basename(this.path,this.extname):void 0}set stem(t){lp(t,"stem"),ap(t,"stem"),this.path=tr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new $t(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function ap(e,t){if(e&&e.includes(tr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+tr.sep+"`")}function lp(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function _S(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function UB(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const $B=function(e){const r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},jB={}.hasOwnProperty;class Mv extends $B{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=TB()}copy(){const t=new Mv;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(op(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(dp("data",this.frozen),this.namespace[t]=n,this):jB.call(this.namespace,t)&&this.namespace[t]||void 0:t?(dp("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=dc(t),r=this.parser||this.Parser;return up("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),up("process",this.parser||this.Parser),cp("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,s){const a=dc(t),l=r.parse(a);r.run(l,a,function(d,h,p){if(d||!h||!p)return u(d);const f=h,m=r.stringify(f,p);WB(m)?p.value=m:p.result=m,u(d,p)});function u(d,h){d||!h?s(d):o?o(h):n(void 0,h)}}}processSync(t){let n=!1,r;return this.freeze(),up("processSync",this.parser||this.Parser),cp("processSync",this.compiler||this.Compiler),this.process(t,i),ES("processSync","process",n),r;function i(o,s){n=!0,hS(o),r=s}}run(t,n,r){wS(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(s,a){const l=dc(n);i.run(t,l,u);function u(d,h,p){const f=h||t;d?a(d):s?s(f):r(void 0,f,p)}}}runSync(t,n){let r=!1,i;return this.run(t,n,o),ES("runSync","run",r),i;function o(s,a){hS(s),i=a,r=!0}}stringify(t,n){this.freeze();const r=dc(n),i=this.compiler||this.Compiler;return cp("stringify",i),wS(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(dp("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...h]=u;l(d,h)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=op(!0,i.settings,u.settings))}function a(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const h=u[d];o(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,d){let h=-1,p=-1;for(;++h<r.length;)if(r[h][0]===u){p=h;break}if(p===-1)r.push([u,...d]);else if(d.length>0){let[f,...m]=d;const _=r[p][1];ag(_)&&ag(f)&&(f=op(!0,_,f)),r[p]=[u,f,...m]}}}}const BB=new Mv().freeze();function up(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function cp(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function dp(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function wS(e){if(!ag(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function ES(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function dc(e){return zB(e)?e:new $T(e)}function zB(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function WB(e){return typeof e=="string"||HB(e)}function HB(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const GB="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",SS=[],CS={allowDangerousHtml:!0},qB=/^(https?|ircs?|mailto|xmpp)$/i,KB=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function IS(e){const t=e.allowedElements,n=e.allowElement,r=e.children||"",i=e.className,o=e.components,s=e.disallowedElements,a=e.rehypePlugins||SS,l=e.remarkPlugins||SS,u=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...CS}:CS,d=e.skipHtml,h=e.unwrapDisallowed,p=e.urlTransform||QB,f=BB().use(k3).use(l).use(xB,u).use(a),m=new $T;typeof r=="string"&&(m.value=r);for(const v of KB)Object.hasOwn(e,v.from)&&(""+v.from+(v.to?"use `"+v.to+"` instead":"remove it")+GB+v.id,void 0);const _=f.parse(m);let x=f.runSync(_,m);return i&&(x={type:"element",tagName:"div",properties:{className:i},children:x.type==="root"?x.children:[x]}),Lv(x,y),f$(x,{Fragment:C.Fragment,components:o,ignoreInvalidStyle:!0,jsx:C.jsx,jsxs:C.jsxs,passKeys:!0,passNode:!0});function y(v,E,D){if(v.type==="raw"&&D&&typeof E=="number")return d?D.children.splice(E,1):D.children[E]={type:"text",value:v.value},E;if(v.type==="element"){let F;for(F in np)if(Object.hasOwn(np,F)&&Object.hasOwn(v.properties,F)){const k=v.properties[F],P=np[F];(P===null||P.includes(v.tagName))&&(v.properties[F]=p(String(k||""),F,v))}}if(v.type==="element"){let F=t?!t.includes(v.tagName):s?s.includes(v.tagName):!1;if(!F&&n&&typeof E=="number"&&(F=!n(v,E,D)),F&&D&&typeof E=="number")return h&&v.children?D.children.splice(E,1,...v.children):D.children.splice(E,1),E}}}function QB(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t<0||i>-1&&t>i||n>-1&&t>n||r>-1&&t>r||qB.test(e.slice(0,t))?e:""}function xS(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function XB(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function jT(e,t,n){const i=Fh((n||{}).ignore||[]),o=YB(t);let s=-1;for(;++s<o.length;)VT(e,"text",a);function a(u,d){let h=-1,p;for(;++h<d.length;){const f=d[h],m=p?p.children:void 0;if(i(f,m?m.indexOf(f):void 0,p))return;p=f}if(p)return l(u,d)}function l(u,d){const h=d[d.length-1],p=o[s][0],f=o[s][1];let m=0;const x=h.children.indexOf(u);let y=!1,v=[];p.lastIndex=0;let E=p.exec(u.value);for(;E;){const D=E.index,F={index:E.index,input:E.input,stack:[...d,u]};let k=f(...E,F);if(typeof k=="string"&&(k=k.length>0?{type:"text",value:k}:void 0),k===!1?p.lastIndex=D+1:(m!==D&&v.push({type:"text",value:u.value.slice(m,D)}),Array.isArray(k)?v.push(...k):k&&v.push(k),m=D+E[0].length,y=!0),!p.global)break;E=p.exec(u.value)}return y?(m<u.value.length&&v.push({type:"text",value:u.value.slice(m)}),h.children.splice(x,1,...v)):v=[u],x+v.length}}function YB(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([JB(i[0]),ZB(i[1])])}return t}function JB(e){return typeof e=="string"?new RegExp(XB(e),"g"):e}function ZB(e){return typeof e=="function"?e:function(){return e}}const hp="phrasing",fp=["autolink","link","image","label"];function e6(){return{transforms:[a6],enter:{literalAutolink:n6,literalAutolinkEmail:pp,literalAutolinkHttp:pp,literalAutolinkWww:pp},exit:{literalAutolink:s6,literalAutolinkEmail:o6,literalAutolinkHttp:r6,literalAutolinkWww:i6}}}function t6(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:hp,notInConstruct:fp},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:hp,notInConstruct:fp},{character:":",before:"[ps]",after:"\\/",inConstruct:hp,notInConstruct:fp}]}}function n6(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function pp(e){this.config.enter.autolinkProtocol.call(this,e)}function r6(e){this.config.exit.autolinkProtocol.call(this,e)}function i6(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function o6(e){this.config.exit.autolinkEmail.call(this,e)}function s6(e){this.exit(e)}function a6(e){jT(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,l6],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),u6]],{ignore:["link","linkReference"]})}function l6(e,t,n,r,i){let o="";if(!BT(i)||(/^w/i.test(t)&&(n=t+n,t="",o="http://"),!c6(n)))return!1;const s=d6(n+r);if(!s[0])return!1;const a={type:"link",title:null,url:o+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[a,{type:"text",value:s[1]}]:a}function u6(e,t,n,r){return!BT(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function c6(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function d6(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=xS(e,"(");let o=xS(e,")");for(;r!==-1&&i>o;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[e,n]}function BT(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||To(n)||Nh(n))&&(!t||n!==47)}zT.peek=S6;function h6(){return{enter:{gfmFootnoteDefinition:p6,gfmFootnoteDefinitionLabelString:m6,gfmFootnoteCall:v6,gfmFootnoteCallString:_6},exit:{gfmFootnoteDefinition:y6,gfmFootnoteDefinitionLabelString:g6,gfmFootnoteCall:E6,gfmFootnoteCallString:w6}}}function f6(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:C6,footnoteReference:zT}}}function p6(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function m6(){this.buffer()}function g6(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=t,n.identifier=zn(this.sliceSerialize(e)).toLowerCase()}function y6(e){this.exit(e)}function v6(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function _6(){this.buffer()}function w6(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=t,n.identifier=zn(this.sliceSerialize(e)).toLowerCase()}function E6(e){this.exit(e)}function zT(e,t,n,r){const i=n.createTracker(r);let o=i.move("[^");const s=n.enter("footnoteReference"),a=n.enter("reference");return o+=i.move(n.safe(n.associationId(e),{...i.current(),before:o,after:"]"})),a(),s(),o+=i.move("]"),o}function S6(){return"["}function C6(e,t,n,r){const i=n.createTracker(r);let o=i.move("[^");const s=n.enter("footnoteDefinition"),a=n.enter("label");return o+=i.move(n.safe(n.associationId(e),{...i.current(),before:o,after:"]"})),a(),o+=i.move("]:"+(e.children&&e.children.length>0?" ":"")),i.shift(4),o+=i.move(n.indentLines(n.containerFlow(e,i.current()),I6)),s(),o}function I6(e,t,n){return t===0?e:(n?"":"    ")+e}const x6=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];WT.peek=b6;function A6(){return{canContainEols:["delete"],enter:{strikethrough:P6},exit:{strikethrough:R6}}}function T6(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:x6}],handlers:{delete:WT}}}function P6(e){this.enter({type:"delete",children:[]},e)}function R6(e){this.exit(e)}function WT(e,t,n,r){const i=n.createTracker(r),o=n.enter("strikethrough");let s=i.move("~~");return s+=n.containerPhrasing(e,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),o(),s}function b6(){return"~"}function k6(e){return e.length}function D6(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||k6,o=[],s=[],a=[],l=[];let u=0,d=-1;for(;++d<e.length;){const _=[],x=[];let y=-1;for(e[d].length>u&&(u=e[d].length);++y<e[d].length;){const v=O6(e[d][y]);if(n.alignDelimiters!==!1){const E=i(v);x[y]=E,(l[y]===void 0||E>l[y])&&(l[y]=E)}_.push(v)}s[d]=_,a[d]=x}let h=-1;if(typeof r=="object"&&"length"in r)for(;++h<u;)o[h]=AS(r[h]);else{const _=AS(r);for(;++h<u;)o[h]=_}h=-1;const p=[],f=[];for(;++h<u;){const _=o[h];let x="",y="";_===99?(x=":",y=":"):_===108?x=":":_===114&&(y=":");let v=n.alignDelimiters===!1?1:Math.max(1,l[h]-x.length-y.length);const E=x+"-".repeat(v)+y;n.alignDelimiters!==!1&&(v=x.length+v+y.length,v>l[h]&&(l[h]=v),f[h]=v),p[h]=E}s.splice(1,0,p),a.splice(1,0,f),d=-1;const m=[];for(;++d<s.length;){const _=s[d],x=a[d];h=-1;const y=[];for(;++h<u;){const v=_[h]||"";let E="",D="";if(n.alignDelimiters!==!1){const F=l[h]-(x[h]||0),k=o[h];k===114?E=" ".repeat(F):k===99?F%2?(E=" ".repeat(F/2+.5),D=" ".repeat(F/2-.5)):(E=" ".repeat(F/2),D=E):D=" ".repeat(F)}n.delimiterStart!==!1&&!h&&y.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&v==="")&&(n.delimiterStart!==!1||h)&&y.push(" "),n.alignDelimiters!==!1&&y.push(E),y.push(v),n.alignDelimiters!==!1&&y.push(D),n.padding!==!1&&y.push(" "),(n.delimiterEnd!==!1||h!==u-1)&&y.push("|")}m.push(n.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return m.join(`
`)}function O6(e){return e==null?"":String(e)}function AS(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function N6(e,t,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const s=n.indentLines(n.containerFlow(e,o.current()),L6);return i(),s}function L6(e,t,n){return">"+(n?"":" ")+e}function M6(e,t){return TS(e,t.inConstruct,!0)&&!TS(e,t.notInConstruct,!1)}function TS(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function PS(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&M6(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function F6(e,t){const n=String(e);let r=n.indexOf(t),i=r,o=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>s&&(s=o):o=1,i=r+t.length,r=n.indexOf(t,i);return s}function V6(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function U6(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function $6(e,t,n,r){const i=U6(n),o=e.value||"",s=i==="`"?"GraveAccent":"Tilde";if(V6(e,n)){const h=n.enter("codeIndented"),p=n.indentLines(o,j6);return h(),p}const a=n.createTracker(r),l=i.repeat(Math.max(F6(o,i)+1,3)),u=n.enter("codeFenced");let d=a.move(l);if(e.lang){const h=n.enter(`codeFencedLang${s}`);d+=a.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...a.current()})),h()}if(e.lang&&e.meta){const h=n.enter(`codeFencedMeta${s}`);d+=a.move(" "),d+=a.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...a.current()})),h()}return d+=a.move(`
`),o&&(d+=a.move(o+`
`)),d+=a.move(l),u(),d}function j6(e,t,n){return(n?"":"    ")+e}function Fv(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function B6(e,t,n,r){const i=Fv(n),o=i==='"'?"Quote":"Apostrophe",s=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),a(),!e.url||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...l.current()}))),a(),e.title&&(a=n.enter(`title${o}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),s(),u}function z6(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Ul(e){return"&#x"+e.toString(16).toUpperCase()+";"}function jd(e,t,n){const r=Bs(e),i=Bs(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}HT.peek=W6;function HT(e,t,n,r){const i=z6(n),o=n.enter("emphasis"),s=n.createTracker(r),a=s.move(i);let l=s.move(n.containerPhrasing(e,{after:i,before:a,...s.current()}));const u=l.charCodeAt(0),d=jd(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(l=Ul(u)+l.slice(1));const h=l.charCodeAt(l.length-1),p=jd(r.after.charCodeAt(0),h,i);p.inside&&(l=l.slice(0,-1)+Ul(h));const f=s.move(i);return o(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},a+l+f}function W6(e,t,n){return n.options.emphasis||"*"}function H6(e,t){let n=!1;return Lv(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,og}),!!((!e.depth||e.depth<3)&&Pv(e)&&(t.options.setext||n))}function G6(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),o=n.createTracker(r);if(H6(e,n)){const d=n.enter("headingSetext"),h=n.enter("phrasing"),p=n.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return h(),d(),p+`
`+(i===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const s="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");o.move(s+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(u)&&(u=Ul(u.charCodeAt(0))+u.slice(1)),u=u?s+" "+u:s,n.options.closeAtx&&(u+=" "+s),l(),a(),u}GT.peek=q6;function GT(e){return e.value||""}function q6(){return"<"}qT.peek=K6;function qT(e,t,n,r){const i=Fv(n),o=i==='"'?"Quote":"Apostrophe",s=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),a(),e.title&&(a=n.enter(`title${o}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),u+=l.move(")"),s(),u}function K6(){return"!"}KT.peek=Q6;function KT(e,t,n,r){const i=e.referenceType,o=n.enter("imageReference");let s=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const u=n.safe(e.alt,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const h=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return s(),n.stack=d,o(),i==="full"||!u||u!==h?l+=a.move(h+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function Q6(){return"!"}QT.peek=X6;function QT(e,t,n){let r=e.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const s=n.unsafe[o],a=n.compilePattern(s);let l;if(s.atBreak)for(;l=a.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function X6(){return"`"}function XT(e,t){const n=Pv(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}YT.peek=Y6;function YT(e,t,n,r){const i=Fv(n),o=i==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let a,l;if(XT(e,n)){const d=n.stack;n.stack=[],a=n.enter("autolink");let h=s.move("<");return h+=s.move(n.containerPhrasing(e,{before:h,after:">",...s.current()})),h+=s.move(">"),a(),n.stack=d,h}a=n.enter("link"),l=n.enter("label");let u=s.move("[");return u+=s.move(n.containerPhrasing(e,{before:u,after:"](",...s.current()})),u+=s.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=s.move("<"),u+=s.move(n.safe(e.url,{before:u,after:">",...s.current()})),u+=s.move(">")):(l=n.enter("destinationRaw"),u+=s.move(n.safe(e.url,{before:u,after:e.title?" ":")",...s.current()}))),l(),e.title&&(l=n.enter(`title${o}`),u+=s.move(" "+i),u+=s.move(n.safe(e.title,{before:u,after:i,...s.current()})),u+=s.move(i),l()),u+=s.move(")"),a(),u}function Y6(e,t,n){return XT(e,n)?"<":"["}JT.peek=J6;function JT(e,t,n,r){const i=e.referenceType,o=n.enter("linkReference");let s=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const u=n.containerPhrasing(e,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const h=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return s(),n.stack=d,o(),i==="full"||!u||u!==h?l+=a.move(h+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function J6(){return"["}function Vv(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Z6(e){const t=Vv(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function ez(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function ZT(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function tz(e,t,n,r){const i=n.enter("list"),o=n.bulletCurrent;let s=e.ordered?ez(n):Vv(n);const a=e.ordered?s==="."?")":".":Z6(n);let l=t&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((s==="*"||s==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),ZT(n)===s&&d){let h=-1;for(;++h<e.children.length;){const p=e.children[h];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(s=a),n.bulletCurrent=s;const u=n.containerFlow(e,r);return n.bulletLastUsed=s,n.bulletCurrent=o,i(),u}function nz(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function rz(e,t,n,r){const i=nz(n);let o=n.bulletCurrent||Vv(n);t&&t.type==="list"&&t.ordered&&(o=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+o);let s=o.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const a=n.createTracker(r);a.move(o+" ".repeat(s-o.length)),a.shift(s);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,a.current()),d);return l(),u;function d(h,p,f){return p?(f?"":" ".repeat(s))+h:(f?o:o+" ".repeat(s-o.length))+h}}function iz(e,t,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),s=n.containerPhrasing(e,r);return o(),i(),s}const oz=Fh(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function sz(e,t,n,r){return(e.children.some(function(s){return oz(s)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function az(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}eP.peek=lz;function eP(e,t,n,r){const i=az(n),o=n.enter("strong"),s=n.createTracker(r),a=s.move(i+i);let l=s.move(n.containerPhrasing(e,{after:i,before:a,...s.current()}));const u=l.charCodeAt(0),d=jd(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(l=Ul(u)+l.slice(1));const h=l.charCodeAt(l.length-1),p=jd(r.after.charCodeAt(0),h,i);p.inside&&(l=l.slice(0,-1)+Ul(h));const f=s.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},a+l+f}function lz(e,t,n){return n.options.strong||"*"}function uz(e,t,n,r){return n.safe(e.value,r)}function cz(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function dz(e,t,n){const r=(ZT(n)+(n.options.ruleSpaces?" ":"")).repeat(cz(n));return n.options.ruleSpaces?r.slice(0,-1):r}const tP={blockquote:N6,break:PS,code:$6,definition:B6,emphasis:HT,hardBreak:PS,heading:G6,html:GT,image:qT,imageReference:KT,inlineCode:QT,link:YT,linkReference:JT,list:tz,listItem:rz,paragraph:iz,root:sz,strong:eP,text:uz,thematicBreak:dz};function hz(){return{enter:{table:fz,tableData:RS,tableHeader:RS,tableRow:mz},exit:{codeText:gz,table:pz,tableData:mp,tableHeader:mp,tableRow:mp}}}function fz(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function pz(e){this.exit(e),this.data.inTable=void 0}function mz(e){this.enter({type:"tableRow",children:[]},e)}function mp(e){this.exit(e)}function RS(e){this.enter({type:"tableCell",children:[]},e)}function gz(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,yz));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function yz(e,t){return t==="|"?t:e}function vz(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:s,tableCell:l,tableRow:a}};function s(f,m,_,x){return u(d(f,_,x),f.align)}function a(f,m,_,x){const y=h(f,_,x),v=u([y]);return v.slice(0,v.indexOf(`
`))}function l(f,m,_,x){const y=_.enter("tableCell"),v=_.enter("phrasing"),E=_.containerPhrasing(f,{...x,before:o,after:o});return v(),y(),E}function u(f,m){return D6(f,{align:m,alignDelimiters:r,padding:n,stringLength:i})}function d(f,m,_){const x=f.children;let y=-1;const v=[],E=m.enter("table");for(;++y<x.length;)v[y]=h(x[y],m,_);return E(),v}function h(f,m,_){const x=f.children;let y=-1;const v=[],E=m.enter("tableRow");for(;++y<x.length;)v[y]=l(x[y],f,m,_);return E(),v}function p(f,m,_){let x=tP.inlineCode(f,m,_);return _.stack.includes("tableCell")&&(x=x.replace(/\|/g,"\\$&")),x}}function _z(){return{exit:{taskListCheckValueChecked:bS,taskListCheckValueUnchecked:bS,paragraph:Ez}}}function wz(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Sz}}}function bS(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Ez(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let o=-1,s;for(;++o<i.length;){const a=i[o];if(a.type==="paragraph"){s=a;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function Sz(e,t,n,r){const i=e.children[0],o=typeof e.checked=="boolean"&&i&&i.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",a=n.createTracker(r);o&&a.move(s);let l=tP.listItem(e,t,n,{...r,...a.current()});return o&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(d){return d+s}}function Cz(){return[e6(),h6(),A6(),hz(),_z()]}function Iz(e){return{extensions:[t6(),f6(),T6(),vz(e),wz()]}}const xz={tokenize:kz,partial:!0},nP={tokenize:Dz,partial:!0},rP={tokenize:Oz,partial:!0},iP={tokenize:Nz,partial:!0},Az={tokenize:Lz,partial:!0},oP={name:"wwwAutolink",tokenize:Rz,previous:aP},sP={name:"protocolAutolink",tokenize:bz,previous:lP},Xr={name:"emailAutolink",tokenize:Pz,previous:uP},yr={};function Tz(){return{text:yr}}let no=48;for(;no<123;)yr[no]=Xr,no++,no===58?no=65:no===91&&(no=97);yr[43]=Xr;yr[45]=Xr;yr[46]=Xr;yr[95]=Xr;yr[72]=[Xr,sP];yr[104]=[Xr,sP];yr[87]=[Xr,oP];yr[119]=[Xr,oP];function Pz(e,t,n){const r=this;let i,o;return s;function s(h){return!ug(h)||!uP.call(r,r.previous)||Uv(r.events)?n(h):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(h))}function a(h){return ug(h)?(e.consume(h),a):h===64?(e.consume(h),l):n(h)}function l(h){return h===46?e.check(Az,d,u)(h):h===45||h===95||Mt(h)?(o=!0,e.consume(h),l):d(h)}function u(h){return e.consume(h),i=!0,l}function d(h){return o&&i&&Wt(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(h)):n(h)}}function Rz(e,t,n){const r=this;return i;function i(s){return s!==87&&s!==119||!aP.call(r,r.previous)||Uv(r.events)?n(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(xz,e.attempt(nP,e.attempt(rP,o),n),n)(s))}function o(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function bz(e,t,n){const r=this;let i="",o=!1;return s;function s(h){return(h===72||h===104)&&lP.call(r,r.previous)&&!Uv(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(h),e.consume(h),a):n(h)}function a(h){if(Wt(h)&&i.length<5)return i+=String.fromCodePoint(h),e.consume(h),a;if(h===58){const p=i.toLowerCase();if(p==="http"||p==="https")return e.consume(h),l}return n(h)}function l(h){return h===47?(e.consume(h),o?u:(o=!0,l)):n(h)}function u(h){return h===null||Fd(h)||Le(h)||To(h)||Nh(h)?n(h):e.attempt(nP,e.attempt(rP,d),n)(h)}function d(h){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(h)}}function kz(e,t,n){let r=0;return i;function i(s){return(s===87||s===119)&&r<3?(r++,e.consume(s),i):s===46&&r===3?(e.consume(s),o):n(s)}function o(s){return s===null?n(s):t(s)}}function Dz(e,t,n){let r,i,o;return s;function s(u){return u===46||u===95?e.check(iP,l,a)(u):u===null||Le(u)||To(u)||u!==45&&Nh(u)?l(u):(o=!0,e.consume(u),s)}function a(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),s}function l(u){return i||r||!o?n(u):t(u)}}function Oz(e,t){let n=0,r=0;return i;function i(s){return s===40?(n++,e.consume(s),i):s===41&&r<n?o(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(iP,t,o)(s):s===null||Le(s)||To(s)?t(s):(e.consume(s),i)}function o(s){return s===41&&r++,e.consume(s),i}}function Nz(e,t,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(e.consume(a),r):a===38?(e.consume(a),o):a===93?(e.consume(a),i):a===60||a===null||Le(a)||To(a)?t(a):n(a)}function i(a){return a===null||a===40||a===91||Le(a)||To(a)?t(a):r(a)}function o(a){return Wt(a)?s(a):n(a)}function s(a){return a===59?(e.consume(a),r):Wt(a)?(e.consume(a),s):n(a)}}function Lz(e,t,n){return r;function r(o){return e.consume(o),i}function i(o){return Mt(o)?n(o):t(o)}}function aP(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Le(e)}function lP(e){return!Wt(e)}function uP(e){return!(e===47||ug(e))}function ug(e){return e===43||e===45||e===46||e===95||Mt(e)}function Uv(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Mz={tokenize:Wz,partial:!0};function Fz(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:jz,continuation:{tokenize:Bz},exit:zz}},text:{91:{name:"gfmFootnoteCall",tokenize:$z},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Vz,resolveTo:Uz}}}}function Vz(e,t,n){const r=this;let i=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){s=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!s||!s._balanced)return n(l);const u=zn(r.sliceSerialize({start:s.end,end:r.now()}));return u.codePointAt(0)!==94||!o.includes(u.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function Uz(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},a=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",o,t],["enter",s,t],["exit",s,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...a),e}function $z(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,s;return a;function a(h){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),l}function l(h){return h!==94?n(h):(e.enter("gfmFootnoteCallMarker"),e.consume(h),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(h){if(o>999||h===93&&!s||h===null||h===91||Le(h))return n(h);if(h===93){e.exit("chunkString");const p=e.exit("gfmFootnoteCallString");return i.includes(zn(r.sliceSerialize(p)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(h)}return Le(h)||(s=!0),o++,e.consume(h),h===92?d:u}function d(h){return h===91||h===92||h===93?(e.consume(h),o++,u):u(h)}}function jz(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,s=0,a;return l;function l(m){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(m){return m===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(m)}function d(m){if(s>999||m===93&&!a||m===null||m===91||Le(m))return n(m);if(m===93){e.exit("chunkString");const _=e.exit("gfmFootnoteDefinitionLabelString");return o=zn(r.sliceSerialize(_)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),p}return Le(m)||(a=!0),s++,e.consume(m),m===92?h:d}function h(m){return m===91||m===92||m===93?(e.consume(m),s++,d):d(m)}function p(m){return m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),i.includes(o)||i.push(o),xe(e,f,"gfmFootnoteDefinitionWhitespace")):n(m)}function f(m){return t(m)}}function Bz(e,t,n){return e.check(du,t,e.attempt(Mz,t,n))}function zz(e){e.exit("gfmFootnoteDefinition")}function Wz(e,t,n){const r=this;return xe(e,i,"gfmFootnoteDefinitionIndent",5);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(o):n(o)}}function Hz(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(s,a){let l=-1;for(;++l<s.length;)if(s[l][0]==="enter"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._close){let u=l;for(;u--;)if(s[u][0]==="exit"&&s[u][1].type==="strikethroughSequenceTemporary"&&s[u][1]._open&&s[l][1].end.offset-s[l][1].start.offset===s[u][1].end.offset-s[u][1].start.offset){s[l][1].type="strikethroughSequence",s[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},s[u][1].start),end:Object.assign({},s[l][1].end)},h={type:"strikethroughText",start:Object.assign({},s[u][1].end),end:Object.assign({},s[l][1].start)},p=[["enter",d,a],["enter",s[u][1],a],["exit",s[u][1],a],["enter",h,a]],f=a.parser.constructs.insideSpan.null;f&&Rn(p,p.length,0,Lh(f,s.slice(u+1,l),a)),Rn(p,p.length,0,[["exit",h,a],["enter",s[l][1],a],["exit",s[l][1],a],["exit",d,a]]),Rn(s,u-1,l-u+3,p),l=u+p.length-2;break}}for(l=-1;++l<s.length;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function o(s,a,l){const u=this.previous,d=this.events;let h=0;return p;function p(m){return u===126&&d[d.length-1][1].type!=="characterEscape"?l(m):(s.enter("strikethroughSequenceTemporary"),f(m))}function f(m){const _=Bs(u);if(m===126)return h>1?l(m):(s.consume(m),h++,f);if(h<2&&!n)return l(m);const x=s.exit("strikethroughSequenceTemporary"),y=Bs(m);return x._open=!y||y===2&&!!_,x._close=!_||_===2&&!!y,a(m)}}}class Gz{constructor(){this.map=[]}add(t,n,r){qz(this,t,n,r)}consume(t){if(this.map.sort(function(o,s){return o[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push([...t]),t.length=0;let i=r.pop();for(;i;)t.push(...i),i=r.pop();this.map.length=0}}function qz(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function Kz(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Qz(){return{flow:{null:{name:"table",tokenize:Xz,resolveAll:Yz}}}}function Xz(e,t,n){const r=this;let i=0,o=0,s;return a;function a(I){let R=r.events.length-1;for(;R>-1;){const X=r.events[R][1].type;if(X==="lineEnding"||X==="linePrefix")R--;else break}const M=R>-1?r.events[R][1].type:null,O=M==="tableHead"||M==="tableRow"?k:l;return O===k&&r.parser.lazy[r.now().line]?n(I):O(I)}function l(I){return e.enter("tableHead"),e.enter("tableRow"),u(I)}function u(I){return I===124||(s=!0,o+=1),d(I)}function d(I){return I===null?n(I):ne(I)?o>1?(o=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),f):n(I):ge(I)?xe(e,d,"whitespace")(I):(o+=1,s&&(s=!1,i+=1),I===124?(e.enter("tableCellDivider"),e.consume(I),e.exit("tableCellDivider"),s=!0,d):(e.enter("data"),h(I)))}function h(I){return I===null||I===124||Le(I)?(e.exit("data"),d(I)):(e.consume(I),I===92?p:h)}function p(I){return I===92||I===124?(e.consume(I),h):h(I)}function f(I){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(I):(e.enter("tableDelimiterRow"),s=!1,ge(I)?xe(e,m,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):m(I))}function m(I){return I===45||I===58?x(I):I===124?(s=!0,e.enter("tableCellDivider"),e.consume(I),e.exit("tableCellDivider"),_):F(I)}function _(I){return ge(I)?xe(e,x,"whitespace")(I):x(I)}function x(I){return I===58?(o+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(I),e.exit("tableDelimiterMarker"),y):I===45?(o+=1,y(I)):I===null||ne(I)?D(I):F(I)}function y(I){return I===45?(e.enter("tableDelimiterFiller"),v(I)):F(I)}function v(I){return I===45?(e.consume(I),v):I===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(I),e.exit("tableDelimiterMarker"),E):(e.exit("tableDelimiterFiller"),E(I))}function E(I){return ge(I)?xe(e,D,"whitespace")(I):D(I)}function D(I){return I===124?m(I):I===null||ne(I)?!s||i!==o?F(I):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(I)):F(I)}function F(I){return n(I)}function k(I){return e.enter("tableRow"),P(I)}function P(I){return I===124?(e.enter("tableCellDivider"),e.consume(I),e.exit("tableCellDivider"),P):I===null||ne(I)?(e.exit("tableRow"),t(I)):ge(I)?xe(e,P,"whitespace")(I):(e.enter("data"),A(I))}function A(I){return I===null||I===124||Le(I)?(e.exit("data"),P(I)):(e.consume(I),I===92?T:A)}function T(I){return I===92||I===124?(e.consume(I),A):A(I)}}function Yz(e,t){let n=-1,r=!0,i=0,o=[0,0,0,0],s=[0,0,0,0],a=!1,l=0,u,d,h;const p=new Gz;for(;++n<e.length;){const f=e[n],m=f[1];f[0]==="enter"?m.type==="tableHead"?(a=!1,l!==0&&(kS(p,t,l,u,d),d=void 0,l=0),u={type:"table",start:Object.assign({},m.start),end:Object.assign({},m.end)},p.add(n,0,[["enter",u,t]])):m.type==="tableRow"||m.type==="tableDelimiterRow"?(r=!0,h=void 0,o=[0,0,0,0],s=[0,n+1,0,0],a&&(a=!1,d={type:"tableBody",start:Object.assign({},m.start),end:Object.assign({},m.end)},p.add(n,0,[["enter",d,t]])),i=m.type==="tableDelimiterRow"?2:d?3:1):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(o[1]!==0&&(s[0]=s[1],h=hc(p,t,o,i,void 0,h),o=[0,0,0,0]),s[2]=n)):m.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(s[0]=s[1],h=hc(p,t,o,i,void 0,h)),o=s,s=[o[1],n,0,0])):m.type==="tableHead"?(a=!0,l=n):m.type==="tableRow"||m.type==="tableDelimiterRow"?(l=n,o[1]!==0?(s[0]=s[1],h=hc(p,t,o,i,n,h)):s[1]!==0&&(h=hc(p,t,s,i,n,h)),i=0):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")&&(s[3]=n)}for(l!==0&&kS(p,t,l,u,d),p.consume(t.events),n=-1;++n<t.events.length;){const f=t.events[n];f[0]==="enter"&&f[1].type==="table"&&(f[1]._align=Kz(t.events,n))}return e}function hc(e,t,n,r,i,o){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(o.end=Object.assign({},es(t.events,n[0])),e.add(n[0],0,[["exit",o,t]]));const l=es(t.events,n[1]);if(o={type:s,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",o,t]]),n[2]!==0){const u=es(t.events,n[2]),d=es(t.events,n[3]),h={type:a,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",h,t]]),r!==2){const p=t.events[n[2]],f=t.events[n[3]];if(p[1].end=Object.assign({},f[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const m=n[2]+1,_=n[3]-n[2]-1;e.add(m,_,[])}}e.add(n[3]+1,0,[["exit",h,t]])}return i!==void 0&&(o.end=Object.assign({},es(t.events,i)),e.add(i,0,[["exit",o,t]]),o=void 0),o}function kS(e,t,n,r,i){const o=[],s=es(t.events,n);i&&(i.end=Object.assign({},s),o.push(["exit",i,t])),r.end=Object.assign({},s),o.push(["exit",r,t]),e.add(n+1,0,o)}function es(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const Jz={name:"tasklistCheck",tokenize:eW};function Zz(){return{text:{91:Jz}}}function eW(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),o)}function o(l){return Le(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),s):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),s):n(l)}function s(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(l)}function a(l){return ne(l)?t(l):ge(l)?e.check({tokenize:tW},t,n)(l):n(l)}}function tW(e,t,n){return xe(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function nW(e){return _T([Tz(),Fz(),Hz(e),Qz(),Zz()])}const rW={};function DS(e){const t=this,n=e||rW,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(nW(n)),o.push(Cz()),s.push(Iz(n))}function iW(e){jT(e,[/\r?\n|\r/g,oW])}function oW(){return{type:"break"}}function OS(){return function(e){iW(e)}}const vt=[];for(let e=0;e<256;++e)vt.push((e+256).toString(16).slice(1));function sW(e,t=0){return(vt[e[t+0]]+vt[e[t+1]]+vt[e[t+2]]+vt[e[t+3]]+"-"+vt[e[t+4]]+vt[e[t+5]]+"-"+vt[e[t+6]]+vt[e[t+7]]+"-"+vt[e[t+8]]+vt[e[t+9]]+"-"+vt[e[t+10]]+vt[e[t+11]]+vt[e[t+12]]+vt[e[t+13]]+vt[e[t+14]]+vt[e[t+15]]).toLowerCase()}let gp;const aW=new Uint8Array(16);function lW(){if(!gp){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");gp=crypto.getRandomValues.bind(crypto)}return gp(aW)}const uW=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),NS={randomUUID:uW};function cW(e,t,n){if(NS.randomUUID&&!t&&!e)return NS.randomUUID();e=e||{};const r=e.random||(e.rng||lW)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,sW(r)}const cP=typeof document<"u"?Se.useLayoutEffect:()=>{};function dW(e){const t=S.useRef(null);return cP(()=>{t.current=e},[e]),S.useCallback((...n)=>{const r=t.current;return r==null?void 0:r(...n)},[])}const fu=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},fo=e=>e&&"window"in e&&e.window===e?e:fu(e).defaultView||window;function hW(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function fW(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function dP(e){let t=null;return()=>(t==null&&(t=e()),t)}const pW=dP(function(){return fW(/^Mac/i)}),mW=dP(function(){return hW(/Android/i)});function gW(e){return e.mozInputSource===0&&e.isTrusted?!0:mW()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}class yW{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=t}}function hP(e){let t=S.useRef({isFocused:!1,observer:null});cP(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=dW(r=>{e==null||e(r)});return S.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let i=r.target,o=s=>{t.current.isFocused=!1,i.disabled&&n(new yW("blur",s)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};i.addEventListener("focusout",o,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&i.disabled){var s;(s=t.current.observer)===null||s===void 0||s.disconnect();let a=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),t.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function vW(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:i}=e;const o=S.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),i&&i(!1),!0},[r,i]),s=hP(o),a=S.useCallback(l=>{const u=fu(l.target);l.target===l.currentTarget&&u.activeElement===l.target&&(n&&n(l),i&&i(!0),s(l))},[i,n,s]);return{focusProps:{onFocus:!t&&(n||i||r)?a:void 0,onBlur:!t&&(r||i)?o:void 0}}}let pu=null,cg=new Set,ul=new Map,Po=!1,dg=!1;const _W={Tab:!0,Escape:!0};function $v(e,t){for(let n of cg)n(e,t)}function wW(e){return!(e.metaKey||!pW()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function Bd(e){Po=!0,wW(e)&&(pu="keyboard",$v("keyboard",e))}function An(e){pu="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Po=!0,$v("pointer",e))}function fP(e){gW(e)&&(Po=!0,pu="virtual")}function pP(e){e.target===window||e.target===document||(!Po&&!dg&&(pu="virtual",$v("virtual",e)),Po=!1,dg=!1)}function mP(){Po=!1,dg=!0}function hg(e){if(typeof window>"u"||ul.get(fo(e)))return;const t=fo(e),n=fu(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Po=!0,r.apply(this,arguments)},n.addEventListener("keydown",Bd,!0),n.addEventListener("keyup",Bd,!0),n.addEventListener("click",fP,!0),t.addEventListener("focus",pP,!0),t.addEventListener("blur",mP,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",An,!0),n.addEventListener("pointermove",An,!0),n.addEventListener("pointerup",An,!0)):(n.addEventListener("mousedown",An,!0),n.addEventListener("mousemove",An,!0),n.addEventListener("mouseup",An,!0)),t.addEventListener("beforeunload",()=>{gP(e)},{once:!0}),ul.set(t,{focus:r})}const gP=(e,t)=>{const n=fo(e),r=fu(e);t&&r.removeEventListener("DOMContentLoaded",t),ul.has(n)&&(n.HTMLElement.prototype.focus=ul.get(n).focus,r.removeEventListener("keydown",Bd,!0),r.removeEventListener("keyup",Bd,!0),r.removeEventListener("click",fP,!0),n.removeEventListener("focus",pP,!0),n.removeEventListener("blur",mP,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",An,!0),r.removeEventListener("pointermove",An,!0),r.removeEventListener("pointerup",An,!0)):(r.removeEventListener("mousedown",An,!0),r.removeEventListener("mousemove",An,!0),r.removeEventListener("mouseup",An,!0)),ul.delete(n))};function EW(e){const t=fu(e);let n;return t.readyState!=="loading"?hg(e):(n=()=>{hg(e)},t.addEventListener("DOMContentLoaded",n)),()=>gP(e,n)}typeof document<"u"&&EW();function yP(){return pu!=="pointer"}const SW=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function CW(e,t,n){var r;const i=typeof window<"u"?fo(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,o=typeof window<"u"?fo(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,s=typeof window<"u"?fo(n==null?void 0:n.target).HTMLElement:HTMLElement,a=typeof window<"u"?fo(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||(n==null?void 0:n.target)instanceof i&&!SW.has(n==null||(r=n.target)===null||r===void 0?void 0:r.type)||(n==null?void 0:n.target)instanceof o||(n==null?void 0:n.target)instanceof s&&(n==null?void 0:n.target.isContentEditable),!(e&&t==="keyboard"&&n instanceof a&&!_W[n.key])}function IW(e,t,n){hg(),S.useEffect(()=>{let r=(i,o)=>{CW(!!(n!=null&&n.isTextInput),i,o)&&e(yP())};return cg.add(r),()=>{cg.delete(r)}},t)}function xW(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=e,o=S.useRef({isFocusWithin:!1}),s=S.useCallback(u=>{o.current.isFocusWithin&&!u.currentTarget.contains(u.relatedTarget)&&(o.current.isFocusWithin=!1,n&&n(u),i&&i(!1))},[n,i,o]),a=hP(s),l=S.useCallback(u=>{!o.current.isFocusWithin&&document.activeElement===u.target&&(r&&r(u),i&&i(!0),o.current.isFocusWithin=!0,a(u))},[r,i,a]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:l,onBlur:s}}}let zd=!1,yp=0;function fg(){zd=!0,setTimeout(()=>{zd=!1},50)}function LS(e){e.pointerType==="touch"&&fg()}function AW(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",LS):document.addEventListener("touchend",fg),yp++,()=>{yp--,!(yp>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",LS):document.removeEventListener("touchend",fg))}}function jv(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:i}=e,[o,s]=S.useState(!1),a=S.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;S.useEffect(AW,[]);let{hoverProps:l,triggerHoverEnd:u}=S.useMemo(()=>{let d=(f,m)=>{if(a.pointerType=m,i||m==="touch"||a.isHovered||!f.currentTarget.contains(f.target))return;a.isHovered=!0;let _=f.currentTarget;a.target=_,t&&t({type:"hoverstart",target:_,pointerType:m}),n&&n(!0),s(!0)},h=(f,m)=>{if(a.pointerType="",a.target=null,m==="touch"||!a.isHovered)return;a.isHovered=!1;let _=f.currentTarget;r&&r({type:"hoverend",target:_,pointerType:m}),n&&n(!1),s(!1)},p={};return typeof PointerEvent<"u"?(p.onPointerEnter=f=>{zd&&f.pointerType==="mouse"||d(f,f.pointerType)},p.onPointerLeave=f=>{!i&&f.currentTarget.contains(f.target)&&h(f,f.pointerType)}):(p.onTouchStart=()=>{a.ignoreEmulatedMouseEvents=!0},p.onMouseEnter=f=>{!a.ignoreEmulatedMouseEvents&&!zd&&d(f,"mouse"),a.ignoreEmulatedMouseEvents=!1},p.onMouseLeave=f=>{!i&&f.currentTarget.contains(f.target)&&h(f,"mouse")}),{hoverProps:p,triggerHoverEnd:h}},[t,n,r,i,a]);return S.useEffect(()=>{i&&u({currentTarget:a.target},a.pointerType)},[i]),{hoverProps:l,isHovered:o}}function Bv(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,i=S.useRef({isFocused:!1,isFocusVisible:t||yP()}),[o,s]=S.useState(!1),[a,l]=S.useState(()=>i.current.isFocused&&i.current.isFocusVisible),u=S.useCallback(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),d=S.useCallback(f=>{i.current.isFocused=f,s(f),u()},[u]);IW(f=>{i.current.isFocusVisible=f,u()},[],{isTextInput:n});let{focusProps:h}=vW({isDisabled:r,onFocusChange:d}),{focusWithinProps:p}=xW({isDisabled:!r,onFocusWithinChange:d});return{isFocused:o,isFocusVisible:a,focusProps:r?p:h}}var TW=Object.defineProperty,PW=(e,t,n)=>t in e?TW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vp=(e,t,n)=>(PW(e,typeof t!="symbol"?t+"":t,n),n);let RW=class{constructor(){vp(this,"current",this.detect()),vp(this,"handoffState","pending"),vp(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},yo=new RW;function jo(e){return yo.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function vP(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Xn(){let e=[],t={addEventListener(n,r,i,o){return n.addEventListener(r,i,o),t.add(()=>n.removeEventListener(r,i,o))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return vP(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,i){let o=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:o})})},group(n){let r=Xn();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let i of e.splice(r,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}function Bo(){let[e]=S.useState(Xn);return S.useEffect(()=>()=>e.dispose(),[e]),e}let Ke=(e,t)=>{yo.isServer?S.useEffect(e,t):S.useLayoutEffect(e,t)};function ia(e){let t=S.useRef(e);return Ke(()=>{t.current=e},[e]),t}let ce=function(e){let t=ia(e);return Se.useCallback((...n)=>t.current(...n),[t])};function bW(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function kW(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function zv({disabled:e=!1}={}){let t=S.useRef(null),[n,r]=S.useState(!1),i=Bo(),o=ce(()=>{t.current=null,r(!1),i.dispose()}),s=ce(a=>{if(i.dispose(),t.current===null){t.current=a.currentTarget,r(!0);{let l=jo(a.currentTarget);i.addEventListener(l,"pointerup",o,!1),i.addEventListener(l,"pointermove",u=>{if(t.current){let d=bW(u);r(kW(d,t.current.getBoundingClientRect()))}},!1),i.addEventListener(l,"pointercancel",o,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:s,onPointerUp:o,onClick:o}}}let DW=S.createContext(void 0);function Uh(){return S.useContext(DW)}function MS(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function Wn(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Wn),r}var $l=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))($l||{}),OW=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(OW||{});function dt(){let e=LW();return S.useCallback(t=>NW({mergeRefs:e,...t}),[e])}function NW({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:o=!0,name:s,mergeRefs:a}){a=a??MW;let l=_P(t,e);if(o)return fc(l,n,r,s,a);let u=i??0;if(u&2){let{static:d=!1,...h}=l;if(d)return fc(h,n,r,s,a)}if(u&1){let{unmount:d=!0,...h}=l;return Wn(d?0:1,{0(){return null},1(){return fc({...h,hidden:!0,style:{display:"none"}},n,r,s,a)}})}return fc(l,n,r,s,a)}function fc(e,t={},n,r,i){let{as:o=n,children:s,refName:a="ref",...l}=_p(e,["unmount","static"]),u=e.ref!==void 0?{[a]:e.ref}:{},d=typeof s=="function"?s(t):s;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(t)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let h={};if(t){let p=!1,f=[];for(let[m,_]of Object.entries(t))typeof _=="boolean"&&(p=!0),_===!0&&f.push(m.replace(/([A-Z])/g,x=>`-${x.toLowerCase()}`));if(p){h["data-headlessui-state"]=f.join(" ");for(let m of f)h[`data-${m}`]=""}}if(o===S.Fragment&&(Object.keys(so(l)).length>0||Object.keys(so(h)).length>0))if(!S.isValidElement(d)||Array.isArray(d)&&d.length>1){if(Object.keys(so(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(so(l)).concat(Object.keys(so(h))).map(p=>`  - ${p}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(p=>`  - ${p}`).join(`
`)].join(`
`))}else{let p=d.props,f=p==null?void 0:p.className,m=typeof f=="function"?(...y)=>MS(f(...y),l.className):MS(f,l.className),_=m?{className:m}:{},x=_P(d.props,so(_p(l,["ref"])));for(let y in h)y in x&&delete h[y];return S.cloneElement(d,Object.assign({},x,h,u,{ref:i(FW(d),u.ref)},_))}return S.createElement(o,Object.assign({},_p(l,["ref"]),o!==S.Fragment&&u,o!==S.Fragment&&h),d)}function LW(){let e=S.useRef([]),t=S.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function MW(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function _P(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var o;return(o=i==null?void 0:i.preventDefault)==null?void 0:o.call(i)}]);for(let r in n)Object.assign(t,{[r](i,...o){let s=n[r];for(let a of s){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...o)}}});return t}function mu(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];for(let r in n)Object.assign(t,{[r](...i){let o=n[r];for(let s of o)s==null||s(...i)}});return t}function ht(e){var t;return Object.assign(S.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function so(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function _p(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function FW(e){return Se.version.split(".")[0]>="19"?e.props.ref:e.ref}let VW="button";function UW(e,t){var n;let r=Uh(),{disabled:i=r||!1,autoFocus:o=!1,...s}=e,{isFocusVisible:a,focusProps:l}=Bv({autoFocus:o}),{isHovered:u,hoverProps:d}=jv({isDisabled:i}),{pressed:h,pressProps:p}=zv({disabled:i}),f=mu({ref:t,type:(n=s.type)!=null?n:"button",disabled:i||void 0,autoFocus:o},l,d,p),m=S.useMemo(()=>({disabled:i,hover:u,focus:a,active:h,autofocus:o}),[i,u,a,h,o]);return dt()({ourProps:f,theirProps:s,slot:m,defaultTag:VW,name:"Button"})}let FS=ht(UW);function $W(e,t,n){let[r,i]=S.useState(n),o=e!==void 0,s=S.useRef(o),a=S.useRef(!1),l=S.useRef(!1);return o&&!s.current&&!a.current?(a.current=!0,s.current=o,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!o&&s.current&&!l.current&&(l.current=!0,s.current=o,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[o?e:r,ce(u=>(o||i(u),t==null?void 0:t(u)))]}function jW(e){let[t]=S.useState(e);return t}function wP(e={},t=null,n=[]){for(let[r,i]of Object.entries(e))SP(n,EP(t,r),i);return n}function EP(e,t){return e?e+"["+t+"]":t}function SP(e,t,n){if(Array.isArray(n))for(let[r,i]of n.entries())SP(e,EP(t,r.toString()),i);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):wP(n,t,e)}function BW(e){var t,n;let r=(t=e==null?void 0:e.form)!=null?t:e.closest("form");if(r){for(let i of r.elements)if(i!==e&&(i.tagName==="INPUT"&&i.type==="submit"||i.tagName==="BUTTON"&&i.type==="submit"||i.nodeName==="INPUT"&&i.type==="image")){i.click();return}(n=r.requestSubmit)==null||n.call(r)}}let zW="span";var Wv=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Wv||{});function WW(e,t){var n;let{features:r=1,...i}=e,o={ref:t,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return dt()({ourProps:o,theirProps:i,slot:{},defaultTag:zW,name:"Hidden"})}let CP=ht(WW),HW=S.createContext(null);function GW({children:e}){let t=S.useContext(HW);if(!t)return Se.createElement(Se.Fragment,null,e);let{target:n}=t;return n?lt.createPortal(Se.createElement(Se.Fragment,null,e),n):null}function qW({data:e,form:t,disabled:n,onReset:r,overrides:i}){let[o,s]=S.useState(null),a=Bo();return S.useEffect(()=>{if(r&&o)return a.addEventListener(o,"reset",r)},[o,t,r]),Se.createElement(GW,null,Se.createElement(KW,{setForm:s,formId:t}),wP(e).map(([l,u])=>Se.createElement(CP,{features:Wv.Hidden,...so({key:l,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:n,name:l,value:u,...i})})))}function KW({setForm:e,formId:t}){return S.useEffect(()=>{if(t){let n=document.getElementById(t);n&&e(n)}},[e,t]),t?null:Se.createElement(CP,{features:Wv.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:n=>{if(!n)return;let r=n.closest("form");r&&e(r)}})}let QW=S.createContext(void 0);function IP(){return S.useContext(QW)}function xP(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&XW(n)?!1:r}function XW(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}let AP=Symbol();function YW(e,t=!0){return Object.assign(e,{[AP]:t})}function rn(...e){let t=S.useRef(e);S.useEffect(()=>{t.current=e},[e]);let n=ce(r=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return e.every(r=>r==null||(r==null?void 0:r[AP]))?void 0:n}let $h=S.createContext(null);$h.displayName="DescriptionContext";function TP(){let e=S.useContext($h);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,TP),t}return e}function JW(){var e,t;return(t=(e=S.useContext($h))==null?void 0:e.value)!=null?t:void 0}function ZW(){let[e,t]=S.useState([]);return[e.length>0?e.join(" "):void 0,S.useMemo(()=>function(n){let r=ce(o=>(t(s=>[...s,o]),()=>t(s=>{let a=s.slice(),l=a.indexOf(o);return l!==-1&&a.splice(l,1),a}))),i=S.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return Se.createElement($h.Provider,{value:i},n.children)},[t])]}let e9="p";function t9(e,t){let n=S.useId(),r=Uh(),{id:i=`headlessui-description-${n}`,...o}=e,s=TP(),a=rn(t);Ke(()=>s.register(i),[i,s.register]);let l=r||!1,u=S.useMemo(()=>({...s.slot,disabled:l}),[s.slot,l]),d={ref:a,...s.props,id:i};return dt()({ourProps:d,theirProps:o,slot:u,defaultTag:e9,name:s.name||"Description"})}let n9=ht(t9);Object.assign(n9,{});var Ie=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Ie||{});let jh=S.createContext(null);jh.displayName="LabelContext";function Hv(){let e=S.useContext(jh);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Hv),t}return e}function PP(e){var t,n,r;let i=(n=(t=S.useContext(jh))==null?void 0:t.value)!=null?n:void 0;return((r=e==null?void 0:e.length)!=null?r:0)>0?[i,...e].filter(Boolean).join(" "):i}function Gv({inherit:e=!1}={}){let t=PP(),[n,r]=S.useState([]),i=e?[t,...n].filter(Boolean):n;return[i.length>0?i.join(" "):void 0,S.useMemo(()=>function(o){let s=ce(l=>(r(u=>[...u,l]),()=>r(u=>{let d=u.slice(),h=d.indexOf(l);return h!==-1&&d.splice(h,1),d}))),a=S.useMemo(()=>({register:s,slot:o.slot,name:o.name,props:o.props,value:o.value}),[s,o.slot,o.name,o.props,o.value]);return Se.createElement(jh.Provider,{value:a},o.children)},[r])]}let r9="label";function i9(e,t){var n;let r=S.useId(),i=Hv(),o=IP(),s=Uh(),{id:a=`headlessui-label-${r}`,htmlFor:l=o??((n=i.props)==null?void 0:n.htmlFor),passive:u=!1,...d}=e,h=rn(t);Ke(()=>i.register(a),[a,i.register]);let p=ce(x=>{let y=x.currentTarget;if(y instanceof HTMLLabelElement&&x.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(x),y instanceof HTMLLabelElement){let v=document.getElementById(y.htmlFor);if(v){let E=v.getAttribute("disabled");if(E==="true"||E==="")return;let D=v.getAttribute("aria-disabled");if(D==="true"||D==="")return;(v instanceof HTMLInputElement&&(v.type==="radio"||v.type==="checkbox")||v.role==="radio"||v.role==="checkbox"||v.role==="switch")&&v.click(),v.focus({preventScroll:!0})}}}),f=s||!1,m=S.useMemo(()=>({...i.slot,disabled:f}),[i.slot,f]),_={ref:h,...i.props,id:a,htmlFor:l,onClick:p};return u&&("onClick"in _&&(delete _.htmlFor,delete _.onClick),"onClick"in d&&delete d.onClick),dt()({ourProps:_,theirProps:d,slot:m,defaultTag:l?r9:"div",name:i.name||"Label"})}let o9=ht(i9),s9=Object.assign(o9,{});function a9(e,t){return e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"&&"id"in e&&"id"in t?e.id===t.id:e===t}function l9(e=a9){return S.useCallback((t,n)=>{if(typeof e=="string"){let r=e;return(t==null?void 0:t[r])===(n==null?void 0:n[r])}return e(t,n)},[e])}function u9(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function RP(e,t=!1){let[n,r]=S.useReducer(()=>({}),{}),i=S.useMemo(()=>u9(e),[e,n]);return Ke(()=>{if(!e)return;let o=new ResizeObserver(r);return o.observe(e),()=>{o.disconnect()}},[e]),t?{width:`${i.width}px`,height:`${i.height}px`}:i}let c9=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};function bP(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...o){let s=t[i].call(n,...o);s&&(n=s,r.forEach(a=>a()))}}}function kP(e){return S.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}let d9=new c9(()=>bP(()=>[],{ADD(e){return this.includes(e)?this:[...this,e]},REMOVE(e){let t=this.indexOf(e);if(t===-1)return this;let n=this.slice();return n.splice(t,1),n}}));function qv(e,t){let n=d9.get(t),r=S.useId(),i=kP(n);if(Ke(()=>{if(e)return n.dispatch("ADD",r),()=>n.dispatch("REMOVE",r)},[n,e]),!e)return!1;let o=i.indexOf(r),s=i.length;return o===-1&&(o=s,s+=1),o===s-1}let pg=new Map,cl=new Map;function VS(e){var t;let n=(t=cl.get(e))!=null?t:0;return cl.set(e,n+1),n!==0?()=>US(e):(pg.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>US(e))}function US(e){var t;let n=(t=cl.get(e))!=null?t:1;if(n===1?cl.delete(e):cl.set(e,n-1),n!==1)return;let r=pg.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,pg.delete(e))}function DP(e,{allowed:t,disallowed:n}={}){let r=qv(e,"inert-others");Ke(()=>{var i,o;if(!r)return;let s=Xn();for(let l of(i=n==null?void 0:n())!=null?i:[])l&&s.add(VS(l));let a=(o=t==null?void 0:t())!=null?o:[];for(let l of a){if(!l)continue;let u=jo(l);if(!u)continue;let d=l.parentElement;for(;d&&d!==u.body;){for(let h of d.children)a.some(p=>h.contains(p))||s.add(VS(h));d=d.parentElement}}return s.dispose},[r,t,n])}function OP(e,t,n){let r=ia(i=>{let o=i.getBoundingClientRect();o.x===0&&o.y===0&&o.width===0&&o.height===0&&n()});S.useEffect(()=>{if(!e)return;let i=t===null?null:t instanceof HTMLElement?t:t.current;if(!i)return;let o=Xn();if(typeof ResizeObserver<"u"){let s=new ResizeObserver(()=>r.current(i));s.observe(i),o.add(()=>s.disconnect())}if(typeof IntersectionObserver<"u"){let s=new IntersectionObserver(()=>r.current(i));s.observe(i),o.add(()=>s.disconnect())}return()=>o.dispose()},[t,r,e])}let mg=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),h9=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var jl=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(jl||{}),f9=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(f9||{}),p9=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(p9||{});function NP(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(mg)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function m9(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(h9)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Bh=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Bh||{});function zh(e,t=0){var n;return e===((n=jo(e))==null?void 0:n.body)?!1:Wn(t,{0(){return e.matches(mg)},1(){let r=e;for(;r!==null;){if(r.matches(mg))return!0;r=r.parentElement}return!1}})}function LP(e){let t=jo(e);Xn().nextFrame(()=>{t&&!zh(t.activeElement,0)&&y9(e)})}var g9=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(g9||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function y9(e){e==null||e.focus({preventScroll:!0})}let v9=["textarea","input"].join(",");function _9(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,v9))!=null?n:!1}function Kv(e,t=n=>n){return e.slice().sort((n,r)=>{let i=t(n),o=t(r);if(i===null||o===null)return 0;let s=i.compareDocumentPosition(o);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function MP(e,t){return w9(NP(),t,{relativeTo:e})}function w9(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,s=Array.isArray(e)?n?Kv(e):e:t&64?m9(e):NP(e);i.length>0&&s.length>1&&(s=s.filter(f=>!i.some(m=>m!=null&&"current"in m?(m==null?void 0:m.current)===f:m===f))),r=r??o.activeElement;let a=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,s.indexOf(r))-1;if(t&4)return Math.max(0,s.indexOf(r))+1;if(t&8)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},d=0,h=s.length,p;do{if(d>=h||d+h<=0)return 0;let f=l+d;if(t&16)f=(f+h)%h;else{if(f<0)return 3;if(f>=h)return 1}p=s[f],p==null||p.focus(u),d+=a}while(p!==o.activeElement);return t&6&&_9(p)&&p.select(),2}function FP(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function E9(){return/Android/gi.test(window.navigator.userAgent)}function S9(){return FP()||E9()}function La(e,t,n,r){let i=ia(n);S.useEffect(()=>{if(!e)return;function o(s){i.current(s)}return document.addEventListener(t,o,r),()=>document.removeEventListener(t,o,r)},[e,t,r])}function C9(e,t,n,r){let i=ia(n);S.useEffect(()=>{if(!e)return;function o(s){i.current(s)}return window.addEventListener(t,o,r),()=>window.removeEventListener(t,o,r)},[e,t,r])}const $S=30;function VP(e,t,n){let r=qv(e,"outside-click"),i=ia(n),o=S.useCallback(function(l,u){if(l.defaultPrevented)return;let d=u(l);if(d===null||!d.getRootNode().contains(d)||!d.isConnected)return;let h=function p(f){return typeof f=="function"?p(f()):Array.isArray(f)||f instanceof Set?f:[f]}(t);for(let p of h)if(p!==null&&(p.contains(d)||l.composed&&l.composedPath().includes(p)))return;return!zh(d,Bh.Loose)&&d.tabIndex!==-1&&l.preventDefault(),i.current(l,d)},[i,t]),s=S.useRef(null);La(r,"pointerdown",l=>{var u,d;s.current=((d=(u=l.composedPath)==null?void 0:u.call(l))==null?void 0:d[0])||l.target},!0),La(r,"mousedown",l=>{var u,d;s.current=((d=(u=l.composedPath)==null?void 0:u.call(l))==null?void 0:d[0])||l.target},!0),La(r,"click",l=>{S9()||s.current&&(o(l,()=>s.current),s.current=null)},!0);let a=S.useRef({x:0,y:0});La(r,"touchstart",l=>{a.current.x=l.touches[0].clientX,a.current.y=l.touches[0].clientY},!0),La(r,"touchend",l=>{let u={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(u.x-a.current.x)>=$S||Math.abs(u.y-a.current.y)>=$S))return o(l,()=>l.target instanceof HTMLElement?l.target:null)},!0),C9(r,"blur",l=>o(l,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Wh(...e){return S.useMemo(()=>jo(...e),[...e])}function UP(e,t){return S.useMemo(()=>{var n;if(e.type)return e.type;let r=(n=e.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function I9(){let e;return{before({doc:t}){var n;let r=t.documentElement,i=(n=t.defaultView)!=null?n:window;e=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),o=Math.max(0,e-i);n.style(r,"paddingRight",`${o}px`)}}}function x9(){return FP()?{before({doc:e,d:t,meta:n}){function r(i){return n.containers.flatMap(o=>o()).some(o=>o.contains(i))}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let a=Xn();a.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>a.dispose()))}let o=(i=window.scrollY)!=null?i:window.pageYOffset,s=null;t.addEventListener(e,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),d=e.querySelector(u);d&&!r(d)&&(s=d)}catch{}},!0),t.addEventListener(e,"touchstart",a=>{if(a.target instanceof HTMLElement)if(r(a.target)){let l=a.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;t.style(l,"overscrollBehavior","contain")}else t.style(a.target,"touchAction","none")}),t.addEventListener(e,"touchmove",a=>{if(a.target instanceof HTMLElement){if(a.target.tagName==="INPUT")return;if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),t.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;o!==l&&window.scrollTo(0,o),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}:{}}function A9(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function T9(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let po=bP(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:Xn(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:T9(n)},i=[x9(),I9(),A9()];i.forEach(({before:o})=>o==null?void 0:o(r)),i.forEach(({after:o})=>o==null?void 0:o(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});po.subscribe(()=>{let e=po.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&po.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&po.dispatch("TEARDOWN",n)}});function P9(e,t,n=()=>({containers:[]})){let r=kP(po),i=t?r.get(t):void 0,o=i?i.count>0:!1;return Ke(()=>{if(!(!t||!e))return po.dispatch("PUSH",t,n),()=>po.dispatch("POP",t,n)},[e,t]),o}function $P(e,t,n=()=>[document.body]){let r=qv(e,"scroll-lock");P9(r,t,i=>{var o;return{containers:[...(o=i.containers)!=null?o:[],n]}})}function jS(e){return[e.screenX,e.screenY]}function jP(){let e=S.useRef([-1,-1]);return{wasMoved(t){let n=jS(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=jS(t)}}}function R9(e=0){let[t,n]=S.useState(e),r=S.useCallback(l=>n(l),[t]),i=S.useCallback(l=>n(u=>u|l),[t]),o=S.useCallback(l=>(t&l)===l,[t]),s=S.useCallback(l=>n(u=>u&~l),[n]),a=S.useCallback(l=>n(u=>u^l),[n]);return{flags:t,setFlag:r,addFlag:i,hasFlag:o,removeFlag:s,toggleFlag:a}}var b9={ACSetupSvcPort:"23210",ACSvcPort:"17532",ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\budik\\AppData\\Roaming",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_29048_POCUMDQMJUIBEPJW",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"ARLT0048",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_23616:"1",EnableLog:"WARNING",FLASK_APP:"main.py",GIT_ASKPASS:"c:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\budik",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\budik",INIT_CWD:"D:\\DATA\\GIT\\WIR\\ea.wirglobal.com",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\budik\\AppData\\Local",LOGONSERVER:"\\\\ARLT0048",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",npm_command:"run-script",npm_config_cache:"C:\\Users\\budik\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\budik\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\budik\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\budik\\.npm-init.js",npm_config_local_prefix:"D:\\DATA\\GIT\\WIR\\ea.wirglobal.com",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.9.2",npm_config_prefix:"C:\\Users\\budik\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\budik\\.npmrc",npm_config_user_agent:"npm/10.9.2 node/v22.14.0 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"vite build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"D:\\DATA\\GIT\\WIR\\ea.wirglobal.com\\package.json",npm_package_name:"wir-chat",npm_package_version:"0.0.0",NUMBER_OF_PROCESSORS:"16",OneDrive:"C:\\Users\\budik\\OneDrive",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"D:\\DATA\\GIT\\WIR\\ea.wirglobal.com\\node_modules\\.bin;D:\\DATA\\GIT\\WIR\\node_modules\\.bin;D:\\DATA\\GIT\\node_modules\\.bin;D:\\DATA\\node_modules\\.bin;D:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\ffmpeg\\bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\dotnet\\;C:\\Program Files\\PuTTY\\;C:\\Users\\budik\\AppData\\Local\\Programs\\Python\\Python310\\Scripts\\;C:\\Users\\budik\\AppData\\Local\\Programs\\Python\\Python310\\;C:\\Users\\budik\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\xampp\\php;C:\\ProgramData\\ComposerSetup\\bin;C:\\MinGW\\bin;C:\\Program Files\\Git\\cmd;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files\\NVIDIA Corporation\\NVIDIA app\\NvDLISR;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Docker\\Docker\\resources\\bin;C:\\Program Files\\nodejs\\;C:\\Users\\budik\\AppData\\Local\\Programs\\Python\\Python310\\Scripts\\;C:\\Users\\budik\\AppData\\Local\\Programs\\Python\\Python310\\;C:\\Users\\budik\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\budik\\AppData\\Roaming\\Composer\\vendor\\bin;C:\\Users\\budik\\.dotnet\\tools;C:\\flutter\\bin;C:\\Users\\budik\\AppData\\Roaming\\npm",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"AMD64 Family 25 Model 68 Stepping 1, AuthenticAMD",PROCESSOR_LEVEL:"25",PROCESSOR_REVISION:"4401",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\budik\\OneDrive\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",REACT_APP_BACKEND_URL:"backend-url",REACT_APP_CURRENT_VERSION:"current-version",REACT_APP_FIREBASE_API_KEY:"AIzaSyDoyWyWKSk_8ovvS8_0d1A64DIRVhsEPdE",REACT_APP_FIREBASE_APP_ID:"1:279788642755:web:61bafae06f7d1932765d76",REACT_APP_FIREBASE_AUTH_DOMAIN:"wirchat-22331.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-97GNX3XH66",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"279788642755",REACT_APP_FIREBASE_PROJECT_ID:"wirchat-22331",REACT_APP_FIREBASE_STORAGE_BUCKET:"wirchat-22331.firebasestorage.app",RlsSvcPort:"22112",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\budik\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.98.2",TMP:"C:\\Users\\budik\\AppData\\Local\\Temp",USERDOMAIN:"ARLT0048",USERDOMAIN_ROAMINGPROFILE:"ARLT0048",USERNAME:"budik",USERPROFILE:"C:\\Users\\budik",VBOX_HWVIRTEX_IGNORE_SVM_IN_USE:"1",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-ac8c3e907a-sock",VSCODE_INJECTION:"1",VSCODE_NONCE:"bce40833-b57a-4fe9-bb46-50437c202ead",VSCODE_STABLE:"1",windir:"C:\\WINDOWS"},BS,zS;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((BS=process==null?void 0:b9)==null?void 0:BS.NODE_ENV)==="test"&&typeof((zS=Element==null?void 0:Element.prototype)==null?void 0:zS.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var k9=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(k9||{});function BP(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function zP(e,t,n,r){let[i,o]=S.useState(n),{hasFlag:s,addFlag:a,removeFlag:l}=R9(e&&i?3:0),u=S.useRef(!1),d=S.useRef(!1),h=Bo();return Ke(()=>{var p;if(e){if(n&&o(!0),!t){n&&a(3);return}return(p=void 0)==null||p.call(r,n),D9(t,{inFlight:u,prepare(){d.current?d.current=!1:d.current=u.current,u.current=!0,!d.current&&(n?(a(3),l(4)):(a(4),l(2)))},run(){d.current?n?(l(3),a(4)):(l(4),a(3)):n?l(1):a(1)},done(){var f;d.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(u.current=!1,l(7),n||o(!1),(f=void 0)==null||f.call(r,n))}})}},[e,n,t,h]),e?[i,{closed:s(1),enter:s(2),leave:s(4),transition:s(2)||s(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function D9(e,{prepare:t,run:n,done:r,inFlight:i}){let o=Xn();return N9(e,{prepare:t,inFlight:i}),o.nextFrame(()=>{n(),o.requestAnimationFrame(()=>{o.add(O9(e,r))})}),o.dispose}function O9(e,t){var n,r;let i=Xn();if(!e)return i.dispose;let o=!1;i.add(()=>{o=!0});let s=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(a=>a instanceof CSSTransition))!=null?r:[];return s.length===0?(t(),i.dispose):(Promise.allSettled(s.map(a=>a.finished)).then(()=>{o||t()}),i.dispose)}function N9(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function L9(e,{container:t,accept:n,walk:r}){let i=S.useRef(n),o=S.useRef(r);S.useEffect(()=>{i.current=n,o.current=r},[n,r]),Ke(()=>{if(!t||!e)return;let s=jo(t);if(!s)return;let a=i.current,l=o.current,u=Object.assign(h=>a(h),{acceptNode:a}),d=s.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,u,!1);for(;d.nextNode();)l(d.currentNode)},[t,e,i,o])}function Hh(){return typeof window<"u"}function oa(e){return WP(e)?(e.nodeName||"").toLowerCase():"#document"}function gn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function vr(e){var t;return(t=(WP(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function WP(e){return Hh()?e instanceof Node||e instanceof gn(e).Node:!1}function Ht(e){return Hh()?e instanceof Element||e instanceof gn(e).Element:!1}function mr(e){return Hh()?e instanceof HTMLElement||e instanceof gn(e).HTMLElement:!1}function WS(e){return!Hh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof gn(e).ShadowRoot}function gu(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Qn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function M9(e){return["table","td","th"].includes(oa(e))}function Gh(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Qv(e){const t=Xv(),n=Ht(e)?Qn(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function F9(e){let t=$i(e);for(;mr(t)&&!zs(t);){if(Qv(t))return t;if(Gh(t))return null;t=$i(t)}return null}function Xv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function zs(e){return["html","body","#document"].includes(oa(e))}function Qn(e){return gn(e).getComputedStyle(e)}function qh(e){return Ht(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function $i(e){if(oa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||WS(e)&&e.host||vr(e);return WS(t)?t.host:t}function HP(e){const t=$i(e);return zs(t)?e.ownerDocument?e.ownerDocument.body:e.body:mr(t)&&gu(t)?t:HP(t)}function Bl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=HP(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),s=gn(i);if(o){const a=gg(s);return t.concat(s,s.visualViewport||[],gu(i)?i:[],a&&n?Bl(a):[])}return t.concat(i,Bl(i,[],n))}function gg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function V9(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}const Ro=Math.min,Lt=Math.max,zl=Math.round,pc=Math.floor,hr=e=>({x:e,y:e}),U9={left:"right",right:"left",bottom:"top",top:"bottom"},$9={start:"end",end:"start"};function HS(e,t,n){return Lt(e,Ro(t,n))}function sa(e,t){return typeof e=="function"?e(t):e}function ji(e){return e.split("-")[0]}function yu(e){return e.split("-")[1]}function GP(e){return e==="x"?"y":"x"}function qP(e){return e==="y"?"height":"width"}function bo(e){return["top","bottom"].includes(ji(e))?"y":"x"}function KP(e){return GP(bo(e))}function j9(e,t,n){n===void 0&&(n=!1);const r=yu(e),i=KP(e),o=qP(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=Wd(s)),[s,Wd(s)]}function B9(e){const t=Wd(e);return[yg(e),t,yg(t)]}function yg(e){return e.replace(/start|end/g,t=>$9[t])}function z9(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:s;default:return[]}}function W9(e,t,n,r){const i=yu(e);let o=z9(ji(e),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(yg)))),o}function Wd(e){return e.replace(/left|right|bottom|top/g,t=>U9[t])}function H9(e){return{top:0,right:0,bottom:0,left:0,...e}}function G9(e){return typeof e!="number"?H9(e):{top:e,right:e,bottom:e,left:e}}function Hd(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function GS(e,t,n){let{reference:r,floating:i}=e;const o=bo(t),s=KP(t),a=qP(s),l=ji(t),u=o==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let f;switch(l){case"top":f={x:d,y:r.y-i.height};break;case"bottom":f={x:d,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:h};break;case"left":f={x:r.x-i.width,y:h};break;default:f={x:r.x,y:r.y}}switch(yu(t)){case"start":f[s]-=p*(n&&u?-1:1);break;case"end":f[s]+=p*(n&&u?-1:1);break}return f}const q9=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:h}=GS(u,r,l),p=r,f={},m=0;for(let _=0;_<a.length;_++){const{name:x,fn:y}=a[_],{x:v,y:E,data:D,reset:F}=await y({x:d,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:f,rects:u,platform:s,elements:{reference:e,floating:t}});d=v??d,h=E??h,f={...f,[x]:{...f[x],...D}},F&&m<=50&&(m++,typeof F=="object"&&(F.placement&&(p=F.placement),F.rects&&(u=F.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):F.rects),{x:d,y:h}=GS(u,p,l)),_=-1)}return{x:d,y:h,placement:p,strategy:i,middlewareData:f}};async function Kh(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:f=0}=sa(t,e),m=G9(f),x=a[p?h==="floating"?"reference":"floating":h],y=Hd(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(x)))==null||n?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),v=h==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),D=await(o.isElement==null?void 0:o.isElement(E))?await(o.getScale==null?void 0:o.getScale(E))||{x:1,y:1}:{x:1,y:1},F=Hd(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:E,strategy:l}):v);return{top:(y.top-F.top+m.top)/D.y,bottom:(F.bottom-y.bottom+m.bottom)/D.y,left:(y.left-F.left+m.left)/D.x,right:(F.right-y.right+m.right)/D.x}}const K9=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:_=!0,...x}=sa(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const y=ji(i),v=bo(a),E=ji(a)===a,D=await(l.isRTL==null?void 0:l.isRTL(u.floating)),F=p||(E||!_?[Wd(a)]:B9(a)),k=m!=="none";!p&&k&&F.push(...W9(a,_,m,D));const P=[a,...F],A=await Kh(t,x),T=[];let I=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&T.push(A[y]),h){const X=j9(i,s,D);T.push(A[X[0]],A[X[1]])}if(I=[...I,{placement:i,overflows:T}],!T.every(X=>X<=0)){var R,M;const X=(((R=o.flip)==null?void 0:R.index)||0)+1,Z=P[X];if(Z)return{data:{index:X,overflows:I},reset:{placement:Z}};let re=(M=I.filter(te=>te.overflows[0]<=0).sort((te,U)=>te.overflows[1]-U.overflows[1])[0])==null?void 0:M.placement;if(!re)switch(f){case"bestFit":{var O;const te=(O=I.filter(U=>{if(k){const q=bo(U.placement);return q===v||q==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(q=>q>0).reduce((q,N)=>q+N,0)]).sort((U,q)=>U[1]-q[1])[0])==null?void 0:O[0];te&&(re=te);break}case"initialPlacement":re=a;break}if(i!==re)return{reset:{placement:re}}}return{}}}};async function Q9(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=ji(n),a=yu(n),l=bo(n)==="y",u=["left","top"].includes(s)?-1:1,d=o&&l?-1:1,h=sa(t,e);let{mainAxis:p,crossAxis:f,alignmentAxis:m}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof m=="number"&&(f=a==="end"?m*-1:m),l?{x:f*d,y:p*u}:{x:p*u,y:f*d}}const X9=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=t,l=await Q9(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},Y9=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:x=>{let{x:y,y:v}=x;return{x:y,y:v}}},...l}=sa(e,t),u={x:n,y:r},d=await Kh(t,l),h=bo(ji(i)),p=GP(h);let f=u[p],m=u[h];if(o){const x=p==="y"?"top":"left",y=p==="y"?"bottom":"right",v=f+d[x],E=f-d[y];f=HS(v,f,E)}if(s){const x=h==="y"?"top":"left",y=h==="y"?"bottom":"right",v=m+d[x],E=m-d[y];m=HS(v,m,E)}const _=a.fn({...t,[p]:f,[h]:m});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[p]:o,[h]:s}}}}}},J9=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:s,elements:a}=t,{apply:l=()=>{},...u}=sa(e,t),d=await Kh(t,u),h=ji(i),p=yu(i),f=bo(i)==="y",{width:m,height:_}=o.floating;let x,y;h==="top"||h==="bottom"?(x=h,y=p===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(y=h,x=p==="end"?"top":"bottom");const v=_-d.top-d.bottom,E=m-d.left-d.right,D=Ro(_-d[x],v),F=Ro(m-d[y],E),k=!t.middlewareData.shift;let P=D,A=F;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(A=E),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(P=v),k&&!p){const I=Lt(d.left,0),R=Lt(d.right,0),M=Lt(d.top,0),O=Lt(d.bottom,0);f?A=m-2*(I!==0||R!==0?I+R:Lt(d.left,d.right)):P=_-2*(M!==0||O!==0?M+O:Lt(d.top,d.bottom))}await l({...t,availableWidth:A,availableHeight:P});const T=await s.getDimensions(a.floating);return m!==T.width||_!==T.height?{reset:{rects:!0}}:{}}}};function QP(e){const t=Qn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=mr(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=zl(n)!==o||zl(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function Yv(e){return Ht(e)?e:e.contextElement}function xs(e){const t=Yv(e);if(!mr(t))return hr(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=QP(t);let s=(o?zl(n.width):n.width)/r,a=(o?zl(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const Z9=hr(0);function XP(e){const t=gn(e);return!Xv()||!t.visualViewport?Z9:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function e5(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==gn(e)?!1:t}function ko(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=Yv(e);let s=hr(1);t&&(r?Ht(r)&&(s=xs(r)):s=xs(e));const a=e5(o,n,r)?XP(o):hr(0);let l=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,d=i.width/s.x,h=i.height/s.y;if(o){const p=gn(o),f=r&&Ht(r)?gn(r):r;let m=p,_=gg(m);for(;_&&r&&f!==m;){const x=xs(_),y=_.getBoundingClientRect(),v=Qn(_),E=y.left+(_.clientLeft+parseFloat(v.paddingLeft))*x.x,D=y.top+(_.clientTop+parseFloat(v.paddingTop))*x.y;l*=x.x,u*=x.y,d*=x.x,h*=x.y,l+=E,u+=D,m=gn(_),_=gg(m)}}return Hd({width:d,height:h,x:l,y:u})}function Jv(e,t){const n=qh(e).scrollLeft;return t?t.left+n:ko(vr(e)).left+n}function YP(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:Jv(e,r)),o=r.top+t.scrollTop;return{x:i,y:o}}function t5(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",s=vr(r),a=t?Gh(t.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},u=hr(1);const d=hr(0),h=mr(r);if((h||!h&&!o)&&((oa(r)!=="body"||gu(s))&&(l=qh(r)),mr(r))){const f=ko(r);u=xs(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}const p=s&&!h&&!o?YP(s,l,!0):hr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-l.scrollTop*u.y+d.y+p.y}}function n5(e){return Array.from(e.getClientRects())}function r5(e){const t=vr(e),n=qh(e),r=e.ownerDocument.body,i=Lt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Lt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Jv(e);const a=-n.scrollTop;return Qn(r).direction==="rtl"&&(s+=Lt(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function i5(e,t){const n=gn(e),r=vr(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const u=Xv();(!u||u&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function o5(e,t){const n=ko(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=mr(e)?xs(e):hr(1),s=e.clientWidth*o.x,a=e.clientHeight*o.y,l=i*o.x,u=r*o.y;return{width:s,height:a,x:l,y:u}}function qS(e,t,n){let r;if(t==="viewport")r=i5(e,n);else if(t==="document")r=r5(vr(e));else if(Ht(t))r=o5(t,n);else{const i=XP(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Hd(r)}function JP(e,t){const n=$i(e);return n===t||!Ht(n)||zs(n)?!1:Qn(n).position==="fixed"||JP(n,t)}function s5(e,t){const n=t.get(e);if(n)return n;let r=Bl(e,[],!1).filter(a=>Ht(a)&&oa(a)!=="body"),i=null;const o=Qn(e).position==="fixed";let s=o?$i(e):e;for(;Ht(s)&&!zs(s);){const a=Qn(s),l=Qv(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||gu(s)&&!l&&JP(e,s))?r=r.filter(d=>d!==s):i=a,s=$i(s)}return t.set(e,r),r}function a5(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?Gh(t)?[]:s5(t,this._c):[].concat(n),r],a=s[0],l=s.reduce((u,d)=>{const h=qS(t,d,i);return u.top=Lt(h.top,u.top),u.right=Ro(h.right,u.right),u.bottom=Ro(h.bottom,u.bottom),u.left=Lt(h.left,u.left),u},qS(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function l5(e){const{width:t,height:n}=QP(e);return{width:t,height:n}}function u5(e,t,n){const r=mr(t),i=vr(t),o=n==="fixed",s=ko(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=hr(0);if(r||!r&&!o)if((oa(t)!=="body"||gu(i))&&(a=qh(t)),r){const p=ko(t,!0,o,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else i&&(l.x=Jv(i));const u=i&&!r&&!o?YP(i,a):hr(0),d=s.left+a.scrollLeft-l.x-u.x,h=s.top+a.scrollTop-l.y-u.y;return{x:d,y:h,width:s.width,height:s.height}}function wp(e){return Qn(e).position==="static"}function KS(e,t){if(!mr(e)||Qn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return vr(e)===n&&(n=n.ownerDocument.body),n}function ZP(e,t){const n=gn(e);if(Gh(e))return n;if(!mr(e)){let i=$i(e);for(;i&&!zs(i);){if(Ht(i)&&!wp(i))return i;i=$i(i)}return n}let r=KS(e,t);for(;r&&M9(r)&&wp(r);)r=KS(r,t);return r&&zs(r)&&wp(r)&&!Qv(r)?n:r||F9(e)||n}const c5=async function(e){const t=this.getOffsetParent||ZP,n=this.getDimensions,r=await n(e.floating);return{reference:u5(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function d5(e){return Qn(e).direction==="rtl"}const h5={convertOffsetParentRelativeRectToViewportRelativeRect:t5,getDocumentElement:vr,getClippingRect:a5,getOffsetParent:ZP,getElementRects:c5,getClientRects:n5,getDimensions:l5,getScale:xs,isElement:Ht,isRTL:d5};function f5(e,t){let n=null,r;const i=vr(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:u,top:d,width:h,height:p}=e.getBoundingClientRect();if(a||t(),!h||!p)return;const f=pc(d),m=pc(i.clientWidth-(u+h)),_=pc(i.clientHeight-(d+p)),x=pc(u),v={rootMargin:-f+"px "+-m+"px "+-_+"px "+-x+"px",threshold:Lt(0,Ro(1,l))||1};let E=!0;function D(F){const k=F[0].intersectionRatio;if(k!==l){if(!E)return s();k?s(!1,k):r=setTimeout(()=>{s(!1,1e-7)},1e3)}E=!1}try{n=new IntersectionObserver(D,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,v)}n.observe(e)}return s(!0),o}function p5(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Yv(e),d=i||o?[...u?Bl(u):[],...Bl(t)]:[];d.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),o&&y.addEventListener("resize",n)});const h=u&&a?f5(u,n):null;let p=-1,f=null;s&&(f=new ResizeObserver(y=>{let[v]=y;v&&v.target===u&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var E;(E=f)==null||E.observe(t)})),n()}),u&&!l&&f.observe(u),f.observe(t));let m,_=l?ko(e):null;l&&x();function x(){const y=ko(e);_&&(y.x!==_.x||y.y!==_.y||y.width!==_.width||y.height!==_.height)&&n(),_=y,m=requestAnimationFrame(x)}return n(),()=>{var y;d.forEach(v=>{i&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),h==null||h(),(y=f)==null||y.disconnect(),f=null,l&&cancelAnimationFrame(m)}}const Ep=Kh,m5=X9,g5=Y9,y5=K9,v5=J9,_5=(e,t,n)=>{const r=new Map,i={platform:h5,...n},o={...i.platform,_c:r};return q9(e,t,{...i,platform:o})};var Wc=typeof document<"u"?S.useLayoutEffect:S.useEffect;function Gd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Gd(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!Gd(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function eR(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function QS(e,t){const n=eR(e);return Math.round(t*n)/n}function Sp(e){const t=S.useRef(e);return Wc(()=>{t.current=e}),t}function w5(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[d,h]=S.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,f]=S.useState(r);Gd(p,r)||f(r);const[m,_]=S.useState(null),[x,y]=S.useState(null),v=S.useCallback(U=>{U!==k.current&&(k.current=U,_(U))},[]),E=S.useCallback(U=>{U!==P.current&&(P.current=U,y(U))},[]),D=o||m,F=s||x,k=S.useRef(null),P=S.useRef(null),A=S.useRef(d),T=l!=null,I=Sp(l),R=Sp(i),M=Sp(u),O=S.useCallback(()=>{if(!k.current||!P.current)return;const U={placement:t,strategy:n,middleware:p};R.current&&(U.platform=R.current),_5(k.current,P.current,U).then(q=>{const N={...q,isPositioned:M.current!==!1};X.current&&!Gd(A.current,N)&&(A.current=N,lt.flushSync(()=>{h(N)}))})},[p,t,n,R,M]);Wc(()=>{u===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,h(U=>({...U,isPositioned:!1})))},[u]);const X=S.useRef(!1);Wc(()=>(X.current=!0,()=>{X.current=!1}),[]),Wc(()=>{if(D&&(k.current=D),F&&(P.current=F),D&&F){if(I.current)return I.current(D,F,O);O()}},[D,F,O,I,T]);const Z=S.useMemo(()=>({reference:k,floating:P,setReference:v,setFloating:E}),[v,E]),re=S.useMemo(()=>({reference:D,floating:F}),[D,F]),te=S.useMemo(()=>{const U={position:n,left:0,top:0};if(!re.floating)return U;const q=QS(re.floating,d.x),N=QS(re.floating,d.y);return a?{...U,transform:"translate("+q+"px, "+N+"px)",...eR(re.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:q,top:N}},[n,a,re.floating,d.x,d.y]);return S.useMemo(()=>({...d,update:O,refs:Z,elements:re,floatingStyles:te}),[d,O,Z,re,te])}const tR=(e,t)=>({...m5(e),options:[e,t]}),E5=(e,t)=>({...g5(e),options:[e,t]}),S5=(e,t)=>({...y5(e),options:[e,t]}),C5=(e,t)=>({...v5(e),options:[e,t]}),nR={...Lp},I5=nR.useInsertionEffect,x5=I5||(e=>e());function rR(e){const t=S.useRef(()=>{});return x5(()=>{t.current=e}),S.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}var vg=typeof document<"u"?S.useLayoutEffect:S.useEffect;let XS=!1,A5=0;const YS=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+A5++;function T5(){const[e,t]=S.useState(()=>XS?YS():void 0);return vg(()=>{e==null&&t(YS())},[]),S.useEffect(()=>{XS=!0},[]),e}const P5=nR.useId,R5=P5||T5;function b5(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const k5=S.createContext(null),D5=S.createContext(null),O5=()=>{var e;return((e=S.useContext(k5))==null?void 0:e.id)||null},N5=()=>S.useContext(D5),L5="data-floating-ui-focusable";function M5(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=R5(),o=S.useRef({}),[s]=S.useState(()=>b5()),a=O5()!=null,[l,u]=S.useState(r.reference),d=rR((f,m,_)=>{o.current.openEvent=f?m:void 0,s.emit("openchange",{open:f,event:m,reason:_,nested:a}),n==null||n(f,m,_)}),h=S.useMemo(()=>({setPositionReference:u}),[]),p=S.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return S.useMemo(()=>({dataRef:o,open:t,onOpenChange:d,elements:p,events:s,floatingId:i,refs:h}),[t,d,p,s,i,h])}function F5(e){e===void 0&&(e={});const{nodeId:t}=e,n=M5({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[o,s]=S.useState(null),[a,l]=S.useState(null),d=(i==null?void 0:i.domReference)||o,h=S.useRef(null),p=N5();vg(()=>{d&&(h.current=d)},[d]);const f=w5({...e,elements:{...i,...a&&{reference:a}}}),m=S.useCallback(E=>{const D=Ht(E)?{getBoundingClientRect:()=>E.getBoundingClientRect(),contextElement:E}:E;l(D),f.refs.setReference(D)},[f.refs]),_=S.useCallback(E=>{(Ht(E)||E===null)&&(h.current=E,s(E)),(Ht(f.refs.reference.current)||f.refs.reference.current===null||E!==null&&!Ht(E))&&f.refs.setReference(E)},[f.refs]),x=S.useMemo(()=>({...f.refs,setReference:_,setPositionReference:m,domReference:h}),[f.refs,_,m]),y=S.useMemo(()=>({...f.elements,domReference:d}),[f.elements,d]),v=S.useMemo(()=>({...f,...r,refs:x,elements:y,nodeId:t}),[f,x,y,t,r]);return vg(()=>{r.dataRef.current.floatingContext=v;const E=p==null?void 0:p.nodesRef.current.find(D=>D.id===t);E&&(E.context=v)}),S.useMemo(()=>({...f,context:v,refs:x,elements:y}),[f,x,y,v])}const JS="active",ZS="selected";function Cp(e,t,n){const r=new Map,i=n==="item";let o=e;if(i&&e){const{[JS]:s,[ZS]:a,...l}=e;o=l}return{...n==="floating"&&{tabIndex:-1,[L5]:""},...o,...t.map(s=>{const a=s?s[n]:null;return typeof a=="function"?e?a(e):null:a}).concat(e).reduce((s,a)=>(a&&Object.entries(a).forEach(l=>{let[u,d]=l;if(!(i&&[JS,ZS].includes(u)))if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof d=="function"){var h;(h=r.get(u))==null||h.push(d),s[u]=function(){for(var p,f=arguments.length,m=new Array(f),_=0;_<f;_++)m[_]=arguments[_];return(p=r.get(u))==null?void 0:p.map(x=>x(...m)).find(x=>x!==void 0)}}}else s[u]=d}),s),{})}}function V5(e){e===void 0&&(e=[]);const t=e.map(a=>a==null?void 0:a.reference),n=e.map(a=>a==null?void 0:a.floating),r=e.map(a=>a==null?void 0:a.item),i=S.useCallback(a=>Cp(a,e,"reference"),t),o=S.useCallback(a=>Cp(a,e,"floating"),n),s=S.useCallback(a=>Cp(a,e,"item"),r);return S.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:s}),[i,o,s])}function eC(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const U5=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:r,onFallbackChange:i,offset:o=0,index:s=0,minItemsVisible:a=4,referenceOverflowThreshold:l=0,scrollRef:u,...d}=sa(e,t),{rects:h,elements:{floating:p}}=t,f=n.current[s],m=(u==null?void 0:u.current)||p,_=p.clientTop||m.clientTop,x=p.clientTop!==0,y=m.clientTop!==0,v=p===m;if(!f)return{};const E={...t,...await tR(-f.offsetTop-p.clientTop-h.reference.height/2-f.offsetHeight/2-o).fn(t)},D=await Ep(eC(E,m.scrollHeight+_+p.clientTop),d),F=await Ep(E,{...d,elementContext:"reference"}),k=Lt(0,D.top),P=E.y+k,I=(m.scrollHeight>m.clientHeight?R=>R:zl)(Lt(0,m.scrollHeight+(x&&v||y?_*2:0)-k-Lt(0,D.bottom)));if(m.style.maxHeight=I+"px",m.scrollTop=k,i){const R=m.offsetHeight<f.offsetHeight*Ro(a,n.current.length)-1||F.top>=-l||F.bottom>=-l;lt.flushSync(()=>i(R))}return r&&(r.current=await Ep(eC({...E,y:P},m.offsetHeight+_+p.clientTop),d)),{y:P}}});function $5(e,t){const{open:n,elements:r}=e,{enabled:i=!0,overflowRef:o,scrollRef:s,onChange:a}=t,l=rR(a),u=S.useRef(!1),d=S.useRef(null),h=S.useRef(null);S.useEffect(()=>{if(!i)return;function f(_){if(_.ctrlKey||!m||o.current==null)return;const x=_.deltaY,y=o.current.top>=-.5,v=o.current.bottom>=-.5,E=m.scrollHeight-m.clientHeight,D=x<0?-1:1,F=x<0?"max":"min";m.scrollHeight<=m.clientHeight||(!y&&x>0||!v&&x<0?(_.preventDefault(),lt.flushSync(()=>{l(k=>k+Math[F](x,E*D))})):/firefox/i.test(V9())&&(m.scrollTop+=x))}const m=(s==null?void 0:s.current)||r.floating;if(n&&m)return m.addEventListener("wheel",f),requestAnimationFrame(()=>{d.current=m.scrollTop,o.current!=null&&(h.current={...o.current})}),()=>{d.current=null,h.current=null,m.removeEventListener("wheel",f)}},[i,n,r.floating,o,s,l]);const p=S.useMemo(()=>({onKeyDown(){u.current=!0},onWheel(){u.current=!1},onPointerMove(){u.current=!1},onScroll(){const f=(s==null?void 0:s.current)||r.floating;if(!(!o.current||!f||!u.current)){if(d.current!==null){const m=f.scrollTop-d.current;(o.current.bottom<-.5&&m<-1||o.current.top<-.5&&m>1)&&lt.flushSync(()=>l(_=>_+m))}requestAnimationFrame(()=>{d.current=f.scrollTop})}}}),[r.floating,l,o,s]);return S.useMemo(()=>i?{floating:p}:{},[i,p])}let aa=S.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});aa.displayName="FloatingContext";let Zv=S.createContext(null);Zv.displayName="PlacementContext";function iR(e){return S.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function oR(){return S.useContext(aa).setReference}function sR(){return S.useContext(aa).getReferenceProps}function aR(){let{getFloatingProps:e,slot:t}=S.useContext(aa);return S.useCallback((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function lR(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=S.useContext(Zv),n=S.useMemo(()=>e,[JSON.stringify(e,(i,o)=>{var s;return(s=o==null?void 0:o.outerHTML)!=null?s:o})]);Ke(()=>{t==null||t(n??null)},[t,n]);let r=S.useContext(aa);return S.useMemo(()=>[r.setFloating,e?r.styles:{}],[r.setFloating,e,r.styles])}let tC=4;function uR({children:e,enabled:t=!0}){let[n,r]=S.useState(null),[i,o]=S.useState(0),s=S.useRef(null),[a,l]=S.useState(null);j5(a);let u=t&&n!==null&&a!==null,{to:d="bottom",gap:h=0,offset:p=0,padding:f=0,inner:m}=B5(n,a),[_,x="center"]=d.split(" ");Ke(()=>{u&&o(0)},[u]);let{refs:y,floatingStyles:v,context:E}=F5({open:u,placement:_==="selection"?x==="center"?"bottom":`bottom-${x}`:x==="center"?`${_}`:`${_}-${x}`,strategy:"absolute",transform:!1,middleware:[tR({mainAxis:_==="selection"?0:h,crossAxis:p}),E5({padding:f}),_!=="selection"&&S5({padding:f}),_==="selection"&&m?U5({...m,padding:f,overflowRef:s,offset:i,minItemsVisible:tC,referenceOverflowThreshold:f,onFallbackChange(R){var M,O;if(!R)return;let X=E.elements.floating;if(!X)return;let Z=parseFloat(getComputedStyle(X).scrollPaddingBottom)||0,re=Math.min(tC,X.childElementCount),te=0,U=0;for(let q of(O=(M=E.elements.floating)==null?void 0:M.childNodes)!=null?O:[])if(q instanceof HTMLElement){let N=q.offsetTop,le=N+q.clientHeight+Z,ue=X.scrollTop,L=ue+X.clientHeight;if(N>=ue&&le<=L)re--;else{U=Math.max(0,Math.min(le,L)-Math.max(N,ue)),te=q.clientHeight;break}}re>=1&&o(q=>{let N=te*re-U+Z;return q>=N?q:N})}}):null,C5({padding:f,apply({availableWidth:R,availableHeight:M,elements:O}){Object.assign(O.floating.style,{overflow:"auto",maxWidth:`${R}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${M}px)`})}})].filter(Boolean),whileElementsMounted:p5}),[D=_,F=x]=E.placement.split("-");_==="selection"&&(D="selection");let k=S.useMemo(()=>({anchor:[D,F].filter(Boolean).join(" ")}),[D,F]),P=$5(E,{overflowRef:s,onChange:o}),{getReferenceProps:A,getFloatingProps:T}=V5([P]),I=ce(R=>{l(R),y.setFloating(R)});return S.createElement(Zv.Provider,{value:r},S.createElement(aa.Provider,{value:{setFloating:I,setReference:y.setReference,styles:v,getReferenceProps:A,getFloatingProps:T,slot:k}},e))}function j5(e){Ke(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,r=parseFloat(n);if(isNaN(r))return;let i=parseInt(n);isNaN(i)||r!==i&&(e.style.maxHeight=`${Math.ceil(r)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function B5(e,t){var n,r,i;let o=Ip((n=e==null?void 0:e.gap)!=null?n:"var(--anchor-gap, 0)",t),s=Ip((r=e==null?void 0:e.offset)!=null?r:"var(--anchor-offset, 0)",t),a=Ip((i=e==null?void 0:e.padding)!=null?i:"var(--anchor-padding, 0)",t);return{...e,gap:o,offset:s,padding:a}}function Ip(e,t,n=void 0){let r=Bo(),i=ce((l,u)=>{if(l==null)return[n,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!u)return[n,null];let d=nC(l,u);return[d,h=>{let p=cR(l);{let f=p.map(m=>window.getComputedStyle(u).getPropertyValue(m));r.requestAnimationFrame(function m(){r.nextFrame(m);let _=!1;for(let[y,v]of p.entries()){let E=window.getComputedStyle(u).getPropertyValue(v);if(f[y]!==E){f[y]=E,_=!0;break}}if(!_)return;let x=nC(l,u);d!==x&&(h(x),d=x)})}return r.dispose}]}return[n,null]}),o=S.useMemo(()=>i(e,t)[0],[e,t]),[s=o,a]=S.useState();return Ke(()=>{let[l,u]=i(e,t);if(a(l),!!u)return u(a)},[e,t]),s}function cR(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let r=t[1].slice(0,n).trim(),i=t[1].slice(n+1).trim();return i?[r,...cR(i)]:[r]}return[]}function nC(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),r}function z5(e,t){let[n,r]=S.useState(t);return!e&&n!==t&&r(t),e?n:t}let e_=S.createContext(null);e_.displayName="OpenClosedContext";var zr=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(zr||{});function dR(){return S.useContext(e_)}function hR({value:e,children:t}){return Se.createElement(e_.Provider,{value:e},t)}function W5(e){throw new Error("Unexpected object: "+e)}var Ae=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(Ae||{});function As(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),i=r??-1;switch(e.focus){case 0:{for(let o=0;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 1:{i===-1&&(i=n.length);for(let o=i-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 2:{for(let o=i+1;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 3:{for(let o=n.length-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 4:{for(let o=0;o<n.length;++o)if(t.resolveId(n[o],o,n)===e.id)return o;return r}case 5:return null;default:W5(e)}}function H5(e){let t=ce(e),n=S.useRef(!1);S.useEffect(()=>(n.current=!1,()=>{n.current=!0,vP(()=>{n.current&&t()})}),[t])}function G5(){let e=typeof document>"u";return"useSyncExternalStore"in Lp?(t=>t.useSyncExternalStore)(Lp)(()=>()=>{},()=>!1,()=>!e):!1}function q5(){let e=G5(),[t,n]=S.useState(yo.isHandoffComplete);return t&&yo.isHandoffComplete===!1&&n(!1),S.useEffect(()=>{t!==!0&&n(!0)},[t]),S.useEffect(()=>yo.handoff(),[]),e?!1:t}let K5=S.createContext(!1);function Q5(){return S.useContext(K5)}function X5(e){let t=Q5(),n=S.useContext(pR),r=Wh(e),[i,o]=S.useState(()=>{var s;if(!t&&n!==null)return(s=n.current)!=null?s:null;if(yo.isServer)return null;let a=r==null?void 0:r.getElementById("headlessui-portal-root");if(a)return a;if(r===null)return null;let l=r.createElement("div");return l.setAttribute("id","headlessui-portal-root"),r.body.appendChild(l)});return S.useEffect(()=>{i!==null&&(r!=null&&r.body.contains(i)||r==null||r.body.appendChild(i))},[i,r]),S.useEffect(()=>{t||n!==null&&o(n.current)},[n,o,t]),i}let fR=S.Fragment,Y5=ht(function(e,t){let n=e,r=S.useRef(null),i=rn(YW(h=>{r.current=h}),t),o=Wh(r),s=X5(r),[a]=S.useState(()=>{var h;return yo.isServer?null:(h=o==null?void 0:o.createElement("div"))!=null?h:null}),l=S.useContext(tH),u=q5();Ke(()=>{!s||!a||s.contains(a)||(a.setAttribute("data-headlessui-portal",""),s.appendChild(a))},[s,a]),Ke(()=>{if(a&&l)return l.register(a)},[l,a]),H5(()=>{var h;!s||!a||(a instanceof Node&&s.contains(a)&&s.removeChild(a),s.childNodes.length<=0&&((h=s.parentElement)==null||h.removeChild(s)))});let d=dt();return u?!s||!a?null:lt.createPortal(d({ourProps:{ref:i},theirProps:n,slot:{},defaultTag:fR,name:"Portal"}),a):null});function J5(e,t){let n=rn(t),{enabled:r=!0,...i}=e,o=dt();return r?Se.createElement(Y5,{...i,ref:n}):o({ourProps:{ref:n},theirProps:i,slot:{},defaultTag:fR,name:"Portal"})}let Z5=S.Fragment,pR=S.createContext(null);function eH(e,t){let{target:n,...r}=e,i={ref:rn(t)},o=dt();return Se.createElement(pR.Provider,{value:n},o({ourProps:i,theirProps:r,defaultTag:Z5,name:"Popover.Group"}))}let tH=S.createContext(null),nH=ht(J5),rH=ht(eH),mR=Object.assign(nH,{Group:rH});function gR(e,t){let n=S.useRef({left:0,top:0});if(Ke(()=>{if(!t)return;let i=t.getBoundingClientRect();i&&(n.current=i)},[e,t]),t==null||!e||t===document.activeElement)return!1;let r=t.getBoundingClientRect();return r.top!==n.current.top||r.left!==n.current.left}let rC=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function iC(e){var t,n;let r=(t=e.innerText)!=null?t:"",i=e.cloneNode(!0);if(!(i instanceof HTMLElement))return r;let o=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),o=!0;let s=o?(n=i.innerText)!=null?n:"":r;return rC.test(s)&&(s=s.replace(rC,"")),s}function iH(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let o=document.getElementById(i);if(o){let s=o.getAttribute("aria-label");return typeof s=="string"?s.trim():iC(o).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return iC(e).trim()}function yR(e){let t=S.useRef(""),n=S.useRef("");return ce(()=>{let r=e.current;if(!r)return"";let i=r.innerText;if(t.current===i)return n.current;let o=iH(r).trim().toLowerCase();return t.current=i,n.current=o,o})}var oH=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(oH||{}),sH=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(sH||{}),aH=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(aH||{}),lH=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetOptionsElement=8]="SetOptionsElement",e))(lH||{});function xp(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=Kv(t(e.options.slice()),o=>o.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{options:r,activeOptionIndex:i}}let uH={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1,__demoMode:!1}},0(e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,r=e.options.findIndex(i=>n(i.dataRef.current.value));return r!==-1&&(t=r),{...e,listboxState:0,activeOptionIndex:t,__demoMode:!1}},2(e,t){var n,r,i,o,s;if(e.dataRef.current.disabled||e.listboxState===1)return e;let a={...e,searchQuery:"",activationTrigger:(n=t.trigger)!=null?n:1,__demoMode:!1};if(t.focus===Ae.Nothing)return{...a,activeOptionIndex:null};if(t.focus===Ae.Specific)return{...a,activeOptionIndex:e.options.findIndex(d=>d.id===t.id)};if(t.focus===Ae.Previous){let d=e.activeOptionIndex;if(d!==null){let h=e.options[d].dataRef.current.domRef,p=As(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled});if(p!==null){let f=e.options[p].dataRef.current.domRef;if(((r=h.current)==null?void 0:r.previousElementSibling)===f.current||((i=f.current)==null?void 0:i.previousElementSibling)===null)return{...a,activeOptionIndex:p}}}}else if(t.focus===Ae.Next){let d=e.activeOptionIndex;if(d!==null){let h=e.options[d].dataRef.current.domRef,p=As(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled});if(p!==null){let f=e.options[p].dataRef.current.domRef;if(((o=h.current)==null?void 0:o.nextElementSibling)===f.current||((s=f.current)==null?void 0:s.nextElementSibling)===null)return{...a,activeOptionIndex:p}}}}let l=xp(e),u=As(t,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled});return{...a,...l,activeOptionIndex:u}},3:(e,t)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),i=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(s=>{var a;return!s.dataRef.current.disabled&&((a=s.dataRef.current.textValue)==null?void 0:a.startsWith(r))}),o=i?e.options.indexOf(i):-1;return o===-1||o===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:o,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},r=xp(e,i=>[...i,n]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(n)),{...e,...r}},6:(e,t)=>{let n=xp(e,r=>{let i=r.findIndex(o=>o.id===t.id);return i!==-1&&r.splice(i,1),r});return{...e,...n,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.optionsElement===t.element?e:{...e,optionsElement:t.element}},t_=S.createContext(null);t_.displayName="ListboxActionsContext";function Qh(e){let t=S.useContext(t_);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Qh),n}return t}let Xh=S.createContext(null);Xh.displayName="ListboxDataContext";function vu(e){let t=S.useContext(Xh);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,vu),n}return t}function cH(e,t){return Wn(t.type,uH,e,t)}let dH=S.Fragment;function hH(e,t){var n;let r=Uh(),{value:i,defaultValue:o,form:s,name:a,onChange:l,by:u,invalid:d=!1,disabled:h=r||!1,horizontal:p=!1,multiple:f=!1,__demoMode:m=!1,..._}=e;const x=p?"horizontal":"vertical";let y=rn(t),v=jW(o),[E=f?[]:void 0,D]=$W(i,l,v),[F,k]=S.useReducer(cH,{dataRef:S.createRef(),listboxState:m?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,optionsVisible:!1,buttonElement:null,optionsElement:null,__demoMode:m}),P=S.useRef({static:!1,hold:!1}),A=S.useRef(new Map),T=l9(u),I=S.useCallback(be=>Wn(R.mode,{1:()=>E.some(We=>T(We,be)),0:()=>T(E,be)}),[E]),R=S.useMemo(()=>({...F,value:E,disabled:h,invalid:d,mode:f?1:0,orientation:x,compare:T,isSelected:I,optionsPropsRef:P,listRef:A}),[E,h,d,f,F,A]);Ke(()=>{F.dataRef.current=R},[R]);let M=R.listboxState===0;VP(M,[R.buttonElement,R.optionsElement],(be,We)=>{var xt;k({type:1}),zh(We,Bh.Loose)||(be.preventDefault(),(xt=R.buttonElement)==null||xt.focus())});let O=S.useMemo(()=>({open:R.listboxState===0,disabled:h,invalid:d,value:E}),[R,h,E,d]),X=ce(be=>{let We=R.options.find(xt=>xt.id===be);We&&le(We.dataRef.current.value)}),Z=ce(()=>{if(R.activeOptionIndex!==null){let{dataRef:be,id:We}=R.options[R.activeOptionIndex];le(be.current.value),k({type:2,focus:Ae.Specific,id:We})}}),re=ce(()=>k({type:0})),te=ce(()=>k({type:1})),U=Bo(),q=ce((be,We,xt)=>{U.dispose(),U.microTask(()=>be===Ae.Specific?k({type:2,focus:Ae.Specific,id:We,trigger:xt}):k({type:2,focus:be,trigger:xt}))}),N=ce((be,We)=>(k({type:5,id:be,dataRef:We}),()=>k({type:6,id:be}))),le=ce(be=>Wn(R.mode,{0(){return D==null?void 0:D(be)},1(){let We=R.value.slice(),xt=We.findIndex(Yr=>T(Yr,be));return xt===-1?We.push(be):We.splice(xt,1),D==null?void 0:D(We)}})),ue=ce(be=>k({type:3,value:be})),L=ce(()=>k({type:4})),ve=ce(be=>{k({type:7,element:be})}),Be=ce(be=>{k({type:8,element:be})}),Re=S.useMemo(()=>({onChange:le,registerOption:N,goToOption:q,closeListbox:te,openListbox:re,selectActiveOption:Z,selectOption:X,search:ue,clearSearch:L,setButtonElement:ve,setOptionsElement:Be}),[]),[gt,En]=Gv({inherit:!0}),Yn={ref:y},on=S.useCallback(()=>{if(v!==void 0)return D==null?void 0:D(v)},[D,v]),Nn=dt();return Se.createElement(En,{value:gt,props:{htmlFor:(n=R.buttonElement)==null?void 0:n.id},slot:{open:R.listboxState===0,disabled:h}},Se.createElement(uR,null,Se.createElement(t_.Provider,{value:Re},Se.createElement(Xh.Provider,{value:R},Se.createElement(hR,{value:Wn(R.listboxState,{0:zr.Open,1:zr.Closed})},a!=null&&E!=null&&Se.createElement(qW,{disabled:h,data:{[a]:E},form:s,onReset:on}),Nn({ourProps:Yn,theirProps:_,slot:O,defaultTag:dH,name:"Listbox"}))))))}let fH="button";function pH(e,t){var n;let r=vu("Listbox.Button"),i=Qh("Listbox.Button"),o=S.useId(),s=IP(),{id:a=s||`headlessui-listbox-button-${o}`,disabled:l=r.disabled||!1,autoFocus:u=!1,...d}=e,h=rn(t,oR(),i.setButtonElement),p=sR(),f=ce(R=>{switch(R.key){case Ie.Enter:BW(R.currentTarget);break;case Ie.Space:case Ie.ArrowDown:R.preventDefault(),lt.flushSync(()=>i.openListbox()),r.value||i.goToOption(Ae.First);break;case Ie.ArrowUp:R.preventDefault(),lt.flushSync(()=>i.openListbox()),r.value||i.goToOption(Ae.Last);break}}),m=ce(R=>{switch(R.key){case Ie.Space:R.preventDefault();break}}),_=ce(R=>{var M;if(xP(R.currentTarget))return R.preventDefault();r.listboxState===0?(lt.flushSync(()=>i.closeListbox()),(M=r.buttonElement)==null||M.focus({preventScroll:!0})):(R.preventDefault(),i.openListbox())}),x=ce(R=>R.preventDefault()),y=PP([a]),v=JW(),{isFocusVisible:E,focusProps:D}=Bv({autoFocus:u}),{isHovered:F,hoverProps:k}=jv({isDisabled:l}),{pressed:P,pressProps:A}=zv({disabled:l}),T=S.useMemo(()=>({open:r.listboxState===0,active:P||r.listboxState===0,disabled:l,invalid:r.invalid,value:r.value,hover:F,focus:E,autofocus:u}),[r.listboxState,r.value,l,F,E,P,r.invalid,u]),I=mu(p(),{ref:h,id:a,type:UP(e,r.buttonElement),"aria-haspopup":"listbox","aria-controls":(n=r.optionsElement)==null?void 0:n.id,"aria-expanded":r.listboxState===0,"aria-labelledby":y,"aria-describedby":v,disabled:l||void 0,autoFocus:u,onKeyDown:f,onKeyUp:m,onKeyPress:x,onClick:_},D,k,A);return dt()({ourProps:I,theirProps:d,slot:T,defaultTag:fH,name:"Listbox.Button"})}let vR=S.createContext(!1),mH="div",gH=$l.RenderStrategy|$l.Static;function yH(e,t){var n,r;let i=S.useId(),{id:o=`headlessui-listbox-options-${i}`,anchor:s,portal:a=!1,modal:l=!0,transition:u=!1,...d}=e,h=iR(s),[p,f]=S.useState(null);h&&(a=!0);let m=vu("Listbox.Options"),_=Qh("Listbox.Options"),x=Wh(m.optionsElement),y=dR(),[v,E]=zP(u,p,y!==null?(y&zr.Open)===zr.Open:m.listboxState===0);OP(v,m.buttonElement,_.closeListbox);let D=m.__demoMode?!1:l&&m.listboxState===0;$P(D,x);let F=m.__demoMode?!1:l&&m.listboxState===0;DP(F,{allowed:S.useCallback(()=>[m.buttonElement,m.optionsElement],[m.buttonElement,m.optionsElement])});let k=m.listboxState!==0,P=gR(k,m.buttonElement)?!1:v,A=v&&m.listboxState===1,T=z5(A,m.value),I=ce(L=>m.compare(T,L)),R=S.useMemo(()=>{var L;if(h==null||!((L=h==null?void 0:h.to)!=null&&L.includes("selection")))return null;let ve=m.options.findIndex(Be=>I(Be.dataRef.current.value));return ve===-1&&(ve=0),ve},[h,m.options]),M=(()=>{if(h==null)return;if(R===null)return{...h,inner:void 0};let L=Array.from(m.listRef.current.values());return{...h,inner:{listRef:{current:L},index:R}}})(),[O,X]=lR(M),Z=aR(),re=rn(t,h?O:null,_.setOptionsElement,f),te=Bo();S.useEffect(()=>{var L;let ve=m.optionsElement;ve&&m.listboxState===0&&ve!==((L=jo(ve))==null?void 0:L.activeElement)&&(ve==null||ve.focus({preventScroll:!0}))},[m.listboxState,m.optionsElement]);let U=ce(L=>{var ve,Be;switch(te.dispose(),L.key){case Ie.Space:if(m.searchQuery!=="")return L.preventDefault(),L.stopPropagation(),_.search(L.key);case Ie.Enter:if(L.preventDefault(),L.stopPropagation(),m.activeOptionIndex!==null){let{dataRef:Re}=m.options[m.activeOptionIndex];_.onChange(Re.current.value)}m.mode===0&&(lt.flushSync(()=>_.closeListbox()),(ve=m.buttonElement)==null||ve.focus({preventScroll:!0}));break;case Wn(m.orientation,{vertical:Ie.ArrowDown,horizontal:Ie.ArrowRight}):return L.preventDefault(),L.stopPropagation(),_.goToOption(Ae.Next);case Wn(m.orientation,{vertical:Ie.ArrowUp,horizontal:Ie.ArrowLeft}):return L.preventDefault(),L.stopPropagation(),_.goToOption(Ae.Previous);case Ie.Home:case Ie.PageUp:return L.preventDefault(),L.stopPropagation(),_.goToOption(Ae.First);case Ie.End:case Ie.PageDown:return L.preventDefault(),L.stopPropagation(),_.goToOption(Ae.Last);case Ie.Escape:L.preventDefault(),L.stopPropagation(),lt.flushSync(()=>_.closeListbox()),(Be=m.buttonElement)==null||Be.focus({preventScroll:!0});return;case Ie.Tab:L.preventDefault(),L.stopPropagation(),lt.flushSync(()=>_.closeListbox()),MP(m.buttonElement,L.shiftKey?jl.Previous:jl.Next);break;default:L.key.length===1&&(_.search(L.key),te.setTimeout(()=>_.clearSearch(),350));break}}),q=(n=m.buttonElement)==null?void 0:n.id,N=S.useMemo(()=>({open:m.listboxState===0}),[m.listboxState]),le=mu(h?Z():{},{id:o,ref:re,"aria-activedescendant":m.activeOptionIndex===null||(r=m.options[m.activeOptionIndex])==null?void 0:r.id,"aria-multiselectable":m.mode===1?!0:void 0,"aria-labelledby":q,"aria-orientation":m.orientation,onKeyDown:U,role:"listbox",tabIndex:m.listboxState===0?0:void 0,style:{...d.style,...X,"--button-width":RP(m.buttonElement,!0).width},...BP(E)}),ue=dt();return Se.createElement(mR,{enabled:a?e.static||v:!1},Se.createElement(Xh.Provider,{value:m.mode===1?m:{...m,isSelected:I}},ue({ourProps:le,theirProps:d,slot:N,defaultTag:mH,features:gH,visible:P,name:"Listbox.Options"})))}let vH="div";function _H(e,t){let n=S.useId(),{id:r=`headlessui-listbox-option-${n}`,disabled:i=!1,value:o,...s}=e,a=S.useContext(vR)===!0,l=vu("Listbox.Option"),u=Qh("Listbox.Option"),d=l.activeOptionIndex!==null?l.options[l.activeOptionIndex].id===r:!1,h=l.isSelected(o),p=S.useRef(null),f=yR(p),m=ia({disabled:i,value:o,domRef:p,get textValue(){return f()}}),_=rn(t,p,T=>{T?l.listRef.current.set(r,T):l.listRef.current.delete(r)});Ke(()=>{if(!l.__demoMode&&l.listboxState===0&&d&&l.activationTrigger!==0)return Xn().requestAnimationFrame(()=>{var T,I;(I=(T=p.current)==null?void 0:T.scrollIntoView)==null||I.call(T,{block:"nearest"})})},[p,d,l.__demoMode,l.listboxState,l.activationTrigger,l.activeOptionIndex]),Ke(()=>{if(!a)return u.registerOption(r,m)},[m,r,a]);let x=ce(T=>{var I;if(i)return T.preventDefault();u.onChange(o),l.mode===0&&(lt.flushSync(()=>u.closeListbox()),(I=l.buttonElement)==null||I.focus({preventScroll:!0}))}),y=ce(()=>{if(i)return u.goToOption(Ae.Nothing);u.goToOption(Ae.Specific,r)}),v=jP(),E=ce(T=>{v.update(T),!i&&(d||u.goToOption(Ae.Specific,r,0))}),D=ce(T=>{v.wasMoved(T)&&(i||d||u.goToOption(Ae.Specific,r,0))}),F=ce(T=>{v.wasMoved(T)&&(i||d&&u.goToOption(Ae.Nothing))}),k=S.useMemo(()=>({active:d,focus:d,selected:h,disabled:i,selectedOption:h&&a}),[d,h,i,a]),P=a?{}:{id:r,ref:_,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":h,disabled:void 0,onClick:x,onFocus:y,onPointerEnter:E,onMouseEnter:E,onPointerMove:D,onMouseMove:D,onPointerLeave:F,onMouseLeave:F},A=dt();return!h&&a?null:A({ourProps:P,theirProps:s,slot:k,defaultTag:vH,name:"Listbox.Option"})}let wH=S.Fragment;function EH(e,t){let{options:n,placeholder:r,...i}=e,o={ref:rn(t)},s=vu("ListboxSelectedOption"),a=S.useMemo(()=>({}),[]),l=s.value===void 0||s.value===null||s.mode===1&&Array.isArray(s.value)&&s.value.length===0,u=dt();return Se.createElement(vR.Provider,{value:!0},u({ourProps:o,theirProps:{...i,children:Se.createElement(Se.Fragment,null,r&&l?r:n)},slot:a,defaultTag:wH,name:"ListboxSelectedOption"}))}let SH=ht(hH),_R=ht(pH),CH=s9,wR=ht(yH),ER=ht(_H),IH=ht(EH),xH=Object.assign(SH,{Button:_R,Label:CH,Options:wR,Option:ER,SelectedOption:IH});var AH=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(AH||{}),TH=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(TH||{}),PH=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetItemsElement=8]="SetItemsElement",e))(PH||{});function Ap(e,t=n=>n){let n=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,r=Kv(t(e.items.slice()),o=>o.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{items:r,activeItemIndex:i}}let RH={1(e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},0(e){return e.menuState===0?e:{...e,__demoMode:!1,menuState:0}},2:(e,t)=>{var n,r,i,o,s;if(e.menuState===1)return e;let a={...e,searchQuery:"",activationTrigger:(n=t.trigger)!=null?n:1,__demoMode:!1};if(t.focus===Ae.Nothing)return{...a,activeItemIndex:null};if(t.focus===Ae.Specific)return{...a,activeItemIndex:e.items.findIndex(d=>d.id===t.id)};if(t.focus===Ae.Previous){let d=e.activeItemIndex;if(d!==null){let h=e.items[d].dataRef.current.domRef,p=As(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled});if(p!==null){let f=e.items[p].dataRef.current.domRef;if(((r=h.current)==null?void 0:r.previousElementSibling)===f.current||((i=f.current)==null?void 0:i.previousElementSibling)===null)return{...a,activeItemIndex:p}}}}else if(t.focus===Ae.Next){let d=e.activeItemIndex;if(d!==null){let h=e.items[d].dataRef.current.domRef,p=As(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled});if(p!==null){let f=e.items[p].dataRef.current.domRef;if(((o=h.current)==null?void 0:o.nextElementSibling)===f.current||((s=f.current)==null?void 0:s.nextElementSibling)===null)return{...a,activeItemIndex:p}}}}let l=Ap(e),u=As(t,{resolveItems:()=>l.items,resolveActiveIndex:()=>l.activeItemIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled});return{...a,...l,activeItemIndex:u}},3:(e,t)=>{let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),i=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find(s=>{var a;return((a=s.dataRef.current.textValue)==null?void 0:a.startsWith(r))&&!s.dataRef.current.disabled}),o=i?e.items.indexOf(i):-1;return o===-1||o===e.activeItemIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeItemIndex:o,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,t)=>{let n=Ap(e,r=>[...r,{id:t.id,dataRef:t.dataRef}]);return{...e,...n}},6:(e,t)=>{let n=Ap(e,r=>{let i=r.findIndex(o=>o.id===t.id);return i!==-1&&r.splice(i,1),r});return{...e,...n,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.itemsElement===t.element?e:{...e,itemsElement:t.element}},n_=S.createContext(null);n_.displayName="MenuContext";function Yh(e){let t=S.useContext(n_);if(t===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Yh),n}return t}function bH(e,t){return Wn(t.type,RH,e,t)}let kH=S.Fragment;function DH(e,t){let{__demoMode:n=!1,...r}=e,i=S.useReducer(bH,{__demoMode:n,menuState:n?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:o,itemsElement:s,buttonElement:a},l]=i,u=rn(t);VP(o===0,[a,s],(m,_)=>{l({type:1}),zh(_,Bh.Loose)||(m.preventDefault(),a==null||a.focus())});let d=ce(()=>{l({type:1})}),h=S.useMemo(()=>({open:o===0,close:d}),[o,d]),p={ref:u},f=dt();return Se.createElement(uR,null,Se.createElement(n_.Provider,{value:i},Se.createElement(hR,{value:Wn(o,{0:zr.Open,1:zr.Closed})},f({ourProps:p,theirProps:r,slot:h,defaultTag:kH,name:"Menu"}))))}let OH="button";function NH(e,t){var n;let r=S.useId(),{id:i=`headlessui-menu-button-${r}`,disabled:o=!1,autoFocus:s=!1,...a}=e,[l,u]=Yh("Menu.Button"),d=sR(),h=rn(t,oR(),ce(P=>u({type:7,element:P}))),p=ce(P=>{switch(P.key){case Ie.Space:case Ie.Enter:case Ie.ArrowDown:P.preventDefault(),P.stopPropagation(),lt.flushSync(()=>u({type:0})),u({type:2,focus:Ae.First});break;case Ie.ArrowUp:P.preventDefault(),P.stopPropagation(),lt.flushSync(()=>u({type:0})),u({type:2,focus:Ae.Last});break}}),f=ce(P=>{switch(P.key){case Ie.Space:P.preventDefault();break}}),m=ce(P=>{var A;if(xP(P.currentTarget))return P.preventDefault();o||(l.menuState===0?(lt.flushSync(()=>u({type:1})),(A=l.buttonElement)==null||A.focus({preventScroll:!0})):(P.preventDefault(),u({type:0})))}),{isFocusVisible:_,focusProps:x}=Bv({autoFocus:s}),{isHovered:y,hoverProps:v}=jv({isDisabled:o}),{pressed:E,pressProps:D}=zv({disabled:o}),F=S.useMemo(()=>({open:l.menuState===0,active:E||l.menuState===0,disabled:o,hover:y,focus:_,autofocus:s}),[l,y,_,E,o,s]),k=mu(d(),{ref:h,id:i,type:UP(e,l.buttonElement),"aria-haspopup":"menu","aria-controls":(n=l.itemsElement)==null?void 0:n.id,"aria-expanded":l.menuState===0,disabled:o||void 0,autoFocus:s,onKeyDown:p,onKeyUp:f,onClick:m},x,v,D);return dt()({ourProps:k,theirProps:a,slot:F,defaultTag:OH,name:"Menu.Button"})}let LH="div",MH=$l.RenderStrategy|$l.Static;function FH(e,t){var n,r;let i=S.useId(),{id:o=`headlessui-menu-items-${i}`,anchor:s,portal:a=!1,modal:l=!0,transition:u=!1,...d}=e,h=iR(s),[p,f]=Yh("Menu.Items"),[m,_]=lR(h),x=aR(),[y,v]=S.useState(null),E=rn(t,h?m:null,ce(U=>f({type:8,element:U})),v),D=Wh(p.itemsElement);h&&(a=!0);let F=dR(),[k,P]=zP(u,y,F!==null?(F&zr.Open)===zr.Open:p.menuState===0);OP(k,p.buttonElement,()=>{f({type:1})});let A=p.__demoMode?!1:l&&p.menuState===0;$P(A,D);let T=p.__demoMode?!1:l&&p.menuState===0;DP(T,{allowed:S.useCallback(()=>[p.buttonElement,p.itemsElement],[p.buttonElement,p.itemsElement])});let I=p.menuState!==0,R=gR(I,p.buttonElement)?!1:k;S.useEffect(()=>{let U=p.itemsElement;U&&p.menuState===0&&U!==(D==null?void 0:D.activeElement)&&U.focus({preventScroll:!0})},[p.menuState,p.itemsElement,D]),L9(p.menuState===0,{container:p.itemsElement,accept(U){return U.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:U.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(U){U.setAttribute("role","none")}});let M=Bo(),O=ce(U=>{var q,N,le;switch(M.dispose(),U.key){case Ie.Space:if(p.searchQuery!=="")return U.preventDefault(),U.stopPropagation(),f({type:3,value:U.key});case Ie.Enter:if(U.preventDefault(),U.stopPropagation(),f({type:1}),p.activeItemIndex!==null){let{dataRef:ue}=p.items[p.activeItemIndex];(N=(q=ue.current)==null?void 0:q.domRef.current)==null||N.click()}LP(p.buttonElement);break;case Ie.ArrowDown:return U.preventDefault(),U.stopPropagation(),f({type:2,focus:Ae.Next});case Ie.ArrowUp:return U.preventDefault(),U.stopPropagation(),f({type:2,focus:Ae.Previous});case Ie.Home:case Ie.PageUp:return U.preventDefault(),U.stopPropagation(),f({type:2,focus:Ae.First});case Ie.End:case Ie.PageDown:return U.preventDefault(),U.stopPropagation(),f({type:2,focus:Ae.Last});case Ie.Escape:U.preventDefault(),U.stopPropagation(),lt.flushSync(()=>f({type:1})),(le=p.buttonElement)==null||le.focus({preventScroll:!0});break;case Ie.Tab:U.preventDefault(),U.stopPropagation(),lt.flushSync(()=>f({type:1})),MP(p.buttonElement,U.shiftKey?jl.Previous:jl.Next);break;default:U.key.length===1&&(f({type:3,value:U.key}),M.setTimeout(()=>f({type:4}),350));break}}),X=ce(U=>{switch(U.key){case Ie.Space:U.preventDefault();break}}),Z=S.useMemo(()=>({open:p.menuState===0}),[p.menuState]),re=mu(h?x():{},{"aria-activedescendant":p.activeItemIndex===null||(n=p.items[p.activeItemIndex])==null?void 0:n.id,"aria-labelledby":(r=p.buttonElement)==null?void 0:r.id,id:o,onKeyDown:O,onKeyUp:X,role:"menu",tabIndex:p.menuState===0?0:void 0,ref:E,style:{...d.style,..._,"--button-width":RP(p.buttonElement,!0).width},...BP(P)}),te=dt();return Se.createElement(mR,{enabled:a?e.static||k:!1},te({ourProps:re,theirProps:d,slot:Z,defaultTag:LH,features:MH,visible:R,name:"Menu.Items"}))}let VH=S.Fragment;function UH(e,t){let n=S.useId(),{id:r=`headlessui-menu-item-${n}`,disabled:i=!1,...o}=e,[s,a]=Yh("Menu.Item"),l=s.activeItemIndex!==null?s.items[s.activeItemIndex].id===r:!1,u=S.useRef(null),d=rn(t,u);Ke(()=>{if(!s.__demoMode&&s.menuState===0&&l&&s.activationTrigger!==0)return Xn().requestAnimationFrame(()=>{var R,M;(M=(R=u.current)==null?void 0:R.scrollIntoView)==null||M.call(R,{block:"nearest"})})},[s.__demoMode,u,l,s.menuState,s.activationTrigger,s.activeItemIndex]);let h=yR(u),p=S.useRef({disabled:i,domRef:u,get textValue(){return h()}});Ke(()=>{p.current.disabled=i},[p,i]),Ke(()=>(a({type:5,id:r,dataRef:p}),()=>a({type:6,id:r})),[p,r]);let f=ce(()=>{a({type:1})}),m=ce(R=>{if(i)return R.preventDefault();a({type:1}),LP(s.buttonElement)}),_=ce(()=>{if(i)return a({type:2,focus:Ae.Nothing});a({type:2,focus:Ae.Specific,id:r})}),x=jP(),y=ce(R=>{x.update(R),!i&&(l||a({type:2,focus:Ae.Specific,id:r,trigger:0}))}),v=ce(R=>{x.wasMoved(R)&&(i||l||a({type:2,focus:Ae.Specific,id:r,trigger:0}))}),E=ce(R=>{x.wasMoved(R)&&(i||l&&a({type:2,focus:Ae.Nothing}))}),[D,F]=Gv(),[k,P]=ZW(),A=S.useMemo(()=>({active:l,focus:l,disabled:i,close:f}),[l,i,f]),T={id:r,ref:d,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-labelledby":D,"aria-describedby":k,disabled:void 0,onClick:m,onFocus:_,onPointerEnter:y,onMouseEnter:y,onPointerMove:v,onMouseMove:v,onPointerLeave:E,onMouseLeave:E},I=dt();return Se.createElement(F,null,Se.createElement(P,null,I({ourProps:T,theirProps:o,slot:A,defaultTag:VH,name:"Menu.Item"})))}let $H="div";function jH(e,t){let[n,r]=Gv(),i=e,o={ref:t,"aria-labelledby":n,role:"group"},s=dt();return Se.createElement(r,null,s({ourProps:o,theirProps:i,slot:{},defaultTag:$H,name:"Menu.Section"}))}let BH="header";function zH(e,t){let n=S.useId(),{id:r=`headlessui-menu-heading-${n}`,...i}=e,o=Hv();Ke(()=>o.register(r),[r,o.register]);let s={id:r,ref:t,role:"presentation",...o.props};return dt()({ourProps:s,theirProps:i,slot:{},defaultTag:BH,name:"Menu.Heading"})}let WH="div";function HH(e,t){let n=e,r={ref:t,role:"separator"};return dt()({ourProps:r,theirProps:n,slot:{},defaultTag:WH,name:"Menu.Separator"})}let GH=ht(DH),SR=ht(NH),CR=ht(FH),Hc=ht(UH),qH=ht(jH),KH=ht(zH),QH=ht(HH),XH=Object.assign(GH,{Button:SR,Items:CR,Item:Hc,Section:qH,Heading:KH,Separator:QH});const YH=({conversations:e,onClick:t})=>{const{suggestMessage1:n,suggestMessage2:r,languageCode:i}=S.useContext(ta);return C.jsxs("div",{className:`flex justify-center gap-2 flex-wrap mt-0 md:mt-3 px-7 ${e.length===0?"block":"hidden"}`,children:[C.jsx(FS,{className:"template-question",value:n,onClick:t,children:i==="id"||i==="en"?`${n.substring(0,25)}...`:`${n.substring(0,10)}...`}),C.jsx(FS,{className:"template-question",value:r,onClick:t,children:i==="id"||i==="en"?`${n.substring(0,25)}...`:`${n.substring(0,10)}...`})]})};var JH={ACSetupSvcPort:"23210",ACSvcPort:"17532",ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\budik\\AppData\\Roaming",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_29048_POCUMDQMJUIBEPJW",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"ARLT0048",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_23616:"1",EnableLog:"WARNING",FLASK_APP:"main.py",GIT_ASKPASS:"c:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\budik",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\budik",INIT_CWD:"D:\\DATA\\GIT\\WIR\\ea.wirglobal.com",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\budik\\AppData\\Local",LOGONSERVER:"\\\\ARLT0048",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",npm_command:"run-script",npm_config_cache:"C:\\Users\\budik\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\budik\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\budik\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\budik\\.npm-init.js",npm_config_local_prefix:"D:\\DATA\\GIT\\WIR\\ea.wirglobal.com",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.9.2",npm_config_prefix:"C:\\Users\\budik\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\budik\\.npmrc",npm_config_user_agent:"npm/10.9.2 node/v22.14.0 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"vite build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"D:\\DATA\\GIT\\WIR\\ea.wirglobal.com\\package.json",npm_package_name:"wir-chat",npm_package_version:"0.0.0",NUMBER_OF_PROCESSORS:"16",OneDrive:"C:\\Users\\budik\\OneDrive",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"D:\\DATA\\GIT\\WIR\\ea.wirglobal.com\\node_modules\\.bin;D:\\DATA\\GIT\\WIR\\node_modules\\.bin;D:\\DATA\\GIT\\node_modules\\.bin;D:\\DATA\\node_modules\\.bin;D:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\ffmpeg\\bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\dotnet\\;C:\\Program Files\\PuTTY\\;C:\\Users\\budik\\AppData\\Local\\Programs\\Python\\Python310\\Scripts\\;C:\\Users\\budik\\AppData\\Local\\Programs\\Python\\Python310\\;C:\\Users\\budik\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\xampp\\php;C:\\ProgramData\\ComposerSetup\\bin;C:\\MinGW\\bin;C:\\Program Files\\Git\\cmd;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files\\NVIDIA Corporation\\NVIDIA app\\NvDLISR;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Docker\\Docker\\resources\\bin;C:\\Program Files\\nodejs\\;C:\\Users\\budik\\AppData\\Local\\Programs\\Python\\Python310\\Scripts\\;C:\\Users\\budik\\AppData\\Local\\Programs\\Python\\Python310\\;C:\\Users\\budik\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\budik\\AppData\\Roaming\\Composer\\vendor\\bin;C:\\Users\\budik\\.dotnet\\tools;C:\\flutter\\bin;C:\\Users\\budik\\AppData\\Roaming\\npm",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"AMD64 Family 25 Model 68 Stepping 1, AuthenticAMD",PROCESSOR_LEVEL:"25",PROCESSOR_REVISION:"4401",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\budik\\OneDrive\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",REACT_APP_BACKEND_URL:"backend-url",REACT_APP_CURRENT_VERSION:"current-version",REACT_APP_FIREBASE_API_KEY:"AIzaSyDoyWyWKSk_8ovvS8_0d1A64DIRVhsEPdE",REACT_APP_FIREBASE_APP_ID:"1:279788642755:web:61bafae06f7d1932765d76",REACT_APP_FIREBASE_AUTH_DOMAIN:"wirchat-22331.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-97GNX3XH66",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"279788642755",REACT_APP_FIREBASE_PROJECT_ID:"wirchat-22331",REACT_APP_FIREBASE_STORAGE_BUCKET:"wirchat-22331.firebasestorage.app",RlsSvcPort:"22112",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\budik\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.98.2",TMP:"C:\\Users\\budik\\AppData\\Local\\Temp",USERDOMAIN:"ARLT0048",USERDOMAIN_ROAMINGPROFILE:"ARLT0048",USERNAME:"budik",USERPROFILE:"C:\\Users\\budik",VBOX_HWVIRTEX_IGNORE_SVM_IN_USE:"1",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-ac8c3e907a-sock",VSCODE_INJECTION:"1",VSCODE_NONCE:"bce40833-b57a-4fe9-bb46-50437c202ead",VSCODE_STABLE:"1",windir:"C:\\WINDOWS"};const ZH=({conversations:e,setConversations:t})=>{const[n,r]=S.useState(!1),[i,o]=S.useState(()=>localStorage.getItem("sessionId")||""),[s,a]=S.useState(""),{errorMessage:l,loadingText:u,changeLanguage:d,languageSelectedCollection:h,languageDbLocation:p}=S.useContext(ta),f=S.useRef(null),m=S.useRef(null),_=async()=>{const P={isUser:!0,text:s.replace(/\n\n/gi,`&nbsp; 
`)};t(te=>[...te,P]);let A=localStorage.getItem("sessionId");const T=localStorage.getItem("languageCode"),I=localStorage.getItem("selectedCollection"),R=localStorage.getItem("dbLocation");A||(A=cW(),localStorage.setItem("sessionId",A));const M={message:s,session_id:A,language:T,db_location:R,collection_name:I};r(!0);const X=await(await fetch(`${JH.REACT_APP_BACKEND_URL}/generate-text`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(M)})).json();r(!1),!A&&M.session_id&&o(M.session_id);let Z;try{Z=X.data.outputs[0].outputs[0].results.message.data.text.replace(/\n\n/gi,`&nbsp; 

`)}catch{Z=l}const re={isUser:!1,text:Z};t(te=>[...te,re]),o(A)},x=k=>{k.preventDefault(),_()},y=k=>{a(k.target.value)},v=k=>{k.key==="Enter"&!k.shiftkey&&(k.preventDefault(),s&&_())},E=k=>{k.preventDefault(),a(k.target.value)},D=()=>{var k;(k=f.current)==null||k.scrollIntoView({behaviour:"smooth"})},F=()=>{var k;(k=m.current)==null||k.scrollIntoView({behaviour:"smooth"})};return S.useEffect(()=>{localStorage.setItem("conversations",JSON.stringify(e)),localStorage.setItem("sessionId",i)},[e,i]),S.useEffect(()=>{n?(D(),a("")):F()}),S.useEffect(()=>{const k=document.querySelector("#messageInputTextareaComponent");k.style.height="3rem",k.style.height=`${k.scrollHeight}px`},[s]),S.useEffect(()=>{const k=localStorage.getItem("languageCode")||"id";d(k)},[d]),C.jsxs("div",{className:`flex flex-col ${e.length==0?"my-auto":"flex-grow"}`,children:[C.jsx(T4,{conversations:e}),C.jsxs("div",{className:`${e.length===0?"hidden":"flex mt-10"}  flex-col chat-area flex-grow px-7 gap-10 sm:px-28 xl:px-56`,children:[e.map((k,P)=>C.jsx("div",{className:k.isUser?"ml-auto bg-slate-100 py-2 px-4 rounded-2xl":"bot-message",children:k.isUser?C.jsx(IS,{remarkPlugins:[DS,OS],children:k.text}):C.jsxs(C.Fragment,{children:[C.jsx(IS,{remarkPlugins:[DS,OS],children:k.text}),C.jsx("div",{ref:m})]})},P)),n&&C.jsx(C.Fragment,{children:C.jsxs("div",{className:"bot-message",ref:f,children:[u,"."]})})]}),C.jsx(x4,{onSendMessageClick:x,onMessageChange:y,onEnterKeyDown:v,conversations:e,inputValue:s}),C.jsx(YH,{conversations:e,onClick:E})]})},e7="/flag/china.png",t7="/flag/flag.png",n7="/flag/japan.png",r7="/flag/united-kingdom.png";function i7(){const{startNewChatButtonText:e,startNewChatConfirmationText:t}=S.useContext(ta),n=a=>{a.preventDefault(),window.confirm(`${t}`)&&(localStorage.removeItem("conversations"),localStorage.removeItem("sessionId"),window.location.reload())},r=[{imageSize:"25px",flag:t7,name:"Indonesian",code:"id"},{imageSize:"25px",flag:e7,name:"Chinese",code:"zhCn"},{imageSize:"25px",flag:n7,name:"Japanese",code:"ja"},{imageSize:"25px",flag:r7,name:"English",code:"en"}],[i,o]=S.useState(()=>{const a=localStorage.getItem("languageCode");return r.find(l=>l.code===a)||r[0]});S.useState(null);const s=async a=>{if(a!==i&&window.confirm(`${t}`)){localStorage.removeItem("conversations"),localStorage.removeItem("sessionId"),localStorage.removeItem("languageCode"),localStorage.removeItem("selectedCollection"),localStorage.removeItem("dbLocaion"),o(a);const u=await tT(a.code),d=u[0].selected_collection,h=u[0].db_location;localStorage.setItem("languageCode",a.code),localStorage.setItem("selectedCollection",d),localStorage.setItem("dbLocaion",h),window.location.reload()}};return C.jsx(C.Fragment,{children:C.jsx("div",{className:"sticky top-0 z-10 px-5 py-5 bg-white border border-b-gray-300 md:px-20 ",children:C.jsxs("div",{className:"container flex mx-auto",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("img",{src:nT,className:"w-14"}),C.jsx("div",{className:"hidden md:block",children:"WIR Chat"})]}),C.jsxs("div",{className:"flex items-center gap-1 ms-auto",children:[C.jsx("div",{className:"",children:C.jsx(xH,{value:i,onChange:s,children:C.jsxs("div",{className:"relative",children:[C.jsx(_R,{className:"px-4 py-2 bg-gray-200 rounded-md",children:C.jsxs("div",{className:"flex gap-1",children:[C.jsx("img",{src:i.flag,width:i.imageSize}),C.jsx("div",{className:"hidden md:block",children:i.name})]})}),C.jsx(wR,{className:"absolute z-50 mt-1 overflow-auto bg-white rounded-md shadow-lg min-w-48",children:r.map((a,l)=>C.jsx(ER,{value:a,className:({active:u,selected:d})=>`${u?"text-white bg-red-500":""} ${d?"font-semibold":""} cursor-pointer select-none relative py-2 pl-10 pr-4`,children:({selected:u})=>C.jsxs(C.Fragment,{children:[u&&C.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:C.jsx("svg",{className:"w-5 h-5 text-red-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:C.jsx("path",{fillRule:"evenodd",d:"M16.293 4.293a1 1 0 0 1 1.414 1.414l-9 9a1 1 0 0 1-1.414-1.414l9-9z",clipRule:"evenodd"})})}),C.jsxs("div",{className:"flex gap-1",children:[C.jsx("img",{src:a.flag,width:a.imageSize}),C.jsx("div",{className:"",children:a.name})]})]})},l))})]})})}),C.jsx("button",{onClick:n,className:"px-5 py-2 text-white bg-black rounded-md hover:bg-gray-900 hover:cursor-pointer",children:e})]})]})})})}var o7={ACSetupSvcPort:"23210",ACSvcPort:"17532",ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\budik\\AppData\\Roaming",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_29048_POCUMDQMJUIBEPJW",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"ARLT0048",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_23616:"1",EnableLog:"WARNING",FLASK_APP:"main.py",GIT_ASKPASS:"c:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\budik",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\budik",INIT_CWD:"D:\\DATA\\GIT\\WIR\\ea.wirglobal.com",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\budik\\AppData\\Local",LOGONSERVER:"\\\\ARLT0048",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",npm_command:"run-script",npm_config_cache:"C:\\Users\\budik\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\budik\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\budik\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\budik\\.npm-init.js",npm_config_local_prefix:"D:\\DATA\\GIT\\WIR\\ea.wirglobal.com",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.9.2",npm_config_prefix:"C:\\Users\\budik\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\budik\\.npmrc",npm_config_user_agent:"npm/10.9.2 node/v22.14.0 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"vite build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"D:\\DATA\\GIT\\WIR\\ea.wirglobal.com\\package.json",npm_package_name:"wir-chat",npm_package_version:"0.0.0",NUMBER_OF_PROCESSORS:"16",OneDrive:"C:\\Users\\budik\\OneDrive",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"D:\\DATA\\GIT\\WIR\\ea.wirglobal.com\\node_modules\\.bin;D:\\DATA\\GIT\\WIR\\node_modules\\.bin;D:\\DATA\\GIT\\node_modules\\.bin;D:\\DATA\\node_modules\\.bin;D:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\ffmpeg\\bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\dotnet\\;C:\\Program Files\\PuTTY\\;C:\\Users\\budik\\AppData\\Local\\Programs\\Python\\Python310\\Scripts\\;C:\\Users\\budik\\AppData\\Local\\Programs\\Python\\Python310\\;C:\\Users\\budik\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\xampp\\php;C:\\ProgramData\\ComposerSetup\\bin;C:\\MinGW\\bin;C:\\Program Files\\Git\\cmd;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files\\NVIDIA Corporation\\NVIDIA app\\NvDLISR;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Docker\\Docker\\resources\\bin;C:\\Program Files\\nodejs\\;C:\\Users\\budik\\AppData\\Local\\Programs\\Python\\Python310\\Scripts\\;C:\\Users\\budik\\AppData\\Local\\Programs\\Python\\Python310\\;C:\\Users\\budik\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\budik\\AppData\\Roaming\\Composer\\vendor\\bin;C:\\Users\\budik\\.dotnet\\tools;C:\\flutter\\bin;C:\\Users\\budik\\AppData\\Roaming\\npm",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"AMD64 Family 25 Model 68 Stepping 1, AuthenticAMD",PROCESSOR_LEVEL:"25",PROCESSOR_REVISION:"4401",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\budik\\OneDrive\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",REACT_APP_BACKEND_URL:"backend-url",REACT_APP_CURRENT_VERSION:"current-version",REACT_APP_FIREBASE_API_KEY:"AIzaSyDoyWyWKSk_8ovvS8_0d1A64DIRVhsEPdE",REACT_APP_FIREBASE_APP_ID:"1:279788642755:web:61bafae06f7d1932765d76",REACT_APP_FIREBASE_AUTH_DOMAIN:"wirchat-22331.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-97GNX3XH66",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"279788642755",REACT_APP_FIREBASE_PROJECT_ID:"wirchat-22331",REACT_APP_FIREBASE_STORAGE_BUCKET:"wirchat-22331.firebasestorage.app",RlsSvcPort:"22112",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\budik\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.98.2",TMP:"C:\\Users\\budik\\AppData\\Local\\Temp",USERDOMAIN:"ARLT0048",USERDOMAIN_ROAMINGPROFILE:"ARLT0048",USERNAME:"budik",USERPROFILE:"C:\\Users\\budik",VBOX_HWVIRTEX_IGNORE_SVM_IN_USE:"1",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-ac8c3e907a-sock",VSCODE_INJECTION:"1",VSCODE_NONCE:"bce40833-b57a-4fe9-bb46-50437c202ead",VSCODE_STABLE:"1",windir:"C:\\WINDOWS"};const s7=()=>C.jsxs("div",{className:"fixed bottom-0 w-full text-center mt-auto bg-white",children:["v.",o7.REACT_APP_CURRENT_VERSION]}),a7=({children:e})=>C.jsxs("div",{className:"container-fluid flex flex-col min-h-screen mx-auto",children:[C.jsx(i7,{}),e,C.jsx(s7,{})]});function l7(){const[e,t]=S.useState(()=>{const n=localStorage.getItem("conversations");return n?JSON.parse(n):[]});return C.jsx(C.Fragment,{children:C.jsx(a7,{children:C.jsx(ZH,{conversations:e,setConversations:t})})})}const u7="/logo-full.png",c7=({className:e})=>C.jsx("img",{src:u7,className:e}),d7="/gear-solid.svg",IR=async()=>{try{const e=Ah(Dn,"users");return(await cv(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error fetching languages:",e.message),new Error("Failed to connect to the database. Please try again later")}},h7=async(e,t)=>{try{const n=Ki(Dn,"users",e);await dv(n,{role:t})}catch(n){throw console.error("Failed to change user role"+n.message),new Error("Failed to change user role"+n.message)}},oC=async(e,t)=>{try{const n=!t,r=Ki(Dn,"users",e);await dv(r,{is_active:n})}catch(n){throw console.error("Error change user active status",n.message),new Error("Failed to change user active status"+n.message)}},f7=async e=>{try{const t=Ki(Dn,"users",e);await iV(t)}catch(t){throw console.error("Error delete user",t.message),new Error("Failed to delete user"+t.message)}},p7=async e=>(await IR()).map(i=>i.email).includes(e),m7=async()=>{const t=br.currentUser.uid;return(await lv(Ki(Dn,"users",t))).data().role},g7=async(e,t,n,r)=>{try{const i=br.currentUser;if(!i)throw new Error("Admin not logged in");const o=Uo.credential(i.email,r);await rU(i,o);const s=await oU(br,e,t),a=s.user.uid;await rV(Ki(Dn,"users",s.user.uid),{email:e,role:n,createdAt:new Date,is_active:!0}),await zA(br),await BA(br,i.email,r),window.location.href="/dashboard/users"}catch(i){throw console.error("Error registering user:",i.message),new Error(i.message||"User creation failed.")}},r_=S.createContext();function Wr(){return S.useContext(r_)}function y7({children:e}){const[t,n]=S.useState(null),[r,i]=S.useState(""),[o,s]=S.useState(!0);return S.useEffect(()=>{const a=lU(br,async l=>{if(l){const u=Ki(Dn,"users",l.uid),d=await lv(u);if(d.exists()){const h=d.data(),p={...l,role:h.role,email:l.email||h.email};n(p)}else n(l)}else n(null);s(!1)});return()=>a()},[]),C.jsxs(r_.Provider,{value:{user:t,setUser:n,loading:o,currentUserRole:r,setCurrentUserRole:i},children:[o?C.jsx("p",{children:"Loading..."}):e," "]})}const _u=({children:e})=>{const[t,n]=S.useState(!1),{currentUserRole:r,setCurrentUserRole:i}=Wr(),[o,s]=S.useState(()=>JSON.parse(localStorage.getItem("openSidebarMenu"))||["dashboardMenu"]),[a,l]=S.useState(!0),[u,d]=S.useState(!1),[h,p]=S.useState(""),{user:f}=Wr();S.useEffect(()=>{(async()=>{try{const D=await m7();i(D)}catch(D){console.error("Error fetching user role:",D)}})()},[]);const m=Lo(),_=()=>{confirm("Are you sure?")&&zA(br).then(()=>{m("/"),alert("Success Logout")}).catch(D=>{console.log(D)})};S.useEffect(()=>{const E=()=>{d(window.innerWidth<768),window.innerWidth<768?l(!1):l(!0)};return E(),window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]),S.useEffect(()=>{const E=window.location.pathname;p(E)},[]);const x=()=>{n(!t)},y=()=>{l(!a)},v=E=>{s(D=>{const F=D.includes(E)?D.filter(k=>k!==E):[...D,E];return localStorage.setItem("openSidebarMenu",JSON.stringify(F)),F})};return C.jsxs("div",{className:"relative flex min-h-screen",children:[u&&a&&C.jsx("div",{className:"fixed inset-0 z-20 bg-black/50",onClick:y}),C.jsxs("div",{className:`
          w-64 bg-white shadow-md
          ${u?`fixed inset-y-0 left-0 z-30 transform transition-transform duration-300 ease-in-out ${a?"translate-x-0":"-translate-x-full"}`:`relative ${a?"":"hidden"}`}
        `,children:[C.jsx("div",{className:"p-4 border-b",children:C.jsx("div",{className:"flex items-center justify-center h-16 md:h-24",children:C.jsx(c7,{className:"h-20"})})}),C.jsx("nav",{children:C.jsx("ul",{className:"mt-2 mb-2 space-y-1 ps-0",children:C.jsx("li",{className:"w-full",children:C.jsx(ir,{to:"/dashboard",className:`block px-8 py-2 ${h==="/dashboard"?"text-black":"text-gray-700"} transition-colors rounded hover:bg-gray-200`,children:"Dashboard"})})})}),C.jsxs("div",{className:"flex flex-col gap- 0 px-4",children:[C.jsxs("nav",{className:"",children:[C.jsxs("button",{className:"text-white bg-[#333A48] w-full py-2 rounded flex justify-between px-5 items-center",onClick:()=>v("dashboardMenu"),children:[C.jsx("span",{children:"Main Menu"}),C.jsx("i",{className:`fa-solid fa-chevron-up transition-transform duration-200 ${o.indexOf("dashboardMenu")!==-1?"rotate-180":"rotate-0"}`})]}),C.jsx("div",{children:C.jsxs("ul",{className:`mt-2 ps-0 space-y-1 transition-all duration-200 list-none ${o.indexOf("dashboardMenu")!==-1?"max-h-48":"max-h-0 overflow-hidden"}`,children:[C.jsx("li",{className:"w-full",children:C.jsx(ir,{to:"/dashboard/languages",className:`block px-4 py-2 ${h==="/dashboard/languages"?"text-black":"text-gray-700"} transition-colors rounded hover:bg-gray-200`,children:"Languages"})}),C.jsx("li",{className:"w-full",children:C.jsx(ir,{to:"/dashboard/collections",className:`block px-4 py-2 ${h==="/dashboard/collections"?"text-black":"text-gray-700"} transition-colors rounded hover:bg-gray-200`,children:"Collections"})})]})})]}),r==="superadmin"&&C.jsxs("nav",{className:"",children:[C.jsxs("button",{className:"text-white bg-[#333A48] w-full py-2 rounded flex justify-between px-5 items-center",onClick:()=>v("userManagementMenu"),children:[C.jsx("span",{children:"Users Management"}),C.jsx("i",{className:`fa-solid fa-chevron-up transition-transform duration-200 ${o.indexOf("userManagementMenu")!==-1?"rotate-180":"rotate-0"}`})]}),C.jsx("div",{children:C.jsx("ul",{className:`mt-2 ps-0 space-y-1 transition-all duration-200 list-none ${o.indexOf("userManagementMenu")!==-1?"max-h-48":"max-h-0 overflow-hidden"}`,children:C.jsx("li",{className:"w-full",children:C.jsx(ir,{to:"/dashboard/users",className:`block px-4 py-2 ${h==="/dashboard/users"?"text-black":"text-gray-700"} transition-colors rounded hover:bg-gray-200`,children:"Users"})})})})]})]})]}),C.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[C.jsxs("header",{className:"sticky top-0 z-10 flex items-center justify-between px-4 py-4 bg-white shadow-md md:px-6",children:[C.jsx("div",{children:C.jsx("button",{className:"p-2 rounded hover:bg-gray-100",onClick:y,"aria-label":"Toggle sidebar",children:C.jsx("i",{className:`fa-solid fa-arrow-right transition-transform ${a?"rotate-180":"rotate-0"}`})})}),C.jsxs("div",{className:"relative",children:[C.jsx("div",{className:"flex justify-end hover:cursor-pointer",onClick:x,children:C.jsx("img",{src:d7,alt:"",className:`w-5 h-5 transition-transform duration-300 ${t?"rotate-45":"-rotate-45"}`})}),t&&C.jsx("div",{className:"absolute right-0 w-48 mt-2 bg-white border rounded shadow-lg",children:C.jsxs("ul",{className:"py-1 list-none ps-0",children:[C.jsx("li",{className:"block px-4 py-2 text-gray-700 transition-colors hover:bg-gray-200 hover:cursor-pointer",children:C.jsx(ir,{to:`/dashboard/users/${f.uid}`,children:"Profil"})}),C.jsx("li",{className:"block px-4 py-2 text-gray-700 transition-colors hover:bg-gray-200 hover:cursor-pointer",onClick:()=>_(),children:C.jsx("button",{children:"Logout"})})]})})]})]}),C.jsx("main",{className:"flex-1 min-w-0 p-4 bg-gray-50 md:p-6",children:e})]})]})},v7=({name:e})=>C.jsx("h1",{className:"text-xl font-medium md:text-3xl",children:e}),_7=({path:e})=>C.jsx("div",{children:e.map((t,n)=>C.jsxs("span",{className:"inline-block",children:[C.jsx(ir,{to:t.path,className:`capitalize hover:underline ${n===e.length-1?"text-[#3C50E0]":"text-[#64748B]"}`,children:t.name}),n<e.length-1&&C.jsx("span",{className:"mx-2 text-gray-500",children:"/"})]},n))}),wu=({name:e,breadcrumbPath:t})=>C.jsxs("div",{className:"items-center justify-between block mt-5 md:flex",children:[C.jsx(v7,{name:e}),C.jsx("div",{children:C.jsx(_7,{path:t})})]}),w7=()=>{const{user:e,setUser:t,loading:n}=Wr(),r=[{name:"Dashboard",path:"/dashboard"}];return C.jsxs(_u,{children:[C.jsx(wu,{name:"Dashboard",breadcrumbPath:r}),C.jsx("div",{className:"mt-14",children:C.jsxs("h1",{className:"text-xl",children:["Halo, ",n?"...":e.email]})})]})};/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function yi(e,t){return typeof e=="function"?e(t):e}function vn(e,t){return n=>{t.setState(r=>({...r,[e]:yi(n,r[e])}))}}function Jh(e){return e instanceof Function}function E7(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function S7(e,t){const n=[],r=i=>{i.forEach(o=>{n.push(o);const s=t(o);s!=null&&s.length&&r(s)})};return r(e),n}function oe(e,t,n){let r=[],i;return o=>{let s;n.key&&n.debug&&(s=Date.now());const a=e(o);if(!(a.length!==r.length||a.some((d,h)=>r[h]!==d)))return i;r=a;let u;if(n.key&&n.debug&&(u=Date.now()),i=t(...a),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const d=Math.round((Date.now()-s)*100)/100,h=Math.round((Date.now()-u)*100)/100,p=h/16,f=(m,_)=>{for(m=String(m);m.length<_;)m=" "+m;return m};console.info(`%c ${f(h,5)} /${f(d,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*p,120))}deg 100% 31%);`,n==null?void 0:n.key)}return i}}function se(e,t,n,r){return{debug:()=>{var i;return(i=e==null?void 0:e.debugAll)!=null?i:e[t]},key:!1,onChange:r}}function C7(e,t,n,r){const i=()=>{var s;return(s=o.getValue())!=null?s:e.options.renderFallbackValue},o={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:i,getContext:oe(()=>[e,n,t,o],(s,a,l,u)=>({table:s,column:a,row:l,cell:u,getValue:u.getValue,renderValue:u.renderValue}),se(e.options,"debugCells"))};return e._features.forEach(s=>{s.createCell==null||s.createCell(o,n,t,e)},{}),o}function I7(e,t,n,r){var i,o;const a={...e._getDefaultColumnDef(),...t},l=a.accessorKey;let u=(i=(o=a.id)!=null?o:l?typeof String.prototype.replaceAll=="function"?l.replaceAll(".","_"):l.replace(/\./g,"_"):void 0)!=null?i:typeof a.header=="string"?a.header:void 0,d;if(a.accessorFn?d=a.accessorFn:l&&(l.includes(".")?d=p=>{let f=p;for(const _ of l.split(".")){var m;f=(m=f)==null?void 0:m[_]}return f}:d=p=>p[a.accessorKey]),!u)throw new Error;let h={id:`${String(u)}`,accessorFn:d,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:oe(()=>[!0],()=>{var p;return[h,...(p=h.columns)==null?void 0:p.flatMap(f=>f.getFlatColumns())]},se(e.options,"debugColumns")),getLeafColumns:oe(()=>[e._getOrderColumnsFn()],p=>{var f;if((f=h.columns)!=null&&f.length){let m=h.columns.flatMap(_=>_.getLeafColumns());return p(m)}return[h]},se(e.options,"debugColumns"))};for(const p of e._features)p.createColumn==null||p.createColumn(h,e);return h}const kt="debugHeaders";function sC(e,t,n){var r;let o={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const s=[],a=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(a),s.push(l)};return a(o),s},getContext:()=>({table:e,header:o,column:t})};return e._features.forEach(s=>{s.createHeader==null||s.createHeader(o,e)}),o}const x7={createTable:e=>{e.getHeaderGroups=oe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>{var o,s;const a=(o=r==null?void 0:r.map(h=>n.find(p=>p.id===h)).filter(Boolean))!=null?o:[],l=(s=i==null?void 0:i.map(h=>n.find(p=>p.id===h)).filter(Boolean))!=null?s:[],u=n.filter(h=>!(r!=null&&r.includes(h.id))&&!(i!=null&&i.includes(h.id)));return mc(t,[...a,...u,...l],e)},se(e.options,kt)),e.getCenterHeaderGroups=oe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>(n=n.filter(o=>!(r!=null&&r.includes(o.id))&&!(i!=null&&i.includes(o.id))),mc(t,n,e,"center")),se(e.options,kt)),e.getLeftHeaderGroups=oe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var i;const o=(i=r==null?void 0:r.map(s=>n.find(a=>a.id===s)).filter(Boolean))!=null?i:[];return mc(t,o,e,"left")},se(e.options,kt)),e.getRightHeaderGroups=oe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var i;const o=(i=r==null?void 0:r.map(s=>n.find(a=>a.id===s)).filter(Boolean))!=null?i:[];return mc(t,o,e,"right")},se(e.options,kt)),e.getFooterGroups=oe(()=>[e.getHeaderGroups()],t=>[...t].reverse(),se(e.options,kt)),e.getLeftFooterGroups=oe(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),se(e.options,kt)),e.getCenterFooterGroups=oe(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),se(e.options,kt)),e.getRightFooterGroups=oe(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),se(e.options,kt)),e.getFlatHeaders=oe(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),se(e.options,kt)),e.getLeftFlatHeaders=oe(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),se(e.options,kt)),e.getCenterFlatHeaders=oe(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),se(e.options,kt)),e.getRightFlatHeaders=oe(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),se(e.options,kt)),e.getCenterLeafHeaders=oe(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),se(e.options,kt)),e.getLeftLeafHeaders=oe(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),se(e.options,kt)),e.getRightLeafHeaders=oe(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),se(e.options,kt)),e.getLeafHeaders=oe(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var i,o,s,a,l,u;return[...(i=(o=t[0])==null?void 0:o.headers)!=null?i:[],...(s=(a=n[0])==null?void 0:a.headers)!=null?s:[],...(l=(u=r[0])==null?void 0:u.headers)!=null?l:[]].map(d=>d.getLeafHeaders()).flat()},se(e.options,kt))}};function mc(e,t,n,r){var i,o;let s=0;const a=function(p,f){f===void 0&&(f=1),s=Math.max(s,f),p.filter(m=>m.getIsVisible()).forEach(m=>{var _;(_=m.columns)!=null&&_.length&&a(m.columns,f+1)},0)};a(e);let l=[];const u=(p,f)=>{const m={depth:f,id:[r,`${f}`].filter(Boolean).join("_"),headers:[]},_=[];p.forEach(x=>{const y=[..._].reverse()[0],v=x.column.depth===m.depth;let E,D=!1;if(v&&x.column.parent?E=x.column.parent:(E=x.column,D=!0),y&&(y==null?void 0:y.column)===E)y.subHeaders.push(x);else{const F=sC(n,E,{id:[r,f,E.id,x==null?void 0:x.id].filter(Boolean).join("_"),isPlaceholder:D,placeholderId:D?`${_.filter(k=>k.column===E).length}`:void 0,depth:f,index:_.length});F.subHeaders.push(x),_.push(F)}m.headers.push(x),x.headerGroup=m}),l.push(m),f>0&&u(_,f-1)},d=t.map((p,f)=>sC(n,p,{depth:s,index:f}));u(d,s-1),l.reverse();const h=p=>p.filter(m=>m.column.getIsVisible()).map(m=>{let _=0,x=0,y=[0];m.subHeaders&&m.subHeaders.length?(y=[],h(m.subHeaders).forEach(E=>{let{colSpan:D,rowSpan:F}=E;_+=D,y.push(F)})):_=1;const v=Math.min(...y);return x=x+v,m.colSpan=_,m.rowSpan=x,{colSpan:_,rowSpan:x}});return h((i=(o=l[0])==null?void 0:o.headers)!=null?i:[]),l}const A7=(e,t,n,r,i,o,s)=>{let a={id:t,index:r,original:n,depth:i,parentId:s,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(a._valuesCache.hasOwnProperty(l))return a._valuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return a._valuesCache[l]=u.accessorFn(a.original,r),a._valuesCache[l]},getUniqueValues:l=>{if(a._uniqueValuesCache.hasOwnProperty(l))return a._uniqueValuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(a._uniqueValuesCache[l]=u.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[l]):(a._uniqueValuesCache[l]=[a.getValue(l)],a._uniqueValuesCache[l])},renderValue:l=>{var u;return(u=a.getValue(l))!=null?u:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>S7(a.subRows,l=>l.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let l=[],u=a;for(;;){const d=u.getParentRow();if(!d)break;l.push(d),u=d}return l.reverse()},getAllCells:oe(()=>[e.getAllLeafColumns()],l=>l.map(u=>C7(e,a,u,u.id)),se(e.options,"debugRows")),_getAllCellsByColumnId:oe(()=>[a.getAllCells()],l=>l.reduce((u,d)=>(u[d.column.id]=d,u),{}),se(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const u=e._features[l];u==null||u.createRow==null||u.createRow(a,e)}return a},T7={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},xR=(e,t,n)=>{var r,i;const o=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((i=e.getValue(t))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(o))};xR.autoRemove=e=>Hn(e);const AR=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};AR.autoRemove=e=>Hn(e);const TR=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};TR.autoRemove=e=>Hn(e);const PR=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};PR.autoRemove=e=>Hn(e)||!(e!=null&&e.length);const RR=(e,t,n)=>!n.some(r=>{var i;return!((i=e.getValue(t))!=null&&i.includes(r))});RR.autoRemove=e=>Hn(e)||!(e!=null&&e.length);const bR=(e,t,n)=>n.some(r=>{var i;return(i=e.getValue(t))==null?void 0:i.includes(r)});bR.autoRemove=e=>Hn(e)||!(e!=null&&e.length);const kR=(e,t,n)=>e.getValue(t)===n;kR.autoRemove=e=>Hn(e);const DR=(e,t,n)=>e.getValue(t)==n;DR.autoRemove=e=>Hn(e);const i_=(e,t,n)=>{let[r,i]=n;const o=e.getValue(t);return o>=r&&o<=i};i_.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,i=typeof n!="number"?parseFloat(n):n,o=t===null||Number.isNaN(r)?-1/0:r,s=n===null||Number.isNaN(i)?1/0:i;if(o>s){const a=o;o=s,s=a}return[o,s]};i_.autoRemove=e=>Hn(e)||Hn(e[0])&&Hn(e[1]);const Cr={includesString:xR,includesStringSensitive:AR,equalsString:TR,arrIncludes:PR,arrIncludesAll:RR,arrIncludesSome:bR,equals:kR,weakEquals:DR,inNumberRange:i_};function Hn(e){return e==null||e===""}const P7={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:vn("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?Cr.includesString:typeof r=="number"?Cr.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Cr.equals:Array.isArray(r)?Cr.arrIncludes:Cr.weakEquals},e.getFilterFn=()=>{var n,r;return Jh(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:Cr[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,i;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const i=e.getFilterFn(),o=r==null?void 0:r.find(d=>d.id===e.id),s=yi(n,o?o.value:void 0);if(aC(i,s,e)){var a;return(a=r==null?void 0:r.filter(d=>d.id!==e.id))!=null?a:[]}const l={id:e.id,value:s};if(o){var u;return(u=r==null?void 0:r.map(d=>d.id===e.id?l:d))!=null?u:[]}return r!=null&&r.length?[...r,l]:[l]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=i=>{var o;return(o=yi(t,i))==null?void 0:o.filter(s=>{const a=n.find(l=>l.id===s.id);if(a){const l=a.getFilterFn();if(aC(l,s.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function aC(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const R7=(e,t,n)=>n.reduce((r,i)=>{const o=i.getValue(e);return r+(typeof o=="number"?o:0)},0),b7=(e,t,n)=>{let r;return n.forEach(i=>{const o=i.getValue(e);o!=null&&(r>o||r===void 0&&o>=o)&&(r=o)}),r},k7=(e,t,n)=>{let r;return n.forEach(i=>{const o=i.getValue(e);o!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}),r},D7=(e,t,n)=>{let r,i;return n.forEach(o=>{const s=o.getValue(e);s!=null&&(r===void 0?s>=s&&(r=i=s):(r>s&&(r=s),i<s&&(i=s)))}),[r,i]},O7=(e,t)=>{let n=0,r=0;if(t.forEach(i=>{let o=i.getValue(e);o!=null&&(o=+o)>=o&&(++n,r+=o)}),n)return r/n},N7=(e,t)=>{if(!t.length)return;const n=t.map(o=>o.getValue(e));if(!E7(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((o,s)=>o-s);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},L7=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),M7=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,F7=(e,t)=>t.length,Tp={sum:R7,min:b7,max:k7,extent:D7,mean:O7,median:N7,unique:L7,uniqueCount:M7,count:F7},V7={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:vn("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return Tp.sum;if(Object.prototype.toString.call(r)==="[object Date]")return Tp.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return Jh(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:Tp[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var i;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function U7(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(o=>!t.includes(o.id));return n==="remove"?r:[...t.map(o=>e.find(s=>s.id===o)).filter(Boolean),...r]}const $7={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:vn("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=oe(n=>[dl(t,n)],n=>n.findIndex(r=>r.id===e.id),se(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=dl(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const i=dl(t,n);return((r=i[i.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=oe(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>i=>{let o=[];if(!(t!=null&&t.length))o=i;else{const s=[...t],a=[...i];for(;a.length&&s.length;){const l=s.shift(),u=a.findIndex(d=>d.id===l);u>-1&&o.push(a.splice(u,1)[0])}o=[...o,...a]}return U7(o,n,r)},se(e.options,"debugTable"))}},Pp=()=>({left:[],right:[]}),j7={getInitialState:e=>({columnPinning:Pp(),...e}),getDefaultOptions:e=>({onColumnPinningChange:vn("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(i=>i.id).filter(Boolean);t.setColumnPinning(i=>{var o,s;if(n==="right"){var a,l;return{left:((a=i==null?void 0:i.left)!=null?a:[]).filter(h=>!(r!=null&&r.includes(h))),right:[...((l=i==null?void 0:i.right)!=null?l:[]).filter(h=>!(r!=null&&r.includes(h))),...r]}}if(n==="left"){var u,d;return{left:[...((u=i==null?void 0:i.left)!=null?u:[]).filter(h=>!(r!=null&&r.includes(h))),...r],right:((d=i==null?void 0:i.right)!=null?d:[]).filter(h=>!(r!=null&&r.includes(h)))}}return{left:((o=i==null?void 0:i.left)!=null?o:[]).filter(h=>!(r!=null&&r.includes(h))),right:((s=i==null?void 0:i.right)!=null?s:[]).filter(h=>!(r!=null&&r.includes(h)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var i,o,s;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((o=(s=t.options.enableColumnPinning)!=null?s:t.options.enablePinning)!=null?o:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(a=>a.id),{left:r,right:i}=t.getState().columnPinning,o=n.some(a=>r==null?void 0:r.includes(a)),s=n.some(a=>i==null?void 0:i.includes(a));return o?"left":s?"right":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();return i?(n=(r=t.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=oe(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,i)=>{const o=[...r??[],...i??[]];return n.filter(s=>!o.includes(s.column.id))},se(t.options,"debugRows")),e.getLeftVisibleCells=oe(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(o=>n.find(s=>s.column.id===o)).filter(Boolean).map(o=>({...o,position:"left"})),se(t.options,"debugRows")),e.getRightVisibleCells=oe(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(o=>n.find(s=>s.column.id===o)).filter(Boolean).map(o=>({...o,position:"right"})),se(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?Pp():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:Pp())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var i,o;return!!((i=r.left)!=null&&i.length||(o=r.right)!=null&&o.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=oe(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),se(e.options,"debugColumns")),e.getRightLeafColumns=oe(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),se(e.options,"debugColumns")),e.getCenterLeafColumns=oe(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const i=[...n??[],...r??[]];return t.filter(o=>!i.includes(o.id))},se(e.options,"debugColumns"))}},gc={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Rp=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),B7={getDefaultColumnDef:()=>gc,getInitialState:e=>({columnSizing:{},columnSizingInfo:Rp(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:vn("columnSizing",e),onColumnSizingInfoChange:vn("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,i;const o=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:gc.minSize,(r=o??e.columnDef.size)!=null?r:gc.size),(i=e.columnDef.maxSize)!=null?i:gc.maxSize)},e.getStart=oe(n=>[n,dl(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((i,o)=>i+o.getSize(),0),se(t.options,"debugColumns")),e.getAfter=oe(n=>[n,dl(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((i,o)=>i+o.getSize(),0),se(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...i}=n;return i})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var o;n+=(o=i.column.getSize())!=null?o:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),i=r==null?void 0:r.getCanResize();return o=>{if(!r||!i||(o.persist==null||o.persist(),bp(o)&&o.touches&&o.touches.length>1))return;const s=e.getSize(),a=e?e.getLeafHeaders().map(y=>[y.column.id,y.column.getSize()]):[[r.id,r.getSize()]],l=bp(o)?Math.round(o.touches[0].clientX):o.clientX,u={},d=(y,v)=>{typeof v=="number"&&(t.setColumnSizingInfo(E=>{var D,F;const k=t.options.columnResizeDirection==="rtl"?-1:1,P=(v-((D=E==null?void 0:E.startOffset)!=null?D:0))*k,A=Math.max(P/((F=E==null?void 0:E.startSize)!=null?F:0),-.999999);return E.columnSizingStart.forEach(T=>{let[I,R]=T;u[I]=Math.round(Math.max(R+R*A,0)*100)/100}),{...E,deltaOffset:P,deltaPercentage:A}}),(t.options.columnResizeMode==="onChange"||y==="end")&&t.setColumnSizing(E=>({...E,...u})))},h=y=>d("move",y),p=y=>{d("end",y),t.setColumnSizingInfo(v=>({...v,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},f=n||typeof document<"u"?document:null,m={moveHandler:y=>h(y.clientX),upHandler:y=>{f==null||f.removeEventListener("mousemove",m.moveHandler),f==null||f.removeEventListener("mouseup",m.upHandler),p(y.clientX)}},_={moveHandler:y=>(y.cancelable&&(y.preventDefault(),y.stopPropagation()),h(y.touches[0].clientX),!1),upHandler:y=>{var v;f==null||f.removeEventListener("touchmove",_.moveHandler),f==null||f.removeEventListener("touchend",_.upHandler),y.cancelable&&(y.preventDefault(),y.stopPropagation()),p((v=y.touches[0])==null?void 0:v.clientX)}},x=z7()?{passive:!1}:!1;bp(o)?(f==null||f.addEventListener("touchmove",_.moveHandler,x),f==null||f.addEventListener("touchend",_.upHandler,x)):(f==null||f.addEventListener("mousemove",m.moveHandler,x),f==null||f.addEventListener("mouseup",m.upHandler,x)),t.setColumnSizingInfo(y=>({...y,startOffset:l,startSize:s,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?Rp():(n=e.initialState.columnSizingInfo)!=null?n:Rp())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0}}};let yc=null;function z7(){if(typeof yc=="boolean")return yc;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return yc=e,yc}function bp(e){return e.type==="touchstart"}const W7={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:vn("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const i=e.columns;return(n=i.length?i.some(o=>o.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=oe(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),se(t.options,"debugRows")),e.getVisibleCells=oe(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],se(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>oe(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(o=>o.getIsVisible==null?void 0:o.getIsVisible()),se(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((i,o)=>({...i,[o.id]:n||!(o.getCanHide!=null&&o.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function dl(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const H7={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},G7={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:vn("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,i,o;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&((o=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?o:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Cr.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return Jh(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:Cr[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},q7={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:vn("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var i,o;e.setExpanded(r?{}:(i=(o=e.initialState)==null?void 0:o.expanded)!=null?i:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(o=>{const s=o.split(".");r=Math.max(r,s.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var i;const o=r===!0?!0:!!(r!=null&&r[e.id]);let s={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(a=>{s[a]=!0}):s=r,n=(i=n)!=null?i:!o,!o&&n)return{...s,[e.id]:!0};if(o&&!n){const{[e.id]:a,...l}=s;return l}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,i;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((i=e.subRows)!=null&&i.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},_g=0,wg=10,kp=()=>({pageIndex:_g,pageSize:wg}),K7={getInitialState:e=>({...e,pagination:{...kp(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:vn("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const i=o=>yi(r,o);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(i)},e.resetPagination=r=>{var i;e.setPagination(r?kp():(i=e.initialState.pagination)!=null?i:kp())},e.setPageIndex=r=>{e.setPagination(i=>{let o=yi(r,i.pageIndex);const s=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return o=Math.max(0,Math.min(o,s)),{...i,pageIndex:o}})},e.resetPageIndex=r=>{var i,o;e.setPageIndex(r?_g:(i=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageIndex)!=null?i:_g)},e.resetPageSize=r=>{var i,o;e.setPageSize(r?wg:(i=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageSize)!=null?i:wg)},e.setPageSize=r=>{e.setPagination(i=>{const o=Math.max(1,yi(r,i.pageSize)),s=i.pageSize*i.pageIndex,a=Math.floor(s/o);return{...i,pageIndex:a,pageSize:o}})},e.setPageCount=r=>e.setPagination(i=>{var o;let s=yi(r,(o=e.options.pageCount)!=null?o:-1);return typeof s=="number"&&(s=Math.max(-1,s)),{...i,pageCount:s}}),e.getPageOptions=oe(()=>[e.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((o,s)=>s)),i},se(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,i=e.getPageCount();return i===-1?!0:i===0?!1:r<i-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},Dp=()=>({top:[],bottom:[]}),Q7={getInitialState:e=>({rowPinning:Dp(),...e}),getDefaultOptions:e=>({onRowPinningChange:vn("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,i)=>{const o=r?e.getLeafRows().map(l=>{let{id:u}=l;return u}):[],s=i?e.getParentRows().map(l=>{let{id:u}=l;return u}):[],a=new Set([...s,e.id,...o]);t.setRowPinning(l=>{var u,d;if(n==="bottom"){var h,p;return{top:((h=l==null?void 0:l.top)!=null?h:[]).filter(_=>!(a!=null&&a.has(_))),bottom:[...((p=l==null?void 0:l.bottom)!=null?p:[]).filter(_=>!(a!=null&&a.has(_))),...Array.from(a)]}}if(n==="top"){var f,m;return{top:[...((f=l==null?void 0:l.top)!=null?f:[]).filter(_=>!(a!=null&&a.has(_))),...Array.from(a)],bottom:((m=l==null?void 0:l.bottom)!=null?m:[]).filter(_=>!(a!=null&&a.has(_)))}}return{top:((u=l==null?void 0:l.top)!=null?u:[]).filter(_=>!(a!=null&&a.has(_))),bottom:((d=l==null?void 0:l.bottom)!=null?d:[]).filter(_=>!(a!=null&&a.has(_)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=t.options;return typeof r=="function"?r(e):(n=r??i)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:i}=t.getState().rowPinning,o=n.some(a=>r==null?void 0:r.includes(a)),s=n.some(a=>i==null?void 0:i.includes(a));return o?"top":s?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();if(!i)return-1;const o=(n=i==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(s=>{let{id:a}=s;return a});return(r=o==null?void 0:o.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?Dp():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:Dp())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var i,o;return!!((i=r.top)!=null&&i.length||(o=r.bottom)!=null&&o.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var i;return((i=e.options.keepPinnedRows)==null||i?(n??[]).map(s=>{const a=e.getRow(s,!0);return a.getIsAllParentsExpanded()?a:null}):(n??[]).map(s=>t.find(a=>a.id===s))).filter(Boolean).map(s=>({...s,position:r}))},e.getTopRows=oe(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),se(e.options,"debugRows")),e.getBottomRows=oe(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),se(e.options,"debugRows")),e.getCenterRows=oe(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const i=new Set([...n??[],...r??[]]);return t.filter(o=>!i.has(o.id))},se(e.options,"debugRows"))}},X7={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:vn("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},i=e.getPreGroupedRowModel().flatRows;return t?i.forEach(o=>{o.getCanSelect()&&(r[o.id]=!0)}):i.forEach(o=>{delete r[o.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),i={...n};return e.getRowModel().rows.forEach(o=>{Eg(i,o.id,r,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=oe(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?Op(e,n):{rows:[],flatRows:[],rowsById:{}},se(e.options,"debugTable")),e.getFilteredSelectedRowModel=oe(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?Op(e,n):{rows:[],flatRows:[],rowsById:{}},se(e.options,"debugTable")),e.getGroupedSelectedRowModel=oe(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?Op(e,n):{rows:[],flatRows:[],rowsById:{}},se(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(i=>!n[i.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const i=e.getIsSelected();t.setRowSelection(o=>{var s;if(n=typeof n<"u"?n:!i,e.getCanSelect()&&i===n)return o;const a={...o};return Eg(a,e.id,n,(s=r==null?void 0:r.selectChildren)!=null?s:!0,t),a})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return o_(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return Sg(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return Sg(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var i;n&&e.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},Eg=(e,t,n,r,i)=>{var o;const s=i.getRow(t,!0);n?(s.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),s.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(o=s.subRows)!=null&&o.length&&s.getCanSelectSubRows()&&s.subRows.forEach(a=>Eg(e,a.id,n,r,i))};function Op(e,t){const n=e.getState().rowSelection,r=[],i={},o=function(s,a){return s.map(l=>{var u;const d=o_(l,n);if(d&&(r.push(l),i[l.id]=l),(u=l.subRows)!=null&&u.length&&(l={...l,subRows:o(l.subRows)}),d)return l}).filter(Boolean)};return{rows:o(t.rows),flatRows:r,rowsById:i}}function o_(e,t){var n;return(n=t[e.id])!=null?n:!1}function Sg(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let i=!0,o=!1;return e.subRows.forEach(s=>{if(!(o&&!i)&&(s.getCanSelect()&&(o_(s,t)?o=!0:i=!1),s.subRows&&s.subRows.length)){const a=Sg(s,t);a==="all"?o=!0:(a==="some"&&(o=!0),i=!1)}}),i?"all":o?"some":!1}const Cg=/([0-9]+)/gm,Y7=(e,t,n)=>OR(Bi(e.getValue(n)).toLowerCase(),Bi(t.getValue(n)).toLowerCase()),J7=(e,t,n)=>OR(Bi(e.getValue(n)),Bi(t.getValue(n))),Z7=(e,t,n)=>s_(Bi(e.getValue(n)).toLowerCase(),Bi(t.getValue(n)).toLowerCase()),eG=(e,t,n)=>s_(Bi(e.getValue(n)),Bi(t.getValue(n))),tG=(e,t,n)=>{const r=e.getValue(n),i=t.getValue(n);return r>i?1:r<i?-1:0},nG=(e,t,n)=>s_(e.getValue(n),t.getValue(n));function s_(e,t){return e===t?0:e>t?1:-1}function Bi(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function OR(e,t){const n=e.split(Cg).filter(Boolean),r=t.split(Cg).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),o=r.shift(),s=parseInt(i,10),a=parseInt(o,10),l=[s,a].sort();if(isNaN(l[0])){if(i>o)return 1;if(o>i)return-1;continue}if(isNaN(l[1]))return isNaN(s)?-1:1;if(s>a)return 1;if(a>s)return-1}return n.length-r.length}const Ma={alphanumeric:Y7,alphanumericCaseSensitive:J7,text:Z7,textCaseSensitive:eG,datetime:tG,basic:nG},rG={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:vn("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const o=i==null?void 0:i.getValue(e.id);if(Object.prototype.toString.call(o)==="[object Date]")return Ma.datetime;if(typeof o=="string"&&(r=!0,o.split(Cg).length>1))return Ma.alphanumeric}return r?Ma.text:Ma.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return Jh(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:Ma[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const i=e.getNextSortingOrder(),o=typeof n<"u"&&n!==null;t.setSorting(s=>{const a=s==null?void 0:s.find(f=>f.id===e.id),l=s==null?void 0:s.findIndex(f=>f.id===e.id);let u=[],d,h=o?n:i==="desc";if(s!=null&&s.length&&e.getCanMultiSort()&&r?a?d="toggle":d="add":s!=null&&s.length&&l!==s.length-1?d="replace":a?d="toggle":d="replace",d==="toggle"&&(o||i||(d="remove")),d==="add"){var p;u=[...s,{id:e.id,desc:h}],u.splice(0,u.length-((p=t.options.maxMultiSortColCount)!=null?p:Number.MAX_SAFE_INTEGER))}else d==="toggle"?u=s.map(f=>f.id===e.id?{...f,desc:h}:f):d==="remove"?u=s.filter(f=>f.id!==e.id):u=[{id:e.id,desc:h}];return u})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,i;const o=e.getFirstSortDir(),s=e.getIsSorted();return s?s!==o&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(i=t.options.enableMultiRemove)!=null)||i)?!1:s==="desc"?"asc":"desc":o},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(i=>i.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},iG=[x7,W7,$7,j7,T7,P7,H7,G7,rG,V7,q7,K7,Q7,X7,B7];function oG(e){var t,n;const r=[...iG,...(t=e._features)!=null?t:[]];let i={_features:r};const o=i._features.reduce((p,f)=>Object.assign(p,f.getDefaultOptions==null?void 0:f.getDefaultOptions(i)),{}),s=p=>i.options.mergeOptions?i.options.mergeOptions(o,p):{...o,...p};let l={...{},...(n=e.initialState)!=null?n:{}};i._features.forEach(p=>{var f;l=(f=p.getInitialState==null?void 0:p.getInitialState(l))!=null?f:l});const u=[];let d=!1;const h={_features:r,options:{...o,...e},initialState:l,_queue:p=>{u.push(p),d||(d=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();d=!1}).catch(f=>setTimeout(()=>{throw f})))},reset:()=>{i.setState(i.initialState)},setOptions:p=>{const f=yi(p,i.options);i.options=s(f)},getState:()=>i.options.state,setState:p=>{i.options.onStateChange==null||i.options.onStateChange(p)},_getRowId:(p,f,m)=>{var _;return(_=i.options.getRowId==null?void 0:i.options.getRowId(p,f,m))!=null?_:`${m?[m.id,f].join("."):f}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(p,f)=>{let m=(f?i.getPrePaginationRowModel():i.getRowModel()).rowsById[p];if(!m&&(m=i.getCoreRowModel().rowsById[p],!m))throw new Error;return m},_getDefaultColumnDef:oe(()=>[i.options.defaultColumn],p=>{var f;return p=(f=p)!=null?f:{},{header:m=>{const _=m.header.column.columnDef;return _.accessorKey?_.accessorKey:_.accessorFn?_.id:null},cell:m=>{var _,x;return(_=(x=m.renderValue())==null||x.toString==null?void 0:x.toString())!=null?_:null},...i._features.reduce((m,_)=>Object.assign(m,_.getDefaultColumnDef==null?void 0:_.getDefaultColumnDef()),{}),...p}},se(e,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:oe(()=>[i._getColumnDefs()],p=>{const f=function(m,_,x){return x===void 0&&(x=0),m.map(y=>{const v=I7(i,y,x,_),E=y;return v.columns=E.columns?f(E.columns,v,x+1):[],v})};return f(p)},se(e,"debugColumns")),getAllFlatColumns:oe(()=>[i.getAllColumns()],p=>p.flatMap(f=>f.getFlatColumns()),se(e,"debugColumns")),_getAllFlatColumnsById:oe(()=>[i.getAllFlatColumns()],p=>p.reduce((f,m)=>(f[m.id]=m,f),{}),se(e,"debugColumns")),getAllLeafColumns:oe(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(p,f)=>{let m=p.flatMap(_=>_.getLeafColumns());return f(m)},se(e,"debugColumns")),getColumn:p=>i._getAllFlatColumnsById()[p]};Object.assign(i,h);for(let p=0;p<i._features.length;p++){const f=i._features[p];f==null||f.createTable==null||f.createTable(i)}return i}function sG(){return e=>oe(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,o,s){o===void 0&&(o=0);const a=[];for(let u=0;u<i.length;u++){const d=A7(e,e._getRowId(i[u],u,s),i[u],u,o,void 0,s==null?void 0:s.id);if(n.flatRows.push(d),n.rowsById[d.id]=d,a.push(d),e.options.getSubRows){var l;d.originalSubRows=e.options.getSubRows(i[u],u),(l=d.originalSubRows)!=null&&l.length&&(d.subRows=r(d.originalSubRows,o+1,d))}}return a};return n.rows=r(t),n},se(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function aG(e){const t=[],n=r=>{var i;t.push(r),(i=r.subRows)!=null&&i.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function lG(e){return t=>oe(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:i,pageIndex:o}=n;let{rows:s,flatRows:a,rowsById:l}=r;const u=i*o,d=u+i;s=s.slice(u,d);let h;t.options.paginateExpandedRows?h={rows:s,flatRows:a,rowsById:l}:h=aG({rows:s,flatRows:a,rowsById:l}),h.flatRows=[];const p=f=>{h.flatRows.push(f),f.subRows.length&&f.subRows.forEach(p)};return h.rows.forEach(p),h},se(t.options,"debugTable"))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function lC(e,t){return e?uG(e)?S.createElement(e,t):e:null}function uG(e){return cG(e)||typeof e=="function"||dG(e)}function cG(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function dG(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function hG(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=S.useState(()=>({current:oG(t)})),[r,i]=S.useState(()=>n.current.initialState);return n.current.setOptions(o=>({...o,...e,state:{...r,...e.state},onStateChange:s=>{i(s),e.onStateChange==null||e.onStateChange(s)}})),n.current}const a_=e=>{const{data:t,columns:n}=e,r=hG({data:t,columns:n,getCoreRowModel:sG(),getPaginationRowModel:lG()});return C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"w-full overflow-hidden border border-gray-200 rounded-lg shadow-sm",children:C.jsx("div",{className:"w-full overflow-x-auto",children:C.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[C.jsx("thead",{className:"bg-white",children:r.getHeaderGroups().map(i=>C.jsx("tr",{children:i.headers.map(o=>C.jsx("th",{colSpan:o.colSpan,scope:"col",className:"px-6 py-3 text-sm font-normal text-left text-gray-500 text-la whitespace-nowrap",children:o.isPlaceholder?null:lC(o.column.columnDef.header,o.getContext())},o.id))},i.id))}),C.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.getRowModel().rows.map(i=>C.jsx("tr",{children:i.getVisibleCells().map(o=>C.jsx("td",{className:"px-6 py-4 text-sm text-gray-700 whitespace-nowrap",children:lC(o.column.columnDef.cell,o.getContext())},o.id))},i.id))})]})})}),C.jsxs("div",{className:"flex gap-3 mt-2 text-[#3C50E0] text-sm",children:[C.jsx("div",{children:C.jsx("button",{onClick:()=>{r.previousPage()},disabled:!r.getCanPreviousPage(),className:r.getCanPreviousPage()?"":"text-gray-500",children:"Previous Page"})}),C.jsx("div",{children:C.jsx("button",{onClick:()=>{r.nextPage()},disabled:!r.getCanNextPage(),className:r.getCanNextPage()?"":"text-gray-500",children:"Next Page"})})]})]})},Ws=e=>{const{children:t,isModalOpen:n,setIsModalOpen:r,modalToggle:i}=e;return C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"fixed inset-0 z-20 bg-black opacity-50"}),C.jsx("div",{className:"fixed inset-0 z-30 flex items-center justify-center",children:C.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t})})]})},NR=S.createContext(),LR=()=>S.useContext(NR),fG=({children:e})=>{const[t,n]=S.useState([]),r=o=>{n(s=>[o,...s])},i=(o,s)=>{n(a=>a.filter(l=>!(l.collectionName===s&&l.databaseLocation===o)))};return C.jsx(NR.Provider,{value:{collections:t,addCollection:r,removeCollection:i,setCollections:n},children:e})};var MR={ACSetupSvcPort:"23210",ACSvcPort:"17532",ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\budik\\AppData\\Roaming",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_29048_POCUMDQMJUIBEPJW",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"ARLT0048",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_23616:"1",EnableLog:"WARNING",FLASK_APP:"main.py",GIT_ASKPASS:"c:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\budik",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\budik",INIT_CWD:"D:\\DATA\\GIT\\WIR\\ea.wirglobal.com",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\budik\\AppData\\Local",LOGONSERVER:"\\\\ARLT0048",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",npm_command:"run-script",npm_config_cache:"C:\\Users\\budik\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\budik\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\budik\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\budik\\.npm-init.js",npm_config_local_prefix:"D:\\DATA\\GIT\\WIR\\ea.wirglobal.com",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.9.2",npm_config_prefix:"C:\\Users\\budik\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\budik\\.npmrc",npm_config_user_agent:"npm/10.9.2 node/v22.14.0 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"vite build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"D:\\DATA\\GIT\\WIR\\ea.wirglobal.com\\package.json",npm_package_name:"wir-chat",npm_package_version:"0.0.0",NUMBER_OF_PROCESSORS:"16",OneDrive:"C:\\Users\\budik\\OneDrive",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"D:\\DATA\\GIT\\WIR\\ea.wirglobal.com\\node_modules\\.bin;D:\\DATA\\GIT\\WIR\\node_modules\\.bin;D:\\DATA\\GIT\\node_modules\\.bin;D:\\DATA\\node_modules\\.bin;D:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\ffmpeg\\bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\dotnet\\;C:\\Program Files\\PuTTY\\;C:\\Users\\budik\\AppData\\Local\\Programs\\Python\\Python310\\Scripts\\;C:\\Users\\budik\\AppData\\Local\\Programs\\Python\\Python310\\;C:\\Users\\budik\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\xampp\\php;C:\\ProgramData\\ComposerSetup\\bin;C:\\MinGW\\bin;C:\\Program Files\\Git\\cmd;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files\\NVIDIA Corporation\\NVIDIA app\\NvDLISR;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Docker\\Docker\\resources\\bin;C:\\Program Files\\nodejs\\;C:\\Users\\budik\\AppData\\Local\\Programs\\Python\\Python310\\Scripts\\;C:\\Users\\budik\\AppData\\Local\\Programs\\Python\\Python310\\;C:\\Users\\budik\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\budik\\AppData\\Roaming\\Composer\\vendor\\bin;C:\\Users\\budik\\.dotnet\\tools;C:\\flutter\\bin;C:\\Users\\budik\\AppData\\Roaming\\npm",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"AMD64 Family 25 Model 68 Stepping 1, AuthenticAMD",PROCESSOR_LEVEL:"25",PROCESSOR_REVISION:"4401",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\budik\\OneDrive\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",REACT_APP_BACKEND_URL:"backend-url",REACT_APP_CURRENT_VERSION:"current-version",REACT_APP_FIREBASE_API_KEY:"AIzaSyDoyWyWKSk_8ovvS8_0d1A64DIRVhsEPdE",REACT_APP_FIREBASE_APP_ID:"1:279788642755:web:61bafae06f7d1932765d76",REACT_APP_FIREBASE_AUTH_DOMAIN:"wirchat-22331.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-97GNX3XH66",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"279788642755",REACT_APP_FIREBASE_PROJECT_ID:"wirchat-22331",REACT_APP_FIREBASE_STORAGE_BUCKET:"wirchat-22331.firebasestorage.app",RlsSvcPort:"22112",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\budik\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.98.2",TMP:"C:\\Users\\budik\\AppData\\Local\\Temp",USERDOMAIN:"ARLT0048",USERDOMAIN_ROAMINGPROFILE:"ARLT0048",USERNAME:"budik",USERPROFILE:"C:\\Users\\budik",VBOX_HWVIRTEX_IGNORE_SVM_IN_USE:"1",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-ac8c3e907a-sock",VSCODE_INJECTION:"1",VSCODE_NONCE:"bce40833-b57a-4fe9-bb46-50437c202ead",VSCODE_STABLE:"1",windir:"C:\\WINDOWS"};const FR=async e=>{try{const t=`${MR.REACT_APP_BACKEND_URL}/list-database?db_location=${e}`,n=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}});if(!n.ok)throw new Error(`Failed to fetch data: ${n.statusText}`);return(await n.json()).data.output}catch(t){return console.error(`Error fetching ${e} collection:`,t.message),null}},VR=e=>{try{const t=e.match(/\[.*\]/);if(t){const n=t[0].replace(/'/g,'"');return JSON.parse(n)}return[]}catch(t){return console.error("Error parsing collection response:",t.message),[]}},pG=()=>{const{collections:e,setCollections:t,removeCollection:n}=LR(),[r,i]=S.useState(!1),[o,s]=S.useState(!0),[a,l]=S.useState(""),u=["indonesia","english","china","japan"],d=async()=>{const f=[];for(let m of u){const _=await FR(m);_&&VR(_).forEach(y=>{f.push({collectionName:y,databaseLocation:m})})}t(f),sessionStorage.setItem("collections",JSON.stringify(f)),s(!1)},h=async(f,m)=>{if(!confirm("Are you sure?"))return;const x=new FormData;x.append("language",f),x.append("collection_name",m);const y=`${MR.REACT_APP_BACKEND_URL}/delete-database`;try{i(!0);const v=await fetch(y,{method:"POST",body:x});n(f,m),alert(`Success deleted ${m} in ${f} database`),i(!1),l("")}catch(v){console.log(v)}},p=[{header:"id",cell:({row:f})=>f.index+1},{header:"Collection Name",accessorKey:"collectionName"},{header:"Database Location",accessorKey:"databaseLocation"},{header:"Action",id:"action",cell:r?({row:f})=>C.jsx("button",{className:"px-4 py-2 rounded bg-gray-800 text-white disabled:bg-gray-500",disabled:!0,children:f.original.collectionName===a?"Deleting...":"Delete"}):({row:f})=>C.jsx("button",{className:"px-4 py-2 rounded bg-black text-white",onClick:()=>{h(f.original.databaseLocation,f.original.collectionName),l(f.original.collectionName)},children:"Delete"})}];return S.useEffect(()=>{d()},[]),C.jsx(C.Fragment,{children:o?C.jsx("div",{className:"text-center",children:"Loading collections data..."}):C.jsx(a_,{columns:p,data:e})})},mG=()=>{const[e,t]=S.useState([]),[n,r]=S.useState(!1),[i,o]=S.useState([]),[s,a]=S.useState(!1),[l,u]=S.useState(null),[d,h]=S.useState(""),[p,f]=S.useState(""),[m,_]=S.useState(""),[x,y]=S.useState(""),[v,E]=S.useState(!1),D=async()=>{const T=await S4();t(T)},F=T=>{u(T),h(T.language),f(T.db_location),_(T.selected_collection),y(T.id),r(!0)},k=async T=>{_("loading data...");const I=await FR(T),M=[...VR(I),l?l.selected_collection:"No collection selected"];o(M),_(l?l.selected_collection:"No collection selected")},P=async(T,I)=>{if(!window.confirm("Are you sure? Please check the input again before submitting")){r(!1);return}try{E(!0),await C4(T,I),E(!1),alert(`Success updated ${d} collections`),D(),r(!1)}catch(M){alert(`Error: ${M.message||"Failed to edit selected collection"}`)}};S.useEffect(()=>{D()},[]),S.useEffect(()=>{(async()=>{if(!p){f([]);return}a(!0),_("loading data..."),await k(p),l&&_(l.selected_collection),a(!1)})()},[p,l]);const A=[{header:"Index",id:"index",cell:({row:T})=>T.index+1},{header:"Language",accessorKey:"language"},{header:"Selected Collection",accessorKey:"selected_collection"},{header:"Database Location",accessorKey:"db_location"},{header:"Action",accessorKey:"action",cell:({row:T})=>C.jsx("button",{className:"px-4 py-2 text-sm text-white bg-gray-900 rounded hover:bg-gray-950",onClick:()=>F(T.original),children:"Edit"})}];return C.jsxs(C.Fragment,{children:[C.jsx(a_,{data:e,columns:A}),n&&C.jsx(Ws,{children:C.jsxs("div",{children:[C.jsxs("div",{className:"flex justify-between mb-5 font-bold text-md w-full",children:[C.jsx("h1",{children:"Edit Selected Collection"}),C.jsx("button",{onClick:()=>{r(!1),u(null)},children:C.jsx("i",{className:"fa-solid fa-xmark"})})]}),C.jsxs("form",{action:"#",children:[C.jsxs("div",{className:"mb-4",children:[C.jsx("label",{className:"block mb-2 text-sm font-bold text-gray-700",htmlFor:"language",children:"Language"}),C.jsx("input",{className:"w-full px-3 py-2 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline",id:"collectionFile",name:"language",type:"text",disabled:!0,value:d})]}),C.jsxs("div",{className:"mb-4",children:[C.jsx("label",{className:"block mb-2 text-sm font-bold text-gray-700",htmlFor:"databaseLocation",children:"Store DB location"}),C.jsxs("div",{className:"relative",children:[C.jsxs("select",{className:"block w-full px-4 py-2 pr-8 leading-tight text-gray-700 bg-white border rounded shadow appearance-none focus:outline-none focus:shadow-outline",id:"databaseLocation",name:"databaseLocation",value:p,onChange:T=>f(T.target.value),children:[C.jsx("option",{value:"indonesia",children:"Indonesia"}),C.jsx("option",{value:"english",children:"English"}),C.jsx("option",{value:"china",children:"China"}),C.jsx("option",{value:"japan",children:"Japan"})]}),C.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 pointer-events-none",children:C.jsx("svg",{className:"w-4 h-4 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:C.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),C.jsxs("div",{className:"mb-4",children:[C.jsx("label",{className:"block mb-2 text-sm font-bold text-gray-700",htmlFor:"selectedCollection",children:"Selected Collection"}),C.jsxs("div",{className:"relative",children:[C.jsx("select",{className:"block w-full px-4 py-2 pr-8 leading-tight text-gray-700 bg-white border rounded shadow appearance-none focus:outline-none focus:shadow-outline",id:"selectedCollection",name:"selectedCollection",value:m,onChange:T=>_(T.target.value),children:s?C.jsx("option",{disabled:!0,value:"loading data...",children:"loading data..."}):i.map((T,I)=>C.jsx("option",{value:T,children:T},I))}),C.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 pointer-events-none",children:C.jsx("svg",{className:"w-4 h-4 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:C.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),C.jsx("div",{className:"flex items-center justify-end",children:C.jsx("button",{className:"px-4 py-2 text-sm font-bold text-white bg-gray-900 rounded hover:bg-gray-950 focus:outline-none focus:shadow-outline disabled:bg-gray-500",type:"submit",disabled:v,onClick:()=>P(x,m),children:v?"Editting...":"Edit"})})]})]})})]})},gG=()=>{const e=[{name:"Dashboard",path:"/dashboard"},{name:"Languages",path:"/dashboard/languages"}],[t,n]=S.useState(!1),r=()=>{n(!t)};return C.jsxs(_u,{children:[C.jsx(wu,{name:"Languages",breadcrumbPath:e}),C.jsxs("div",{className:"mt-14",children:[C.jsx("div",{className:"flex justify-end",children:C.jsx("button",{className:"px-4 hidden py-2 text-sm text-white bg-gray-700 rounded hover:bg-gray-750",onClick:()=>r(),disabled:!0,children:"Add new laguage"})}),C.jsx("div",{className:"mt-5",children:C.jsx(mG,{})})]}),t&&C.jsx(Ws,{children:C.jsxs("div",{children:[C.jsxs("div",{className:"flex justify-between mb-5 font-bold text-md",children:[C.jsx("h1",{className:"hidden",children:"Add new language"}),C.jsx("div",{children:C.jsx("button",{onClick:()=>r(),children:C.jsx("i",{className:"fa-solid fa-xmark"})})})]}),C.jsxs("form",{className:"",children:[C.jsxs("div",{className:"mb-4",children:[C.jsx("label",{className:"block mb-2 text-sm font-bold text-gray-700",for:"languageName",children:"Language Name"}),C.jsx("input",{className:"w-full px-3 py-2 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline",id:"languageName",type:"text",placeholder:"Languange name"})]}),C.jsxs("div",{className:"mb-6",children:[C.jsx("label",{className:"block mb-2 text-sm font-bold text-gray-700",for:"selectedCollections",children:"Selected Collection"}),C.jsx("input",{className:"w-full px-3 py-2 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline",id:"selectedCollections",type:"text",placeholder:"Selected collections"})]}),C.jsx("div",{className:"flex items-center justify-end",children:C.jsx("button",{className:"px-4 py-2 text-sm font-bold text-white bg-gray-900 rounded hover:bg-gray-950 focus:outline-none focus:shadow-outline",type:"button",children:"Add Language"})})]})]})})]})};var yG={ACSetupSvcPort:"23210",ACSvcPort:"17532",ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\budik\\AppData\\Roaming",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_29048_POCUMDQMJUIBEPJW",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"ARLT0048",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_23616:"1",EnableLog:"WARNING",FLASK_APP:"main.py",GIT_ASKPASS:"c:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\budik",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\budik",INIT_CWD:"D:\\DATA\\GIT\\WIR\\ea.wirglobal.com",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\budik\\AppData\\Local",LOGONSERVER:"\\\\ARLT0048",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",npm_command:"run-script",npm_config_cache:"C:\\Users\\budik\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\budik\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\budik\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\budik\\.npm-init.js",npm_config_local_prefix:"D:\\DATA\\GIT\\WIR\\ea.wirglobal.com",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.9.2",npm_config_prefix:"C:\\Users\\budik\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\budik\\.npmrc",npm_config_user_agent:"npm/10.9.2 node/v22.14.0 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"vite build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"D:\\DATA\\GIT\\WIR\\ea.wirglobal.com\\package.json",npm_package_name:"wir-chat",npm_package_version:"0.0.0",NUMBER_OF_PROCESSORS:"16",OneDrive:"C:\\Users\\budik\\OneDrive",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"D:\\DATA\\GIT\\WIR\\ea.wirglobal.com\\node_modules\\.bin;D:\\DATA\\GIT\\WIR\\node_modules\\.bin;D:\\DATA\\GIT\\node_modules\\.bin;D:\\DATA\\node_modules\\.bin;D:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\ffmpeg\\bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\dotnet\\;C:\\Program Files\\PuTTY\\;C:\\Users\\budik\\AppData\\Local\\Programs\\Python\\Python310\\Scripts\\;C:\\Users\\budik\\AppData\\Local\\Programs\\Python\\Python310\\;C:\\Users\\budik\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\xampp\\php;C:\\ProgramData\\ComposerSetup\\bin;C:\\MinGW\\bin;C:\\Program Files\\Git\\cmd;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files\\NVIDIA Corporation\\NVIDIA app\\NvDLISR;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Docker\\Docker\\resources\\bin;C:\\Program Files\\nodejs\\;C:\\Users\\budik\\AppData\\Local\\Programs\\Python\\Python310\\Scripts\\;C:\\Users\\budik\\AppData\\Local\\Programs\\Python\\Python310\\;C:\\Users\\budik\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\budik\\AppData\\Roaming\\Composer\\vendor\\bin;C:\\Users\\budik\\.dotnet\\tools;C:\\flutter\\bin;C:\\Users\\budik\\AppData\\Roaming\\npm",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"AMD64 Family 25 Model 68 Stepping 1, AuthenticAMD",PROCESSOR_LEVEL:"25",PROCESSOR_REVISION:"4401",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\budik\\OneDrive\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",REACT_APP_BACKEND_URL:"backend-url",REACT_APP_CURRENT_VERSION:"current-version",REACT_APP_FIREBASE_API_KEY:"AIzaSyDoyWyWKSk_8ovvS8_0d1A64DIRVhsEPdE",REACT_APP_FIREBASE_APP_ID:"1:279788642755:web:61bafae06f7d1932765d76",REACT_APP_FIREBASE_AUTH_DOMAIN:"wirchat-22331.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-97GNX3XH66",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"279788642755",REACT_APP_FIREBASE_PROJECT_ID:"wirchat-22331",REACT_APP_FIREBASE_STORAGE_BUCKET:"wirchat-22331.firebasestorage.app",RlsSvcPort:"22112",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\budik\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.98.2",TMP:"C:\\Users\\budik\\AppData\\Local\\Temp",USERDOMAIN:"ARLT0048",USERDOMAIN_ROAMINGPROFILE:"ARLT0048",USERNAME:"budik",USERPROFILE:"C:\\Users\\budik",VBOX_HWVIRTEX_IGNORE_SVM_IN_USE:"1",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-ac8c3e907a-sock",VSCODE_INJECTION:"1",VSCODE_NONCE:"bce40833-b57a-4fe9-bb46-50437c202ead",VSCODE_STABLE:"1",windir:"C:\\WINDOWS"};const vG=()=>{const e=[{name:"Dashboard",path:"/dashboard"},{name:"Collections",path:"/dashboard/collections"}],[t,n]=S.useState(!1),[r,i]=S.useState(!1),[o,s]=S.useState({collectionFile:null,collectionName:"",databaseLocation:"indonesia"}),{addCollection:a}=LR(),l=d=>{const{name:h,value:p,type:f,files:m}=d.target;s(_=>({..._,[h]:f==="file"?m[0]:p}))},u=async d=>{if(d.preventDefault(),!o.collectionFile||!o.collectionName){alert("Please fill in all required fields");return}if(window.confirm("Are you sure? Please check the input again before submitting"))try{i(!0);const p=new FormData;p.append("file",o.collectionFile),p.append("collection_name",o.collectionName),p.append("store_db_location",o.databaseLocation),p.append("components","File-aA0Wu");const f=await fetch(`${yG.REACT_APP_BACKEND_URL}/upload-collection`,{method:"POST",body:p});if(!f.ok)throw new Error(`HTTP error! status: ${f.status}`);const m=await f.json();alert("Success: Collection uploaded successfully!"),s({collectionFile:null,collectionName:"",databaseLocation:""}),n(!1),a({collectionName:o.collectionName,databaseLocation:o.databaseLocation})}catch(p){console.error("Error uploading collection:",p),alert(`Error: ${p.message||"Failed to upload collection"}`)}finally{i(!1)}};return C.jsxs(_u,{children:[C.jsx(wu,{name:"Collections",breadcrumbPath:e}),C.jsxs("div",{className:"mt-14",children:[C.jsx("div",{className:"flex justify-end",children:C.jsx("button",{className:"px-4 py-2 text-sm text-white bg-gray-900 rounded hover:bg-gray-950",onClick:()=>n(!0),children:"Add new collections"})}),C.jsx("div",{className:"mt-5",children:C.jsx(pG,{})})]}),t&&C.jsx(Ws,{children:C.jsxs("div",{children:[C.jsxs("div",{className:"flex justify-between mb-5 font-bold text-md",children:[C.jsx("h1",{children:"Add new collection"}),C.jsx("button",{onClick:()=>n(!1),children:C.jsx("i",{className:"fa-solid fa-xmark"})})]}),C.jsxs("form",{onSubmit:u,encType:"multipart/form-data",children:[C.jsxs("div",{className:"mb-4",children:[C.jsx("label",{className:"block mb-2 text-sm font-bold text-gray-700",htmlFor:"collectionFile",children:"Collection File"}),C.jsx("input",{className:"w-full px-3 py-2 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline",id:"collectionFile",name:"collectionFile",type:"file",onChange:l,required:!0})]}),C.jsxs("div",{className:"mb-4",children:[C.jsx("label",{className:"block mb-2 text-sm font-bold text-gray-700",htmlFor:"collectionName",children:"Collection Name"}),C.jsx("input",{className:"w-full px-3 py-2 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline",id:"collectionName",name:"collectionName",value:o.collectionName,onChange:l,type:"text",placeholder:"Collection name",required:!0}),C.jsx("p",{className:"block mb-2 mt-1 text-sm font-medium text-red-700",children:"(please use snake_case format)"})]}),C.jsxs("div",{className:"mb-6",children:[C.jsx("label",{className:"block mb-2 text-sm font-bold text-gray-700",htmlFor:"databaseLocation",children:"Store DB location"}),C.jsxs("div",{className:"relative",children:[C.jsxs("select",{className:"block w-full px-4 py-2 pr-8 leading-tight text-gray-700 bg-white border rounded shadow appearance-none focus:outline-none focus:shadow-outline",id:"databaseLocation",name:"databaseLocation",value:o.databaseLocation,onChange:l,children:[C.jsx("option",{value:"indonesia",children:"Indonesia"}),C.jsx("option",{value:"english",children:"English"}),C.jsx("option",{value:"china",children:"China"}),C.jsx("option",{value:"japan",children:"Japan"})]}),C.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 pointer-events-none",children:C.jsx("svg",{className:"w-4 h-4 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:C.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),C.jsx("div",{className:"flex items-center justify-end",children:C.jsx("button",{className:"px-4 py-2 text-sm font-bold text-white bg-gray-900 rounded hover:bg-gray-950 focus:outline-none focus:shadow-outline disabled:bg-gray-500",type:"submit",disabled:r,children:r?"Adding...":"Add collection"})})]})]})})]})},UR=S.createContext(),$R=()=>S.useContext(UR),_G=({children:e})=>{const[t,n]=S.useState([]),r=i=>{n(o=>[i,...o])};return C.jsx(UR.Provider,{value:{users:t,setUsers:n,addUser:r},children:e})};var uC={ACSetupSvcPort:"23210",ACSvcPort:"17532",ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\budik\\AppData\\Roaming",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_29048_POCUMDQMJUIBEPJW",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"ARLT0048",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_23616:"1",EnableLog:"WARNING",FLASK_APP:"main.py",GIT_ASKPASS:"c:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\budik",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\budik",INIT_CWD:"D:\\DATA\\GIT\\WIR\\ea.wirglobal.com",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\budik\\AppData\\Local",LOGONSERVER:"\\\\ARLT0048",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",npm_command:"run-script",npm_config_cache:"C:\\Users\\budik\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\budik\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\budik\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\budik\\.npm-init.js",npm_config_local_prefix:"D:\\DATA\\GIT\\WIR\\ea.wirglobal.com",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.9.2",npm_config_prefix:"C:\\Users\\budik\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\budik\\.npmrc",npm_config_user_agent:"npm/10.9.2 node/v22.14.0 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"vite build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"D:\\DATA\\GIT\\WIR\\ea.wirglobal.com\\package.json",npm_package_name:"wir-chat",npm_package_version:"0.0.0",NUMBER_OF_PROCESSORS:"16",OneDrive:"C:\\Users\\budik\\OneDrive",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"D:\\DATA\\GIT\\WIR\\ea.wirglobal.com\\node_modules\\.bin;D:\\DATA\\GIT\\WIR\\node_modules\\.bin;D:\\DATA\\GIT\\node_modules\\.bin;D:\\DATA\\node_modules\\.bin;D:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\ffmpeg\\bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\dotnet\\;C:\\Program Files\\PuTTY\\;C:\\Users\\budik\\AppData\\Local\\Programs\\Python\\Python310\\Scripts\\;C:\\Users\\budik\\AppData\\Local\\Programs\\Python\\Python310\\;C:\\Users\\budik\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\xampp\\php;C:\\ProgramData\\ComposerSetup\\bin;C:\\MinGW\\bin;C:\\Program Files\\Git\\cmd;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files\\NVIDIA Corporation\\NVIDIA app\\NvDLISR;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Docker\\Docker\\resources\\bin;C:\\Program Files\\nodejs\\;C:\\Users\\budik\\AppData\\Local\\Programs\\Python\\Python310\\Scripts\\;C:\\Users\\budik\\AppData\\Local\\Programs\\Python\\Python310\\;C:\\Users\\budik\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\budik\\AppData\\Roaming\\Composer\\vendor\\bin;C:\\Users\\budik\\.dotnet\\tools;C:\\flutter\\bin;C:\\Users\\budik\\AppData\\Roaming\\npm",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"AMD64 Family 25 Model 68 Stepping 1, AuthenticAMD",PROCESSOR_LEVEL:"25",PROCESSOR_REVISION:"4401",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\budik\\OneDrive\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",REACT_APP_BACKEND_URL:"backend-url",REACT_APP_CURRENT_VERSION:"current-version",REACT_APP_FIREBASE_API_KEY:"AIzaSyDoyWyWKSk_8ovvS8_0d1A64DIRVhsEPdE",REACT_APP_FIREBASE_APP_ID:"1:279788642755:web:61bafae06f7d1932765d76",REACT_APP_FIREBASE_AUTH_DOMAIN:"wirchat-22331.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-97GNX3XH66",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"279788642755",REACT_APP_FIREBASE_PROJECT_ID:"wirchat-22331",REACT_APP_FIREBASE_STORAGE_BUCKET:"wirchat-22331.firebasestorage.app",RlsSvcPort:"22112",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\budik\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.98.2",TMP:"C:\\Users\\budik\\AppData\\Local\\Temp",USERDOMAIN:"ARLT0048",USERDOMAIN_ROAMINGPROFILE:"ARLT0048",USERNAME:"budik",USERPROFILE:"C:\\Users\\budik",VBOX_HWVIRTEX_IGNORE_SVM_IN_USE:"1",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\budik\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-ac8c3e907a-sock",VSCODE_INJECTION:"1",VSCODE_NONCE:"bce40833-b57a-4fe9-bb46-50437c202ead",VSCODE_STABLE:"1",windir:"C:\\WINDOWS"};const wG=e=>{const{isSubmitting:t}=e,{users:n,setUsers:r}=$R(),{user:i}=Wr(),[o,s]=S.useState(!1),[a,l]=S.useState(""),[u,d]=S.useState(""),[h,p]=S.useState(""),f=async()=>{const E=(await IR()).filter(D=>D.email!==i.email);r(E)},m=async(v,E,D)=>{if(confirm("Are you sure?")){if(s(!0),l(E),E===i.uid){alert("You can't disable your own account");return}try{const k=`${uC.REACT_APP_BACKEND_URL}/update-user/${v}?disabled=${D}`;if(!(await fetch(k,{method:"PUT"})).ok)throw console.log("Failed"),new Error("Failed to update data");await oC(E,D),alert(`Success: User status changed to ${D?"Non-Active":"Active"}`),s(!1),l("")}catch(k){console.error("Error updating user:",k.message),await oC(E,!D),alert("Failed to change user active status. Changes reverted."),s(!1),l("")}}},_=async v=>{if(confirm("Are you sure?")){if(s(!0),l(v),v===i.uid){alert("You can't delete your own account");return}try{const D=`${uC.REACT_APP_BACKEND_URL}/delete-user/${v}`;if(!(await fetch(D,{method:"DELETE"})).ok)throw new Error("Failed to delete user");alert("User deleted successfully!"),await f7(v),r(k=>k.filter(P=>P.id!==v)),s(!1),l("")}catch(D){alert(D),console.error(D),s(!1),l("")}}},x=async(v,E)=>{const D=confirm("Are you sure?");if(s(!0),l(v),!D){console.log(E),s(!1),l("");return}if(v===i.uid){alert("You can't update your own role"),s(!1),l("");return}try{const F=await h7(v,E);s(!1),l(""),d(!1),alert("successully updated user role!")}catch(F){alert("Failed to updated user role!"+F)}};S.useEffect(()=>{f()},[o,t]);const y=[{header:"Index",id:"index",cell:({row:v})=>v.index+1},{header:"Email",accessorKey:"email"},{header:"Role",cell:({row:v})=>C.jsx(C.Fragment,{children:o&&a===v.original.id?C.jsx("div",{className:"w-24 bg-gray-300 rounded-xl animate-pulse h-6"}):C.jsx("div",{className:`w-28 ${v.original.role==="superadmin"?"bg-purple-500":"bg-blue-500"} rounded-xl`,children:C.jsx("p",{className:"text-center text-sm text-white",children:v.original.role})})})},{header:"Is Active",cell:({row:v})=>C.jsx(C.Fragment,{children:o&&a===v.original.id?C.jsx("div",{className:"w-24 bg-gray-300 rounded-xl animate-pulse h-6"}):C.jsx("div",{className:`w-24 ${v.original.is_active?"bg-green-500":"bg-red-500"} rounded-xl`,children:C.jsx("p",{className:"text-center text-sm text-white",children:v.original.is_active?"Active":"Non Active"})})})},{header:"Action",cell:({row:v})=>C.jsxs(XH,{children:[C.jsx(SR,{className:"bg-black text-white py-2 px-4 rounded",children:"Menu"}),C.jsxs(CR,{anchor:"bottom",className:"bg-white shadow-lg py-2 px-4 rounded flex flex-col gap-2",children:[C.jsx(Hc,{children:C.jsx("a",{className:"block w-full text-left data-[focus]:bg-blue-100 px-2 py-1 hover:cursor-pointer",onClick:()=>{l(v.original.id),p(v.original.role),d(!0)},children:"Update Role"})}),C.jsx(Hc,{children:C.jsx("button",{className:"block w-full text-left data-[focus]:bg-blue-100 px-2 py-1",onClick:()=>_(v.original.id),children:"Delete"})}),C.jsx(Hc,{children:C.jsx("button",{className:"block w-full text-left data-[focus]:bg-blue-100 px-2 py-1",onClick:()=>m(v.original.email,v.original.id,v.original.is_active),children:v.original.is_active?"Disable":"Enable"})})]})]})}];return C.jsxs(C.Fragment,{children:[C.jsx(a_,{data:n,columns:y}),u&&C.jsx(Ws,{children:C.jsxs("div",{className:"w-72",children:[C.jsxs("div",{className:"flex justify-between mb-5 font-bold text-md",children:[C.jsx("h1",{children:"Update User Role"}),C.jsx("button",{onClick:()=>{p(""),d(!1)},children:C.jsx("i",{className:"fa-solid fa-xmark"})})]}),C.jsxs("form",{children:[C.jsxs("div",{className:"mb-4",children:[C.jsx("label",{className:"block mb-2 text-sm font-bold text-gray-700",htmlFor:"role",children:"Role"}),C.jsxs("div",{className:"relative",children:[C.jsxs("select",{className:"block w-full px-4 py-2 pr-8 leading-tight text-gray-700 bg-white border rounded shadow appearance-none focus:outline-none focus:shadow-outline",id:"role",name:"role",value:h,onChange:v=>p(v.target.value),defaultValue:"superadmin",children:[C.jsx("option",{value:"superadmin",children:"Superadmin"}),C.jsx("option",{value:"admin",children:"Admin"})]}),C.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 pointer-events-none",children:C.jsx("svg",{className:"w-4 h-4 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:C.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),C.jsx("div",{className:"flex items-center justify-end",children:C.jsx("button",{className:"px-4 py-2 text-sm font-bold text-white bg-gray-900 rounded hover:bg-gray-950 focus:outline-none focus:shadow-outline disabled:bg-gray-500",type:"button",onClick:()=>x(a,h),children:"Update Role"})})]})]})})]})},EG=()=>{Lo();const[e,t]=S.useState(!1),[n,r]=S.useState(!1),[i,o]=S.useState(!0),[s,a]=S.useState(!1),{addUser:l,setUsers:u}=$R(),[d,h]=S.useState({email:"",role:"superadmin",password:"",checkPassword:"",adminPassword:""}),p=[{name:"Dashboard",path:"/dashboard"},{name:"Users",path:"/dashboard/users"}],f=x=>{const{name:y,value:v}=x.target;h(E=>({...E,[y]:v}))};S.useEffect(()=>{o(d.password===d.checkPassword)},[d.password,d.checkPassword]),S.useEffect(()=>{const x=oV(Ah(Dn,"users"),y=>{const v=y.docs.map(E=>({id:E.id,...E.data()}));u(v)});return()=>x()},[]);const m=async()=>{if(!d.email||!d.password||!d.checkPassword||!d.role||!d.adminPassword){alert("Please fill in all required fields");return}if(!d.adminPassword){alert("Please enter your admin password");return}if(window.confirm("Are you sure? Please check the input again before submitting")){r(!0);try{await g7(d.email,d.password,d.role,d.adminPassword),alert("Success! User created."),l({email:d.email,role:d.role}),h({email:"",password:"",checkPassword:"",adminPassword:""}),t(!1)}catch(y){alert("Failed to add new user: "+y.message),r(!1)}finally{r(!1)}r(!1)}},_=async x=>{r(!0),x.preventDefault(),await m(),a(!1),r(!1)};return C.jsxs(_u,{children:[C.jsx(wu,{name:"Users",breadcrumbPath:p}),C.jsxs("div",{className:"mt-14",children:[C.jsx("div",{className:"flex justify-end",children:C.jsx("button",{className:"px-4 py-2 text-sm text-white bg-gray-900 rounded hover:bg-gray-950",onClick:()=>{t(!0),h({email:"",password:"",checkPassword:"",adminPassword:"",role:"superadmin"})},children:"Create new user"})}),C.jsx("div",{className:"mt-5",children:C.jsx(wG,{isSubmitting:n})})]}),e&&C.jsx(Ws,{children:C.jsxs("div",{children:[C.jsxs("div",{className:"flex justify-between mb-5 font-bold text-md",children:[C.jsx("h1",{children:"Add new user"}),C.jsx("button",{onClick:()=>t(!1),children:C.jsx("i",{className:"fa-solid fa-xmark"})})]}),C.jsxs("form",{onSubmit:x=>{x.preventDefault(),a(!0),t(!1)},encType:"multipart/form-data",children:[C.jsxs("div",{className:"mb-4",children:[C.jsx("label",{className:"block mb-2 text-sm font-bold text-gray-700",htmlFor:"email",children:"Email"}),C.jsx("input",{className:"w-full px-3 py-2 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline",id:"email",name:"email",value:d.email,onChange:f,type:"email",placeholder:"Email",required:!0})]}),C.jsxs("div",{className:"mb-4",children:[C.jsx("label",{className:"block mb-2 text-sm font-bold text-gray-700",htmlFor:"password",children:"Password"}),C.jsx("input",{className:"w-full px-3 py-2 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline",id:"password",name:"password",value:d.password,onChange:f,type:"password",placeholder:"password",required:!0})]}),C.jsxs("div",{className:"mb-4",children:[C.jsx("label",{className:"block mb-2 text-sm font-bold text-gray-700",htmlFor:"checkPassword",children:"Enter password again"}),C.jsx("input",{className:"w-full px-3 py-2 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline",id:"checkPassword",name:"checkPassword",value:d.checkPassword,onChange:f,type:"password",placeholder:"Enter password again",required:!0}),!i&&C.jsx("p",{className:"mt-1 text-red-500 text-xs",children:"Password not match"})]}),C.jsxs("div",{className:"mb-4",children:[C.jsx("label",{className:"block mb-2 text-sm font-bold text-gray-700",htmlFor:"role",children:"Role"}),C.jsxs("div",{className:"relative",children:[C.jsxs("select",{className:"block w-full px-4 py-2 pr-8 leading-tight text-gray-700 bg-white border rounded shadow appearance-none focus:outline-none focus:shadow-outline",id:"role",name:"role",value:d.role,onChange:f,defaultValue:"superadmin",children:[C.jsx("option",{value:"superadmin",children:"Superadmin"}),C.jsx("option",{value:"admin",children:"Admin"})]}),C.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 pointer-events-none",children:C.jsx("svg",{className:"w-4 h-4 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:C.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),C.jsx("div",{className:"flex items-center justify-end",children:C.jsx("button",{className:"px-4 py-2 text-sm font-bold text-white bg-gray-900 rounded hover:bg-gray-950 focus:outline-none focus:shadow-outline disabled:bg-gray-500",type:"submit",children:"Add new user"})})]})]})}),s&&C.jsx(Ws,{children:C.jsxs("div",{children:[C.jsxs("div",{className:"flex justify-between mb-5 font-bold text-md",children:[C.jsx("h1",{children:"Credential check"}),C.jsx("button",{onClick:()=>{a(!1),t(!0)},children:C.jsx("i",{className:"fa-solid fa-xmark"})})]}),C.jsxs("form",{onSubmit:_,encType:"multipart/form-data",children:[C.jsxs("div",{className:"mb-4",children:[C.jsx("label",{className:"block mb-2 text-sm font-bold text-gray-700",htmlFor:"adminPassword",children:"Password"}),C.jsx("input",{className:"w-full px-3 py-2 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline",id:"adminPassword",name:"adminPassword",value:d.adminPassword,onChange:f,type:"password",placeholder:"Enter your account password",required:!0})]}),C.jsx("div",{className:"flex items-center justify-end",children:C.jsx("button",{className:"px-4 py-2 text-sm font-bold text-white bg-gray-900 rounded hover:bg-gray-950 focus:outline-none focus:shadow-outline disabled:bg-gray-500",type:"submit",disabled:n,children:n?"Adding new user...":"Add new user"})})]})]})})]})},SG=()=>{const e=Lo(),[t,n]=S.useState(""),[r,i]=S.useState(""),[o,s]=S.useState(!1),[a,l]=S.useState(""),[u,d]=S.useState(!1),{user:h,setUser:p}=Wr(),f=async m=>{m.preventDefault();try{d(!0);const x=(await BA(br,t,r)).user,y=Ki(Dn,"users",x.uid),v=await lv(y);if(v.exists()){const E=v.data();s(!1),p({...h,role:E.role,email:v.email})}else throw new Error("User data not found in Firestore");d(!1),e("/dashboard"),window.location.reload()}catch(_){console.log({error:_});const x=_.message;s(!0),x=="Firebase: Error (auth/too-many-requests)."?l("Terlalu banyak percobaan, silahkan coba lagi beberapa saat"):x=="Firebase: Error (auth/user-disabled)."?l("Akun in dalam keadaan tidak aktif atau disable"):l("Email atau password salah"),d(!1)}};return C.jsx(C.Fragment,{children:C.jsx("div",{className:"flex h-screen justify-center items-center",children:C.jsxs("form",{className:"flex flex-col gap-5 border rounded py-5 px-10 shadow",onSubmit:f,children:[C.jsx("div",{className:"text-center text-xl font-medium",children:"Login Form"}),C.jsxs("div",{className:"flex flex-col gap-2",children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700",htmlFor:"email",children:"Email"}),C.jsx("input",{className:"w-full px-3 py-2 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline",id:"email",name:"email",type:"email",value:t,onChange:m=>n(m.target.value),required:!0}),C.jsxs("div",{className:"flex flex-col gap-1",children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700",htmlFor:"password",children:"Passoword"}),C.jsx("input",{className:"w-full px-3 py-2 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline",id:"passwrd",name:"password",type:"password",value:r,onChange:m=>i(m.target.value),required:!0}),o&&C.jsx("div",{className:"text-wrap text-sm font-medium text-red-500 max-w-[274px]",children:a})]})]}),C.jsxs("div",{className:"flex flex-col gap-2",children:[C.jsx("button",{type:"submit",className:`px-4 py-2 bg-black hover:bg-gray-800 text-white rounded ${u?"bg-gray-800":""} `,children:u?"Login...":"Login"}),C.jsx(ir,{to:"/forgot-password",className:"text-center text-black hover:text-gray-800",href:"#",children:"Forgot Password"})]})]})})})};function Np({children:e}){const t=Lo(),{user:n,loading:r}=Wr();return S.useRef(!1),S.useEffect(()=>{!r&&!n&&t("/login")},[n,r,t]),r?C.jsx("p",{children:"Loading..."}):n?e:null}const CG=({children:e})=>{const{user:t,loading:n}=Wr(),r=Lo(),i=S.useRef(!1);return S.useEffect(()=>{t||r("/login"),t&&t.role!=="superadmin"&&!i.current&&(i.current=!0,r("/dashboard"))},[t,n,r]),n?C.jsx("p",{children:"Loading..."}):(t==null?void 0:t.role)==="superadmin"?e:null},IG=()=>C.jsx("div",{className:"flex flex-col justify-center items-center min-h-screen w-full",children:C.jsx("p",{children:"Page Not Found"})}),xG=()=>{const[e,t]=S.useState(""),[n,r]=S.useState(!1),[i,o]=S.useState(!0),s=async a=>{a.preventDefault();try{if(r(!0),await p7(e)==!1){o(!1);return}await iU(br,e),alert(`Success send reset password email to ${e}`)}catch{alert("Failed to send password reset email. Please try again.")}finally{r(!1)}};return C.jsx(C.Fragment,{children:C.jsx("div",{className:"flex h-screen justify-center items-center",children:C.jsxs("form",{className:"flex flex-col gap-5 border rounded py-5 px-10 shadow max-w-[356px]",onSubmit:s,children:[C.jsx("div",{className:"text-center text-xl font-medium",children:"Recovery password form"}),C.jsxs("div",{className:"flex flex-col gap-2",children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700",htmlFor:"email",children:"Email"}),C.jsx("input",{className:"w-full px-3 py-2 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline",id:"email",name:"email",type:"email",value:e,onChange:a=>t(a.target.value),required:!0}),!i&&C.jsx("p",{className:"text-xs text-red-500",children:`User with email ${e} not found`}),C.jsx("p",{className:"text-xs text-gray-500",children:"Make sure you type right email, we will send recovery password link to your email"})]}),C.jsxs("div",{className:"flex flex-col gap-2",children:[C.jsx("button",{type:"submit",className:`px-4 py-2 bg-black hover:bg-gray-800 text-white rounded ${n?"bg-gray-800":""} `,children:n?"Send email...":"Send email"}),C.jsx(ir,{to:"/login",className:"text-center text-black hover:text-gray-800",href:"#",children:"Already know the password"})]})]})})})},AG=()=>{const{user:e}=Wr(),t=[{name:"Dashboard",path:"/dashboard"},{name:e.email,path:`/dashboard/users/${e.uid}`}];return C.jsxs(_u,{children:[C.jsx(wu,{name:"User Profile",breadcrumbPath:t}),C.jsx("div",{className:"mt-14",children:e.email})]})},TG=({children:e})=>{const t=Lo(),{user:n,loading:r}=Wr();return S.useRef(!1),S.useEffect(()=>{!r&&!n&&t("/login")},[n,r,t]),r?C.jsx("p",{children:"Loading..."}):n?e:null};function PG(){const{user:e}=S.useContext(r_);return e===void 0?null:C.jsxs(NO,{children:[C.jsx(Zn,{path:"/",element:C.jsx(l7,{})}),C.jsx(Zn,{path:"/dashboard",element:C.jsx(Np,{children:C.jsx(w7,{})})}),C.jsx(Zn,{path:"/login",element:C.jsx(SG,{})}),C.jsx(Zn,{path:"/forgot-password",element:C.jsx(xG,{})}),C.jsx(Zn,{path:"/dashboard/languages",element:C.jsx(Np,{children:C.jsx(gG,{})})}),C.jsx(Zn,{path:"/dashboard/collections",element:C.jsx(Np,{children:C.jsx(vG,{})})}),C.jsx(Zn,{path:"/dashboard/users",element:C.jsx(CG,{children:C.jsx(EG,{})})}),C.jsx(Zn,{path:"/dashboard/users/:uid",element:C.jsx(TG,{children:C.jsx(AG,{})})}),C.jsx(Zn,{path:"*",element:C.jsx(IG,{})})]})}Cx(document.getElementById("root")).render(C.jsx(iN,{children:C.jsx(S.StrictMode,{children:C.jsx(I4,{children:C.jsx(fG,{children:C.jsx(_G,{children:C.jsx(y7,{children:C.jsx(PG,{})})})})})})}));
